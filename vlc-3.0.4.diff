--- vlc-3.0.4/modules/lua/vlc.h.orig	2017-11-24 15:29:18.000000000 +0000
+++ vlc-3.0.4/modules/lua/vlc.h	2018-11-30 20:46:52.191555381 +0000
@@ -37,6 +37,7 @@
 #include <vlc_strings.h>
 #include <vlc_stream.h>
 #include <vlc_demux.h>
+#define LUA_COMPAT_APIINTCASTS
 
 #define LUA_COMPAT_MODULE
 #include <lua.h>        /* Low level lua C API */
