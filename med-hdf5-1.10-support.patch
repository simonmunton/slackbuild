Description: HDF5 1.10 introduces a major change: the hid_t type is now
 'long long int' instead of 'int'. This patch fixes MED where need be.
 Many thanks to upstream author Éric Fayolle who provided valuable
 help.
Author: Gilles Filippini <pini@debian.org>
Index: med-fichier-3.0.6/src/2.3.6/ci/MEDequivInfo.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/ci/MEDequivInfo.c
+++ med-fichier-3.0.6/src/2.3.6/ci/MEDequivInfo.c
@@ -24,7 +24,7 @@
 #include <stdlib.h>
 
 int
-MEDequivInfo(int fid, char *maa, int ind, char *eq, char *des)
+MEDequivInfo(med_idt fid, char *maa, int ind, char *eq, char *des)
 {
   med_idt eqid;
   med_err ret;
Index: med-fichier-3.0.6/include/2.3.6/med_proto.h
===================================================================
--- med-fichier-3.0.6.orig/include/2.3.6/med_proto.h
+++ med-fichier-3.0.6/include/2.3.6/med_proto.h
@@ -247,7 +247,7 @@ MEDjointCr(med_idt fid,char *maa_lcl, ch
 	   med_int dom,char *maa_dist);
 
 MEDC_EXPORT med_err
-MEDjointInfo(int fid,  char *maa_lcl,  int ind, char *jn, char *des,
+MEDjointInfo(med_idt fid,  char *maa_lcl,  int ind, char *jn, char *des,
              med_int *dom, char *maa_dist);
 
 MEDC_EXPORT med_int
Index: med-fichier-3.0.6/src/hdfi/_MEDattributeStringWr.c
===================================================================
--- med-fichier-3.0.6.orig/src/hdfi/_MEDattributeStringWr.c
+++ med-fichier-3.0.6/src/hdfi/_MEDattributeStringWr.c
@@ -30,7 +30,7 @@ med_err _MEDattributeStringWr(med_idt pi
   med_access_mode MED_ACCESS_MODE;
   med_idt _attid=0,aid=0;
   med_err _ret=-1;
-  int     type_hdf=0;
+  med_idt  type_hdf=0;
   med_bool        _attmustbecreated= MED_FALSE;
   hsize_t         _attsize=0;
   med_size        _valsize=0;
Index: med-fichier-3.0.6/src/hdfi/_MEDattributeNumRdByName.c
===================================================================
--- med-fichier-3.0.6.orig/src/hdfi/_MEDattributeNumRdByName.c
+++ med-fichier-3.0.6/src/hdfi/_MEDattributeNumRdByName.c
@@ -27,7 +27,7 @@ med_err _MEDattributeNumRdByName(med_idt
 {
   med_idt _attid=0;
   med_err _ret=-1;
-  int type_hdf;
+  med_idt  type_hdf;
 
   switch(type)
     {
Index: med-fichier-3.0.6/src/hdfi/_MEDattributeNumWr.c
===================================================================
--- med-fichier-3.0.6.orig/src/hdfi/_MEDattributeNumWr.c
+++ med-fichier-3.0.6/src/hdfi/_MEDattributeNumWr.c
@@ -32,7 +32,7 @@ med_err _MEDattributeNumWr(med_idt pid,
 {
   med_idt _attid=0,aid=0;
   med_err _ret=-1;
-  int     type_hdf;
+  med_idt  type_hdf;
   med_access_mode MED_ACCESS_MODE;
   H5O_info_t      _oinfo;
 
@@ -90,13 +90,15 @@ med_err _MEDattributeNumWr(med_idt pid,
   } else {
     if ( (_attid=H5Acreate( pid, attname, type_hdf, aid, H5P_DEFAULT )) < 0 ) {
       MED_ERR_(_ret,MED_ERR_CREATE,MED_ERR_ATTRIBUTE, attname );
+      /* H5Eprint1(stderr); */
       goto ERROR;
     }
   }
 
   if ( H5Awrite(_attid, type_hdf,val) < 0) {
     MED_ERR_(_ret,MED_ERR_WRITE,MED_ERR_ATTRIBUTE, attname );
-    H5Eprint1(stderr);goto ERROR;
+    /* H5Eprint1(stderr); */
+    goto ERROR;
   }
 
   _ret=0;
@@ -112,7 +114,7 @@ med_err _MEDattributeNumWr(med_idt pid,
     MED_ERR_(_ret,MED_ERR_CLOSE,MED_ERR_ATTRIBUTE, MED_ERR_ID_MSG );
     ISCRUTE_id(_attid);
   }
-
+  
   return _ret;
 
 }
Index: med-fichier-3.0.6/src/hdfi/_MEDdatasetWr.c
===================================================================
--- med-fichier-3.0.6.orig/src/hdfi/_MEDdatasetWr.c
+++ med-fichier-3.0.6/src/hdfi/_MEDdatasetWr.c
@@ -30,7 +30,7 @@ med_err _MEDdatasetWr(const med_idt
   med_idt         _dataset=0, _dataspace=0,_datadiskspace=0;
   med_size        _datasetsize[1]={0};
   med_err         _ret=-1;
-  int             _hdftype=0;
+  med_idt         _hdftype=0;
   int             _datasetsizeEqualTosizespace = 0;
   med_access_mode _MED_ACCESS_MODE;
   med_int         _nvaluesperentity=0,_nconstituentpervalue=0;
Index: med-fichier-3.0.6/src/hdfi/_MEDlinkObjs.c
===================================================================
--- med-fichier-3.0.6.orig/src/hdfi/_MEDlinkObjs.c
+++ med-fichier-3.0.6/src/hdfi/_MEDlinkObjs.c
@@ -27,7 +27,7 @@ med_err _MEDlinkobjs(med_idt id,const ch
   med_err  _ret=-1;
   med_idt  _gid=0,_gid1=0,_gid2=0;
   med_idt  _attid_src=0,_attid_dst=0,_attspace=0;
-  int      _atttype=0;
+  med_idt  _atttype=0;
   char     _attname[MED_TAILLE_NOM_ENTITE+1];
   char     _attvalue[MED_COMMENT_SIZE+1]=""; /*Plus grande taille d'attributs possible*/
   char    *_attvalueptr=_attvalue;
Index: med-fichier-3.0.6/src/hdfi/_MEDdatasetRd.c
===================================================================
--- med-fichier-3.0.6.orig/src/hdfi/_MEDdatasetRd.c
+++ med-fichier-3.0.6/src/hdfi/_MEDdatasetRd.c
@@ -31,7 +31,7 @@ med_err _MEDdatasetRd(const med_idt
   med_idt         _dataset=0, _dataspace=0;
   med_size        _datasetsize[1]={0};
   med_err         _ret=-1;
-  int             _hdftype=0;
+  med_idt         _hdftype=0;
   int             _datasetsizeEqualTosizespace = 0;
   med_access_mode _MED_ACCESS_MODE;
   med_int         _nvaluesperentity=0,_nconstituentpervalue=0;
Index: med-fichier-3.0.6/src/hdfi/_MEDattributeStringRdByName.c
===================================================================
--- med-fichier-3.0.6.orig/src/hdfi/_MEDattributeStringRdByName.c
+++ med-fichier-3.0.6/src/hdfi/_MEDattributeStringRdByName.c
@@ -29,7 +29,7 @@ med_err _MEDattributeStringRdByName(med_
 {
   med_err _ret=-1;
   med_idt _attid=0;
-  int     type_hdf=0;
+  med_idt  type_hdf=0;
 
   if ( (type_hdf = H5Tcopy(H5T_C_S1)) < 0) {
     MED_ERR_(_ret,MED_ERR_CREATE,MED_ERR_HDFTYPE, MED_ERR_NAME_MSG );
Index: med-fichier-3.0.6/src/hdfi/_MEDattributeNumWrByName.c
===================================================================
--- med-fichier-3.0.6.orig/src/hdfi/_MEDattributeNumWrByName.c
+++ med-fichier-3.0.6/src/hdfi/_MEDattributeNumWrByName.c
@@ -32,7 +32,7 @@ med_err _MEDattributeNumWrByName(med_idt
 {
   med_idt _attid=0,aid=0;
   med_err _ret=-1;
-  int     type_hdf;
+  med_idt  type_hdf;
   med_access_mode MED_ACCESS_MODE;
   H5O_info_t      _oinfo;
 
Index: med-fichier-3.0.6/src/hdfi/_MEDfileCreate.c
===================================================================
--- med-fichier-3.0.6.orig/src/hdfi/_MEDfileCreate.c
+++ med-fichier-3.0.6/src/hdfi/_MEDfileCreate.c
@@ -49,6 +49,12 @@ H5AC_cache_config_t config;
     goto ERROR;
   }
 
+  /*
+   * Cette ligne est censÃ©e obliger HDF Ã  ne pas utiliser un modÃ¨le interne supÃ©rieur Ã  1.8.z
+   * En HDF5-1.10.0p1 cela n'a aucun effet ! 
+   * Un test autoconf permet de fixer un intervalle de version HDF Ã  MED.
+   */
+    
   if ( H5Pset_libver_bounds( _fapl, H5F_LIBVER_18, H5F_LIBVER_18 ) ) {
     MED_ERR_(_fid,MED_ERR_INIT,MED_ERR_PROPERTY,MED_ERR_FILEVERSION_MSG);
     goto ERROR;
Index: med-fichier-3.0.6/src/hdfi/_MEDattributeStringWrByName.c
===================================================================
--- med-fichier-3.0.6.orig/src/hdfi/_MEDattributeStringWrByName.c
+++ med-fichier-3.0.6/src/hdfi/_MEDattributeStringWrByName.c
@@ -31,7 +31,7 @@ med_err _MEDattributeStringWrByName(med_
   med_access_mode MED_ACCESS_MODE;
   med_idt _attid=0,aid=0;
   med_err _ret=-1;
-  int     type_hdf=0;
+  med_idt  type_hdf=0;
   med_bool        _attmustbecreated= MED_FALSE;
   hsize_t         _attsize=0;
   med_size        _valsize=0;
Index: med-fichier-3.0.6/src/misc/MEDversionedApi3.cxx
===================================================================
--- med-fichier-3.0.6.orig/src/misc/MEDversionedApi3.cxx
+++ med-fichier-3.0.6/src/misc/MEDversionedApi3.cxx
@@ -88,7 +88,7 @@ void MED_VERSIONED_API3::f77ApiIsSet() {
 // Si une nouvelle version majeure d'hdf est utilisÃ©e et qu'elle est incompatible avec l'ancienne le numÃ©ro majeur devrait
 // Ãªtre Ã©galement augmentÃ©.
 //
-// Si le numÃ©ro de version mineur de la bibliothÃ¨que avec laquelle le fichier a Ã©tÃ© crÃ©e est supÃ¨rieur Ã  celui de la
+// Si le numÃ©ro de version mineur de la bibliothÃ¨que avec laquelle le fichier a Ã©tÃ© crÃ©e est supÃ©rieur Ã  celui de la
 // version de bibliothÃ¨que utilisÃ©e la bibliothÃ¨que doit renvoyer une erreur.
 //
 // Ceci implique qu'un ajout dans la table de versionement suppose l'incrÃ©ment du numÃ©ro mineur de
Index: med-fichier-3.0.6/src/fi/medfile.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medfile.f
+++ med-fichier-3.0.6/src/fi/medfile.f
@@ -22,15 +22,15 @@ c
       implicit none
       save
       character *(*) name
-      integer fid
+      integer*8 fid
       integer access,cret
-      integer mfifope
+      integer*8 mfifope
 c
       fid = mfifope(name, access, len(name))
       if (fid.lt.0) then
-         cret=-1
+         cret = fid
       else
-         cret=0
+         cret = 0
       endif
 c      
       return
@@ -44,7 +44,8 @@ c
       implicit none
       save
 c
-      integer fid,cret
+      integer*8 fid
+      integer cret
       integer mfifclo
 c
       cret = mfifclo(fid)
@@ -60,7 +61,8 @@ c
       implicit none
       save
 c
-      integer fid,cret
+      integer*8 fid
+      integer cret
       character*(*) cmt
       integer mfifcow
 c
@@ -76,7 +78,8 @@ c
       implicit none
       save
 c
-      integer fid,cret
+      integer*8 fid
+      integer cret
       character*(*) cmt
       integer mfifcor
 c
@@ -93,7 +96,8 @@ c
       implicit none
       save
 c
-      integer fid,major, minor,rel
+      integer*8 fid
+      integer major, minor,rel
       integer cret
       integer mfifnvr
 c
@@ -110,7 +114,8 @@ c
       save
 c
       character*(*) version
-      integer cret,fid
+      integer*8 fid
+      integer cret
       integer mfifsvr
 c
       cret =  mfifsvr(fid,version,len(version))
@@ -145,8 +150,9 @@ c
       save
 c
       character *(*) fname
-      integer class, fid, mid , cret
-      integer mfifomn
+      integer*8 fid, mid
+      integer class, cret
+      integer*8 mfifomn
 c
       mid =  mfifomn(fid, fname, len(fname), class)
       if (mid .eq.-1) then
@@ -167,7 +173,8 @@ c
       implicit none
       save
 c
-      integer mid, fid, class, cret
+      integer*8 mid, fid
+      integer class, cret
       integer mfifoun
 c
       cret = mfifoun(fid, mid, class)
Index: med-fichier-3.0.6/src/cfi/filecf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/filecf.c
+++ med-fichier-3.0.6/src/cfi/filecf.c
@@ -50,20 +50,20 @@ From Fortran call of following C functio
 
 
 #ifdef PPRO_NT
-med_int
+med_idt
 MFIFOPE(const char const *name,
 		const unsigned int bidon,
 		  const int const *access, 
 		  const med_int const *len)
 #else
-med_int
+med_idt
 nmfifope (const char const *name,
 	  const int const *access, 
 	  const med_int const *len)
 #endif
 {
   char *_fn;
-  med_int _ret;
+  med_idt _ret;
   med_access_mode _access;
 
   /* Cette mÃ©thode a pour unique but de forcer la construction
@@ -74,12 +74,11 @@ nmfifope (const char const *name,
   f77Api3IsSet(MedVersionedApi3F);
 
   _fn = _MED2cstring((char *) name, (int) *len);
-  if (!_fn)
-	return(-1);
+  if (!_fn) return(-1);
   _access = (med_access_mode) *access;
   
-  _ret = (med_int) MEDfileOpen(_fn, _access); 
-
+  _ret = (med_idt) MEDfileOpen(_fn, _access); 
+  /* ISCRUTE_long(_ret); */
   _MEDcstringFree(_fn);
 
   return(_ret); 
@@ -89,15 +88,15 @@ nmfifope (const char const *name,
 
 #ifdef PPRO_NT
 med_int
-MFIFCLO(med_int *fid)
+MFIFCLO(med_idt *fid)
 #else
 med_int
-nmfifclo(med_int *fid)
+nmfifclo(med_idt *fid)
 #endif
 {
   med_int _ret;
 
-  _ret = (med_int) MEDfileClose((med_idt) *fid);
+  _ret = (med_int) MEDfileClose(*fid);
 
   return(_ret);
 }
@@ -106,13 +105,13 @@ nmfifclo(med_int *fid)
 
 #ifdef PPRO_NT
 med_int
-MFIFCOW(const med_int const *fid,
-		  const char const *comment,
-		  const unsigned int bidon,
-		  const med_int *commentlen)
+MFIFCOW(const med_idt const *fid,
+	const char const *comment,
+	const unsigned int bidon,
+	const med_int *commentlen)
 #else
 med_int
-nmfifcow(const med_int const *fid,
+nmfifcow(const med_idt const *fid,
 	 const char const *comment,
 	 const med_int *commentlen)
 #endif
@@ -124,7 +123,7 @@ nmfifcow(const med_int const *fid,
   if (!_fs1)
 	return(-1);
 
-  _ret = (med_int) MEDfileCommentWr((med_idt) *fid, _fs1);
+  _ret = (med_int) MEDfileCommentWr(*fid, _fs1);
 
   _MEDcstringFree(_fs1);
 
@@ -135,13 +134,13 @@ nmfifcow(const med_int const *fid,
 
 #ifdef PPRO_NT
 med_int
-MFIFCOR(const med_int const *fid,
+MFIFCOR(const med_idt const *fid,
 		  char const *comment,
 		  const unsigned int bidon,
 		  const med_int *commentlen)
 #else
 med_int
-nmfifcor(const med_int const *fid,
+nmfifcor(const med_idt const *fid,
 	 char const *comment,
 	 const med_int *commentlen)
 #endif
@@ -149,7 +148,7 @@ nmfifcor(const med_int const *fid,
   med_int _ret;
   char _fs1[MED_COMMENT_SIZE+1]="";
 
-  _ret = (med_int) MEDfileCommentRd((med_idt) *fid,_fs1);
+  _ret = (med_int) MEDfileCommentRd(*fid,_fs1);
 
   _MEDc2fString(_fs1,(char*)comment,*commentlen);
 
@@ -160,13 +159,13 @@ nmfifcor(const med_int const *fid,
 
 #ifdef PPRO_NT
 med_int
-MFIFNVR(const med_int const *fid,
+MFIFNVR(const med_idt const *fid,
 		  med_int* const major, 
 		  med_int* const minor, 
 		  med_int* const release)
 #else
 med_int
-nmfifnvr(const med_int const *fid,
+nmfifnvr(const med_idt const *fid,
 	 med_int* const major, 
 	 med_int* const minor, 
 	 med_int* const release)
@@ -174,7 +173,7 @@ nmfifnvr(const med_int const *fid,
 {
   med_int _ret;
   
-  _ret = (med_int) MEDfileNumVersionRd((med_idt) *fid,major,minor,release);
+  _ret = (med_int) MEDfileNumVersionRd(*fid,major,minor,release);
 
   return(_ret);
 }
@@ -183,13 +182,13 @@ nmfifnvr(const med_int const *fid,
 
 #ifdef PPRO_NT
 med_int
-MFIFSVR(const med_int const *fid,
+MFIFSVR(const med_idt const *fid,
 		  char* const medversion, 
 		  const unsigned int bidon, 
 		  const med_int const *len)
 #else
 med_int
-nmfifsvr(const med_int const *fid,
+nmfifsvr(const med_idt const *fid,
 	 char* const medversion, 
 	 const med_int const *len)
 #endif
@@ -197,7 +196,7 @@ nmfifsvr(const med_int const *fid,
   med_int _ret;
   char    _fs1[20]="";
 
-  _ret = (med_int) MEDfileStrVersionRd((med_idt) *fid, _fs1);
+  _ret = (med_int) MEDfileStrVersionRd(*fid, _fs1);
 
   _MEDc2fString(_fs1,medversion,*len);
 
@@ -240,29 +239,29 @@ nmfifcom(const char const *name,
 
 
 #ifdef PPRO_NT
-med_int
-MFIFOMN (med_int  *fid,
+med_idt
+MFIFOMN (med_idt *fid,
 		   char *fname,
 		   unsigned int bidon,
 		   med_int *len,
 		   med_int *class)
 #else
-med_int
-nmfifomn(med_int  *fid,
+med_idt
+nmfifomn(med_idt *fid,
 	 char *fname,
 	 med_int  *len,
 	 med_int *class)
 #endif
 {
   char *_fn;
-  med_int _ret;
+  med_idt _ret;
   med_class _class = (med_class) *class;
 
   _fn = _MED2cstring((char *) fname, (int) *len);
   if (!_fn)
     return(-1);
 
-  _ret = (med_int) MEDfileObjectsMount((med_idt) *fid, _fn, _class );
+  _ret = (med_idt) MEDfileObjectsMount(*fid, _fn, _class );
 
   _MEDcstringFree(_fn);
 
@@ -271,21 +270,21 @@ nmfifomn(med_int  *fid,
 
 #ifdef PPRO_NT
 med_int
-MFIFOUN (const med_int const *fid,
-		   med_int const *mid,
-		   const med_int const *class)
+MFIFOUN (const med_idt const *fid,
+	       med_idt const *mid,
+         const med_int const *class)
 #else
 med_int
-nmfifoun(const med_int const *fid,
-	 med_int const *mid,
+nmfifoun(const med_idt const *fid,
+	       med_idt const *mid,
 	 const med_int const *class)
 #endif
 {
   med_int _ret;
   med_class _class = (med_class) *class;
 
-  _ret = (med_int) MEDfileObjectsUnmount((med_idt) *fid, 
-					 (med_idt) *mid,
+  _ret = (med_int) MEDfileObjectsUnmount(*fid, 
+					 *mid,
 					 _class);
 
   return(_ret); 
Index: med-fichier-3.0.6/src/2.3.6/hdfi/MEDobjetIdentifer.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/hdfi/MEDobjetIdentifer.c
+++ med-fichier-3.0.6/src/2.3.6/hdfi/MEDobjetIdentifer.c
@@ -41,7 +41,8 @@ _MEDobjetIdentifier(med_idt fid,char *ch
   if ((idx = H5Giterate(fid,chemin,&indice,_MEDindiceInfo,
 			nom)) < 0)
     return -1;
-
+    /* {  H5Eprint1(stderr);return -1;} */
+  ;
   return 0;
 }
 
Index: med-fichier-3.0.6/src/2.3.6/hdfi/MEDdatasetNumLire231.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/hdfi/MEDdatasetNumLire231.c
+++ med-fichier-3.0.6/src/2.3.6/hdfi/MEDdatasetNumLire231.c
@@ -60,7 +60,8 @@ void  _MEDdatasetNumLire231(int dummy,..
   med_size   start_mem[1],start_data[1],*pflmem=0,*pfldsk=0;
   med_size   stride[1],count[1],pcount[1],size[1],pflsize[1];
   med_err    ret;
-  int        i,j,index,type_hdf;
+  int        i,j,index;
+  med_idt    type_hdf;
   hid_t      datatype;
   size_t     typesize;
   int        dim, firstdim, dimutil, lastdim;
Index: med-fichier-3.0.6/src/2.3.6/hdfi/MEDdatasetNumLire232.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/hdfi/MEDdatasetNumLire232.c
+++ med-fichier-3.0.6/src/2.3.6/hdfi/MEDdatasetNumLire232.c
@@ -71,7 +71,8 @@ void  _MEDdatasetNumLire232(int dummy,..
   med_size   start_mem[1],start_data[1],*pflmem=0,*pfldsk=0;
   med_size   stride[1],count[1],pcount[1],size[1],pflsize[1];
   med_err    ret;
-  int        i,j,index,type_hdf;
+  med_idt    i,j,index;
+  med_idt    type_hdf;
   hid_t      datatype;
   size_t     typesize;
   int        dim, firstdim, dimutil, lastdim;
Index: med-fichier-3.0.6/src/2.3.6/hdfi/MEDattrNumEcrire.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/hdfi/MEDattrNumEcrire.c
+++ med-fichier-3.0.6/src/2.3.6/hdfi/MEDattrNumEcrire.c
@@ -36,7 +36,7 @@ med_err _MEDattrNumEcrire(med_idt pere,m
 {
   med_idt aid,attr;
   med_err ret;
-  int type_hdf;
+  med_idt type_hdf;
   med_mode_acces MED_MODE_ACCES;
 
   if ( (MED_MODE_ACCES = _MEDmodeAcces(pere) ) == MED_UNDEF_MODE_ACCES ) {
Index: med-fichier-3.0.6/src/2.3.6/hdfi/MEDdatasetNumEcrire231.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/hdfi/MEDdatasetNumEcrire231.c
+++ med-fichier-3.0.6/src/2.3.6/hdfi/MEDdatasetNumEcrire231.c
@@ -62,7 +62,8 @@ void  _MEDdatasetNumEcrire231(int dummy,
   med_size   start_mem[1],start_data[1],*pflmem,*pfldsk;
   med_size   stride[1],count[1],pcount[1],pflsize[1];
   med_err    ret;
-  int        i,j,index,type_hdf;
+  int        i,j,index;
+  med_idt    type_hdf;
   int        dim, firstdim, dimutil, lastdim ;
   med_mode_acces MED_MODE_ACCES;
 
Index: med-fichier-3.0.6/src/2.3.6/hdfi/MEDdatasetNumEcrire232.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/hdfi/MEDdatasetNumEcrire232.c
+++ med-fichier-3.0.6/src/2.3.6/hdfi/MEDdatasetNumEcrire232.c
@@ -72,7 +72,8 @@ void  _MEDdatasetNumEcrire232(int dummy,
   med_size   stride[1],count[1],pcount[1],pflsize[1];
   med_size   datasetsize[1], countncmp=0;
   med_err    ret=-1;
-  int        i=0,j=0,index=0,type_hdf=0;
+  int        i=0,j=0,index=0;
+  med_idt    type_hdf=0;
   int        dim=0, firstdim=0, dimutil=0, lastdim=0 ;
   int        datasetsizeEqualTosizespace = 0;
   med_mode_acces MED_MODE_ACCES;
Index: med-fichier-3.0.6/src/2.3.6/ci/MEDjointInfo.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/ci/MEDjointInfo.c
+++ med-fichier-3.0.6/src/2.3.6/ci/MEDjointInfo.c
@@ -24,7 +24,7 @@
 #include <stdlib.h>
 
 med_err
-MEDjointInfo(int fid,  char *maa_lcl,  int ind, char *jn, char *des,
+MEDjointInfo(med_idt fid,  char *maa_lcl,  int ind, char *jn, char *des,
              med_int *dom, char *maa_dist)
 {
   med_idt jntid;
Index: med-fichier-3.0.6/src/2.3.6/ci/MEDmonter.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/ci/MEDmonter.c
+++ med-fichier-3.0.6/src/2.3.6/ci/MEDmonter.c
@@ -76,8 +76,7 @@ if (MEDcheckVersion(fid) < 0) return -1;
    */
   strncpy(acces_montage,MED_MNT,strlen(MED_MNT)-1);
   acces_montage[strlen(MED_MNT)-1] = '\0';
-  if ((ret = _MEDfichierMonter(fid,acces_montage,id)) < 0)
-    return -1;
+  if ((ret = _MEDfichierMonter(fid,acces_montage,id)) < 0) return -1;
 
   /*
    * On cree un lien vers le point de montage
Index: med-fichier-3.0.6/src/2.3.6/cfi/jntcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/jntcf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/jntcf.c
@@ -36,7 +36,7 @@
 
 #ifdef PPRO_NT
 med_int 
- EDFJNTC (med_int *fid,
+ EDFJNTC (med_idt *fid,
                    char *maa_lcl,  unsigned int bidon1, med_int *lon1,
                    char *jn,   unsigned int bidon2, med_int *lon2, 
                    char *desc, unsigned int bidon3, med_int *lon3,
@@ -45,7 +45,7 @@ med_int
 		   )
 #else
 med_int 
-nedfjntc (med_int *fid, 
+nedfjntc (med_idt *fid, 
 	  char *maa_lcl,med_int *lon1,
 	  char *jn,med_int *lon2, 
 	  char *desc, med_int *lon3,
@@ -65,7 +65,7 @@ nedfjntc (med_int *fid,
   if (!fn1 || !fn2 || !fn3 || !fn4)
     return(-1); 
 
-  ret = (med_int) MEDjointCr((med_idt) *fid,
+  ret = (med_int) MEDjointCr( *fid,
 			     (char *)fn1,(char *)fn2,
 			     (char *)fn3,(med_int) *dom,
 			     (char *)fn4); 
@@ -84,13 +84,13 @@ nedfjntc (med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
- EDFNJNT (med_int *fid,
+ EDFNJNT (med_idt *fid,
                    char *maa_lcl,  unsigned int bidon1, med_int *lon1,
 		   med_int *n
 		   )
 #else
 med_int 
-nedfnjnt (med_int *fid, 
+nedfnjnt (med_idt *fid, 
 	  char *maa_lcl,med_int *lon1,
 	  med_int *n
 	  )
@@ -104,7 +104,7 @@ nedfnjnt (med_int *fid,
   if (!fn1)
     return(-1); 
 
-  *n = (med_int) MEDnJoint((med_idt) *fid,
+  *n = (med_int) MEDnJoint( *fid,
 			   (char *)fn1);
 
   _MEDcstringFree(fn1);
@@ -118,7 +118,7 @@ nedfnjnt (med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
- EDFJNTI (med_int *fid,
+ EDFJNTI (med_idt *fid,
                    char *maa_lcl,  unsigned int bidon1, med_int *lon1,
 		   med_int *ind,
                    char *jn, unsigned int bidon2,  
@@ -128,7 +128,7 @@ med_int
 		   )
 #else
 med_int 
-nedfjnti (med_int *fid, 
+nedfjnti (med_idt *fid, 
 	  char *maa_lcl,med_int *lon1,
 	  med_int *ind,
 	  char *jn,
@@ -151,7 +151,7 @@ nedfjnti (med_int *fid,
   if (!fn1)
     return(-1); 
 
-  ret = (med_int) MEDjointInfo((med_idt) *fid,
+  ret = (med_int) MEDjointInfo( *fid,
 			       (char *)   fn1,     /* maillage local IN */
 			       (med_int) *ind,      /* indice du joint dans le maillage IN */
 			       (char *)fs1,        /* nom joint OUT */
@@ -183,7 +183,7 @@ nedfjnti (med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
- EDFJNTE (med_int *fid, 
+ EDFJNTE (med_idt *fid, 
 		   char *maa_local,unsigned int bidon1, med_int *lon1,
 		   char *jn,     unsigned int bidon2, med_int *lon2, 
 		   med_int *corrtab, med_int *n,
@@ -191,7 +191,7 @@ med_int
 		   med_int * typ_ent_distant, med_int * typ_geo_distant)
 #else
 med_int 
-nedfjnte (med_int *fid, 
+nedfjnte (med_idt *fid, 
 	  char *maa_local,med_int *lon1,
 	  char *jn,med_int *lon2, 
 	  med_int *corrtab, med_int *n,
@@ -208,7 +208,7 @@ nedfjnte (med_int *fid,
   if (!fn1 || !fn2)
     return(-1); 
 
-  ret = (med_int) MEDjointEcr((med_idt) *fid, (char *)fn1, (char *) fn2,  (med_int *) corrtab, (med_int) *n,
+  ret = (med_int) MEDjointEcr( *fid, (char *)fn1, (char *) fn2,  (med_int *) corrtab, (med_int) *n,
 				  (med_entite_maillage) *typ_ent_local,   (med_geometrie_element) *typ_geo_local,
 				  (med_entite_maillage) *typ_ent_distant, (med_geometrie_element) *typ_geo_distant);
 
@@ -224,7 +224,7 @@ nedfjnte (med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
- EDFJNTL (med_int *fid, 
+ EDFJNTL (med_idt *fid, 
 		   char *maa_local,unsigned int bidon1, med_int *lon1,
 		   char *jn,     unsigned int bidon2, med_int *lon2, 
 		   med_int *corrtab, med_int *n,
@@ -232,7 +232,7 @@ med_int
 		   med_int * typ_ent_distant, med_int * typ_geo_distant)
 #else
 med_int 
-nedfjntl (med_int *fid, 
+nedfjntl (med_idt *fid, 
 	  char *maa_local,med_int *lon1,
 	  char *jn,med_int *lon2, 
 	  med_int *corrtab, med_int *n,
@@ -249,7 +249,7 @@ nedfjntl (med_int *fid,
   if (!fn1 || !fn2 )
     return(-1); 
 
-  ret = (med_int) MEDjointLire((med_idt) *fid, (char *)fn1, (char *) fn2, (med_int *) corrtab, (med_int) *n,
+  ret = (med_int) MEDjointLire( *fid, (char *)fn1, (char *) fn2, (med_int *) corrtab, (med_int) *n,
 			       (med_entite_maillage) *typ_ent_local,   (med_geometrie_element) *typ_geo_local,
 			       (med_entite_maillage) *typ_ent_distant, (med_geometrie_element) *typ_geo_distant);
 
@@ -269,7 +269,7 @@ nedfjntl (med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
- EDFJNCO (med_int *fid,
+ EDFJNCO (med_idt *fid,
                    char *maa_lcl,  unsigned int bidon1, med_int *lon1,
                    char *jn,   unsigned int bidon2, med_int *lon2, 
 		   med_int * typ_ent_local, med_int * typ_geo_local,
@@ -277,7 +277,7 @@ med_int
 		   )
 #else
 med_int 
-nedfjnco (med_int *fid, 
+nedfjnco (med_idt *fid, 
 	  char *maa_lcl,med_int *lon1,
 	  char *jn, med_int *lon2,
 	  med_int * typ_ent_local, med_int * typ_geo_local,
@@ -299,7 +299,7 @@ nedfjnco (med_int *fid,
   if (!fn1)
     return(-1); 
 
-  ret = (med_int) MEDjointnCorres((med_idt) *fid,
+  ret = (med_int) MEDjointnCorres( *fid,
   			          (char *)   fn1,     /* maillage local IN */
 			          (char *)   fn2,    /* nom du joint IN */
 				  (med_entite_maillage)   *typ_ent_local,
@@ -328,7 +328,7 @@ nedfjnco (med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
- EDFJTCO (med_int *fid,
+ EDFJTCO (med_idt *fid,
                    char *maa_lcl,  unsigned int bidon1, med_int *lon1,
                    char *jn,   unsigned int bidon2, med_int *lon2, 
 		   int *ind,
@@ -337,7 +337,7 @@ med_int
 		   )
 #else
 med_int 
-nedfjtco (med_int *fid, 
+nedfjtco (med_idt *fid, 
 	  char *maa_lcl,med_int *lon1,
 	  char *jn, med_int *lon2,
 	  int *ind,
@@ -362,7 +362,7 @@ nedfjtco (med_int *fid,
 
   if (!fn1) return(-1);
 
-  ret = (med_int) MEDjointTypeCorres((med_idt) *fid,
+  ret = (med_int) MEDjointTypeCorres( *fid,
                                      (char *)   fn1,    /* maillage local IN */
                                      (char *)   fn2,    /* nom du joint IN */
                                      (int) *ind,        /* numero de la correspondance  IN*/
@@ -389,13 +389,13 @@ nedfjtco (med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
- EDFGNME (med_int *fid, 
+ EDFGNME (med_idt *fid, 
 		   char *maa, unsigned int bidon1, med_int *lon1,
 		   med_int *numtab, med_int *n,
 		   med_int * typ_ent, med_int * typ_geo)
 #else
 med_int 
-nedfgnme (med_int *fid, 
+nedfgnme (med_idt *fid, 
 	  char *maa,med_int *lon1,
 	  med_int *numtab, med_int *n,
 	  med_int * typ_ent, med_int * typ_geo)
@@ -410,7 +410,7 @@ nedfgnme (med_int *fid,
   if (!fn1 )
     return(-1); 
 
-  ret = (med_int) MEDglobalNumEcr((med_idt) *fid, (char *)fn1, 
+  ret = (med_int) MEDglobalNumEcr( *fid, (char *)fn1, 
 				  (med_int *) numtab, (med_int) *n,
 				  (med_entite_maillage) *typ_ent,   (med_geometrie_element) *typ_geo);
 
@@ -425,13 +425,13 @@ nedfgnme (med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
- EDFGNML (med_int *fid, 
+ EDFGNML (med_idt *fid, 
 		   char *maa, unsigned int bidon1, med_int *lon1,
 		   med_int *numtab, med_int *n,
 		   med_int * typ_ent, med_int * typ_geo)
 #else
 med_int 
-nedfgnml (med_int *fid, 
+nedfgnml (med_idt *fid, 
 	  char *maa,med_int *lon1,
 	  med_int *numtab, med_int *n,
 	  med_int * typ_ent, med_int * typ_geo)
@@ -446,7 +446,7 @@ nedfgnml (med_int *fid,
   if (!fn1 )
     return(-1); 
 
-  ret = (med_int) MEDglobalNumLire((med_idt) *fid, (char *)fn1, 
+  ret = (med_int) MEDglobalNumLire( *fid, (char *)fn1, 
 				  (med_int *) numtab, (med_int) *n,
 				  (med_entite_maillage) *typ_ent,   (med_geometrie_element) *typ_geo);
 
Index: med-fichier-3.0.6/src/2.3.6/cfi/maacf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/maacf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/maacf.c
@@ -43,11 +43,11 @@
 
 #ifdef PPRO_NT
 med_int
-EDFDIML(med_int *fid, char *maa, unsigned int bidon, 
+EDFDIML(med_idt *fid, char *maa, unsigned int bidon, 
                   med_int *lon)
 #else
 med_int
-nedfdiml(med_int *fid, char *maa,med_int *lon)
+nedfdiml(med_idt *fid, char *maa,med_int *lon)
 #endif
 {
   char *fn;
@@ -57,7 +57,7 @@ nedfdiml(med_int *fid, char *maa,med_int
   if (!fn)
     return(-1); 
 
-  ret = (med_int) MEDdimLire((med_idt) *fid,fn); 
+  ret = (med_int) MEDdimLire(*fid,fn); 
 
   _MEDcstringFree(fn);
 
@@ -66,12 +66,12 @@ nedfdiml(med_int *fid, char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
-EDFMAAC(med_int *fid , char *nom, unsigned int bidon, 
+EDFMAAC(med_idt *fid , char *nom, unsigned int bidon, 
                   med_int *lon, med_int * dim, med_int *type,
 		  char *desc, unsigned int bidon2, med_int *lon2)
 #else
 med_int 
-nedfmaac(med_int *fid , char *nom, med_int *lon, med_int * dim, med_int *type,
+nedfmaac(med_idt *fid , char *nom, med_int *lon, med_int * dim, med_int *type,
 	 char *desc, med_int *lon2)
 #endif
 {
@@ -87,7 +87,7 @@ nedfmaac(med_int *fid , char *nom, med_i
   if (!fn2)
     return -1;
 
-  ret = (med_int) MEDmaaCr((med_idt) *fid, fn1, (med_int) *dim, 
+  ret = (med_int) MEDmaaCr(*fid, fn1, (med_int) *dim, 
 			   (med_maillage) *type,fn2); 
 
   _MEDcstringFree(fn1);
@@ -98,12 +98,12 @@ nedfmaac(med_int *fid , char *nom, med_i
 
 #ifdef PPRO_NT
 med_int 
- EDFMAAI(med_int *fid, med_int *indice, char *maa, 
+ EDFMAAI(med_idt *fid, med_int *indice, char *maa, 
                   unsigned int bidon, med_int *dim, med_int *type,
 		  char *desc, unsigned int bidon2)
 #else
 med_int
-nedfmaai(med_int *fid,med_int *indice, char *maa,med_int *dim, 
+nedfmaai(med_idt *fid,med_int *indice, char *maa,med_int *dim, 
 	 med_int *type,char *desc)
 #endif
 {
@@ -112,7 +112,7 @@ nedfmaai(med_int *fid,med_int *indice, c
   char fs2[MED_TAILLE_DESC+1];
   med_maillage local_type;
 
-  ret = (med_int) MEDmaaInfo((med_idt)*fid,(med_int) *indice, (char *) fs1, 
+  ret = (med_int) MEDmaaInfo(*fid,(med_int) *indice, (char *) fs1, 
 			     (med_int *) dim,&local_type,
 			     (char *) fs2); 
 
@@ -129,25 +129,25 @@ nedfmaai(med_int *fid,med_int *indice, c
 
 #ifdef PPRO_NT
 med_int 
-EDFNMAA(med_int *fid)
+EDFNMAA(med_idt *fid)
 #else
 med_int 
-nedfnmaa(med_int *fid)
+nedfnmaa(med_idt *fid)
 #endif
 {
   med_int ret; 
   
-  ret = (med_int) MEDnMaa((med_idt) *fid); 
+  ret = (med_int) MEDnMaa(*fid); 
 
   return(ret); 
 }
 
 #ifdef PPRO_NT
 med_int 
- EDFNNSL(med_int *fid,char *maa,unsigned int bidon1, med_int *lon1)
+ EDFNNSL(med_idt *fid,char *maa,unsigned int bidon1, med_int *lon1)
 #else
 med_int
-nedfnnsl(med_int *fid,char *maa,med_int *lon1)
+nedfnnsl(med_idt *fid,char *maa,med_int *lon1)
 #endif
 {
   med_int ret;
@@ -158,7 +158,7 @@ nedfnnsl(med_int *fid,char *maa,med_int
   if (!fn1)
     return -1;
 
-  ret = (med_int) MEDnbnosoLire((med_idt) *fid,(char *)fn1);
+  ret = (med_int) MEDnbnosoLire(*fid,(char *)fn1);
 
   _MEDcstringFree(fn1);
 
@@ -167,11 +167,11 @@ nedfnnsl(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFNNSE(med_int *fid,char *maa, unsigned int bidon1, 
+ EDFNNSE(med_idt *fid,char *maa, unsigned int bidon1, 
                   med_int *lon1,med_int *n)
 #else
 med_int
-nedfnnse(med_int *fid,char *maa,med_int *lon1,med_int *n)
+nedfnnse(med_idt *fid,char *maa,med_int *lon1,med_int *n)
 #endif
 {
   med_int ret;
@@ -182,7 +182,7 @@ nedfnnse(med_int *fid,char *maa,med_int
   if (!fn1)
     return -1;
 
-  ret = (med_int) MEDnbnosoEcr((med_idt) *fid,(char *)fn1,(med_int)*n);
+  ret = (med_int) MEDnbnosoEcr(*fid,(char *)fn1,(med_int)*n);
 
   _MEDcstringFree(fn1);
 
@@ -191,10 +191,10 @@ nedfnnse(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFNNIL(med_int *fid,char *maa,unsigned bidon1, med_int *lon1)
+ EDFNNIL(med_idt *fid,char *maa,unsigned bidon1, med_int *lon1)
 #else
 med_int
-nedfnnil(med_int *fid,char *maa,med_int *lon1)
+nedfnnil(med_idt *fid,char *maa,med_int *lon1)
 #endif
 {
   med_int ret;
@@ -205,7 +205,7 @@ nedfnnil(med_int *fid,char *maa,med_int
   if (!fn1)
     return -1;
 
-  ret = (med_int) MEDnbnosoLire((med_idt) *fid,(char *)fn1);
+  ret = (med_int) MEDnbnosoLire(*fid,(char *)fn1);
 
   _MEDcstringFree(fn1);
 
@@ -215,11 +215,11 @@ nedfnnil(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFNNIE(med_int *fid, char *maa, unsigned int bidon1,
+ EDFNNIE(med_idt *fid, char *maa, unsigned int bidon1,
                   med_int *lon1,med_int *n)
 #else
 med_int
-nedfnnie(med_int *fid,char *maa,med_int *lon1,med_int *n)
+nedfnnie(med_idt *fid,char *maa,med_int *lon1,med_int *n)
 #endif
 {
   med_int ret;
@@ -230,7 +230,7 @@ nedfnnie(med_int *fid,char *maa,med_int
   if (!fn1)
     return -1;
 
-  ret = (med_int) MEDnbnosoEcr((med_idt) *fid,(char *)fn1,(med_int)*n);
+  ret = (med_int) MEDnbnosoEcr(*fid,(char *)fn1,(med_int)*n);
 
   _MEDcstringFree(fn1);
 
@@ -239,10 +239,10 @@ nedfnnie(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFNNML(med_int *fid,char *maa,unsigned int bidon1,med_int *lon1)
+ EDFNNML(med_idt *fid,char *maa,unsigned int bidon1,med_int *lon1)
 #else
 med_int
-nedfnnml(med_int *fid,char *maa,med_int *lon1)
+nedfnnml(med_idt *fid,char *maa,med_int *lon1)
 #endif
 {
   med_int ret;
@@ -253,7 +253,7 @@ nedfnnml(med_int *fid,char *maa,med_int
   if (!fn1)
     return -1;
 
-  ret = (med_int) MEDnbnosoLire((med_idt) *fid,(char *)fn1);
+  ret = (med_int) MEDnbnosoLire(*fid,(char *)fn1);
 
   _MEDcstringFree(fn1);
 
@@ -262,11 +262,11 @@ nedfnnml(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFNNME(med_int *fid,char *maa,unsigned int bidon1,
+ EDFNNME(med_idt *fid,char *maa,unsigned int bidon1,
                   med_int *lon1,med_int *n)
 #else
 med_int
-nedfnnme(med_int *fid,char *maa,med_int *lon1,med_int *n)
+nedfnnme(med_idt *fid,char *maa,med_int *lon1,med_int *n)
 #endif
 {
   med_int ret;
@@ -277,7 +277,7 @@ nedfnnme(med_int *fid,char *maa,med_int
   if (!fn1)
     return -1;
 
-  ret = (med_int) MEDnbnosoEcr((med_idt) *fid,(char *)fn1,(med_int)*n);
+  ret = (med_int) MEDnbnosoEcr(*fid,(char *)fn1,(med_int)*n);
 
   _MEDcstringFree(fn1);
 
@@ -287,10 +287,10 @@ nedfnnme(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFUNVC(med_int *fid , char *nom, unsigned int bidon, med_int *lon)
+ EDFUNVC(med_idt *fid , char *nom, unsigned int bidon, med_int *lon)
 #else
 med_int
-nedfunvc(med_int *fid , char *nom, med_int *lon)
+nedfunvc(med_idt *fid , char *nom, med_int *lon)
 #endif
 {
   char *fn;
@@ -301,7 +301,7 @@ nedfunvc(med_int *fid , char *nom, med_i
   if (!fn)
     return(-1);
  
-  ret = (med_int) MEDunvCr((med_idt) *fid, fn);
+  ret = (med_int) MEDunvCr(*fid, fn);
  
   _MEDcstringFree(fn);
  
@@ -310,11 +310,11 @@ nedfunvc(med_int *fid , char *nom, med_i
 
 #ifdef PPRO_NT
 med_int
- EDFUNVL(med_int *fid,char *nom, unsigned int bidon, med_int *lon,
+ EDFUNVL(med_idt *fid,char *nom, unsigned int bidon, med_int *lon,
                   char *nomu, unsigned int bidon1, med_int *lonu)
 #else
 med_int
-nedfunvl(med_int *fid,char *nom,med_int *lon,char *nomu,med_int *lonu)
+nedfunvl(med_idt *fid,char *nom,med_int *lon,char *nomu,med_int *lonu)
 #endif
 {
   char *fn;
@@ -327,7 +327,7 @@ nedfunvl(med_int *fid,char *nom,med_int
   if (!(fn&&fs1))
     return(-1);
 
-  ret = (med_int) MEDunvLire((med_idt)*fid,fn,fs1);
+  ret = (med_int) MEDunvLire(*fid,fn,fs1);
 
   strncpy(nomu,fs1,MED_TAILLE_LNOM);
   _MEDfstring(nomu,MED_TAILLE_LNOM);
@@ -340,11 +340,11 @@ nedfunvl(med_int *fid,char *nom,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFESPC(med_int *fid, char *maa, unsigned int bidon, 
+ EDFESPC(med_idt *fid, char *maa, unsigned int bidon, 
                   med_int *lon, med_int *dim)
 #else
 med_int
-nedfespc(med_int *fid, char *maa,med_int *lon,med_int *dim)
+nedfespc(med_idt *fid, char *maa,med_int *lon,med_int *dim)
 #endif
 {
   char *fn;
@@ -355,7 +355,7 @@ nedfespc(med_int *fid, char *maa,med_int
   if (!fn)
     return(-1); 
 
-  ret = (med_int) MEDdimEspaceCr((med_idt) *fid, fn, (med_int) *dim); 
+  ret = (med_int) MEDdimEspaceCr(*fid, fn, (med_int) *dim); 
 
   _MEDcstringFree(fn);
 
@@ -364,11 +364,11 @@ nedfespc(med_int *fid, char *maa,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFESPL(med_int *fid, char *maa, unsigned int bidon, 
+ EDFESPL(med_idt *fid, char *maa, unsigned int bidon, 
                   med_int *lon)
 #else
 med_int
-nedfespl(med_int *fid, char *maa,med_int *lon)
+nedfespl(med_idt *fid, char *maa,med_int *lon)
 #endif
 {
   char *fn;
@@ -379,7 +379,7 @@ nedfespl(med_int *fid, char *maa,med_int
   if (!fn)
     return(-1); 
 
-  ret = (med_int) MEDdimEspaceLire((med_idt) *fid,fn); 
+  ret = (med_int) MEDdimEspaceLire(*fid,fn); 
 
   _MEDcstringFree(fn);
 
@@ -388,11 +388,11 @@ nedfespl(med_int *fid, char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFNAGE(med_int *fid,char *maa, unsigned int bidon1, 
+ EDFNAGE(med_idt *fid,char *maa, unsigned int bidon1, 
                   med_int *lon1,med_int *type)
 #else
 med_int
-nedfnage(med_int *fid,char *maa,med_int *lon1,med_int *type)
+nedfnage(med_idt *fid,char *maa,med_int *lon1,med_int *type)
 #endif
 {
   med_int ret;
@@ -403,7 +403,7 @@ nedfnage(med_int *fid,char *maa,med_int
   if (!fn1)
     return -1;
 
-  ret = (med_int) MEDnatureGrilleEcr((med_idt) *fid,(char *)fn1,(med_type_grille)*type);
+  ret = (med_int) MEDnatureGrilleEcr(*fid,(char *)fn1,(med_type_grille)*type);
 
   _MEDcstringFree(fn1);
 
@@ -412,11 +412,11 @@ nedfnage(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFNAGL(med_int *fid,char *maa, unsigned int bidon1, 
+ EDFNAGL(med_idt *fid,char *maa, unsigned int bidon1, 
                   med_int *lon1,med_int *type)
 #else
 med_int
-nedfnagl(med_int *fid,char *maa,med_int *lon1,med_int *type)
+nedfnagl(med_idt *fid,char *maa,med_int *lon1,med_int *type)
 #endif
 {
   med_int ret;
@@ -427,7 +427,7 @@ nedfnagl(med_int *fid,char *maa,med_int
   if (!fn1)
     return -1;
 
-  ret = (med_int) MEDnatureGrilleLire((med_idt) *fid,(char *)fn1,(med_type_grille *)type);
+  ret = (med_int) MEDnatureGrilleLire(*fid,(char *)fn1,(med_type_grille *)type);
 
   _MEDcstringFree(fn1);
 
Index: med-fichier-3.0.6/src/2.3.6/cfi/procf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/procf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/procf.c
@@ -32,17 +32,17 @@
 
 #ifdef PPRO_NT
 med_int 
-EDFPROI(med_int *fid, med_int *indice, char *pro, 
+EDFPROI(med_idt *fid, med_int *indice, char *pro, 
                   unsigned int bidon, med_int *n)
 #else
 med_int
-nedfproi(med_int *fid,med_int *indice, char *pro,med_int *n)
+nedfproi(med_idt *fid,med_int *indice, char *pro,med_int *n)
 #endif
 {
   med_int ret;
   char fs1[MED_TAILLE_NOM+1];
 
-  ret = (med_int) MEDprofilInfo((med_idt)*fid,(med_int) *indice, (char *) fs1, 
+  ret = (med_int) MEDprofilInfo(*fid,(med_int) *indice, (char *) fs1, 
 			     (med_int *) n); 
   
   strncpy(pro,fs1,MED_TAILLE_NOM);
@@ -54,15 +54,15 @@ nedfproi(med_int *fid,med_int *indice, c
 
 #ifdef PPRO_NT
 med_int 
- EDFNPRO(med_int *fid)
+ EDFNPRO(med_idt *fid)
 #else
 med_int 
-nedfnpro(med_int *fid)
+nedfnpro(med_idt *fid)
 #endif
 {
   med_int ret; 
   
-  ret = (med_int) MEDnProfil((med_idt) *fid); 
+  ret = (med_int) MEDnProfil( *fid); 
 
   return(ret); 
 }
@@ -70,11 +70,11 @@ nedfnpro(med_int *fid)
 
 #ifdef PPRO_NT
 med_int
- EDFPFLE(med_int *fid, med_int *pflval, med_int *n, char *nom, 
+ EDFPFLE(med_idt *fid, med_int *pflval, med_int *n, char *nom, 
 		  unsigned int bidon1, med_int *lon1)
 #else
 med_int 
-nedfpfle(med_int *fid, med_int *pflval, med_int *n, 
+nedfpfle(med_idt *fid, med_int *pflval, med_int *n, 
 	 char *nom, med_int *lon1)
 #endif
 {
@@ -86,7 +86,7 @@ nedfpfle(med_int *fid, med_int *pflval,
   if (!fn1)
     return(-1); 
   
-  ret = (med_int) MEDprofilEcr((med_idt) *fid,(med_int *) pflval,
+  ret = (med_int) MEDprofilEcr( *fid,(med_int *) pflval,
 			       (med_int) *n,(char *)fn1);
 
   _MEDcstringFree(fn1);
@@ -99,10 +99,10 @@ nedfpfle(med_int *fid, med_int *pflval,
 
 #ifdef PPRO_NT
 med_int
- EDFNPFL(med_int *fid,char *nom, unsigned int bidon1, med_int *lon1)
+ EDFNPFL(med_idt *fid,char *nom, unsigned int bidon1, med_int *lon1)
 #else
 med_int 
-nedfnpfl(med_int *fid,char *nom, med_int *lon1)
+nedfnpfl(med_idt *fid,char *nom, med_int *lon1)
 #endif
 {
   med_int ret;
@@ -113,7 +113,7 @@ nedfnpfl(med_int *fid,char *nom, med_int
   if (!fn1)
     return(-1); 
   
-  ret = (med_int) MEDnValProfil((med_idt) *fid,(char *)fn1);
+  ret = (med_int) MEDnValProfil( *fid,(char *)fn1);
 
   _MEDcstringFree(fn1);
 
@@ -123,11 +123,11 @@ nedfnpfl(med_int *fid,char *nom, med_int
 
 #ifdef PPRO_NT
 med_int
- EDFPFLL(med_int *fid, med_int *pflval,char *nom, 
+ EDFPFLL(med_idt *fid, med_int *pflval,char *nom, 
 		  unsigned int bidon1, med_int *lon1)
 #else
 med_int 
-nedfpfll(med_int *fid, med_int *pflval,
+nedfpfll(med_idt *fid, med_int *pflval,
 	 char *nom, med_int *lon1)
 #endif
 {
@@ -139,7 +139,7 @@ nedfpfll(med_int *fid, med_int *pflval,
   if (!fn1)
     return(-1); 
   
-  ret = (med_int) MEDprofilLire((med_idt) *fid,(med_int *) pflval,
+  ret = (med_int) MEDprofilLire( *fid,(med_int *) pflval,
 				(char *)fn1);
 
   _MEDcstringFree(fn1);
Index: med-fichier-3.0.6/src/2.3.6/cfi/famcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/famcf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/famcf.c
@@ -33,7 +33,7 @@
 
 #ifdef PPRO_NT
 med_int
- EDFFAMC(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+ EDFFAMC(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                   char *fam, unsigned int bidon2, med_int *lon2, 
 	          med_int *num, med_int *attr_ident, med_int *attr_val,
                   char *attr_desc, unsigned int bidon3, 
@@ -41,7 +41,7 @@ med_int
                   unsigned int bidon4, med_int *lon4, med_int *n_groupe)
 #else
 med_int
-nedffamc(med_int *fid,char *maa,med_int *lon1,char *fam,med_int *lon2, 
+nedffamc(med_idt *fid,char *maa,med_int *lon1,char *fam,med_int *lon2, 
 	 med_int *num,med_int *attr_ident,med_int *attr_val,char *attr_desc, 
 	 med_int *lon3,med_int *n_attr,char *groupe ,med_int *lon4, 
 	 med_int *n_groupe)
@@ -55,7 +55,7 @@ nedffamc(med_int *fid,char *maa,med_int
   med_int majeur, mineur, release;
   MedFuncType func;
 
-  MEDversionLire( (med_idt) *fid, &majeur, &mineur, &release );
+  MEDversionLire( *fid, &majeur, &mineur, &release );
   
   func = _MEDversionedApi(name,majeur,mineur,release);
   if ( func != (MedFuncType) NULL )
@@ -69,12 +69,12 @@ nedffamc(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFFAME (med_int *fid, char *maa, unsigned int bidon, med_int *lon1,
+ EDFFAME (med_idt *fid, char *maa, unsigned int bidon, med_int *lon1,
                    med_int *fam, med_int *n, med_int *type_ent,
                    med_int *type_geo)
 #else
 med_int
-nedffame(med_int *fid,char *maa,med_int *lon1,med_int *fam, 
+nedffame(med_idt *fid,char *maa,med_int *lon1,med_int *fam, 
 	 med_int *n, med_int *type_ent,med_int *type_geo)
 #endif
 {
@@ -85,7 +85,7 @@ nedffame(med_int *fid,char *maa,med_int
   if (!fn1 )
     return(-1);
 
-  ret = (med_int) MEDfamEcr((med_idt) *fid,fn1,(med_int *)fam,
+  ret = (med_int) MEDfamEcr(*fid,fn1,(med_int *)fam,
 			   (med_int) *n,
 			   (med_entite_maillage) *type_ent,
 			   (med_geometrie_element) *type_geo); 
@@ -98,12 +98,12 @@ nedffame(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFFAML(med_int *fid, char *maa, unsigned int bidon, med_int *lon1,
+ EDFFAML(med_idt *fid, char *maa, unsigned int bidon, med_int *lon1,
                   med_int *fam, med_int *n, med_int *type_ent,
                   med_int *type_geo)
 #else
 med_int
-nedffaml(med_int *fid, char *maa, med_int *lon1, med_int *fam, 
+nedffaml(med_idt *fid, char *maa, med_int *lon1, med_int *fam, 
 	 med_int *n,med_int *type_ent,med_int *type_geo)
 #endif
 {
@@ -114,7 +114,7 @@ nedffaml(med_int *fid, char *maa, med_in
   if (!fn1 )
     return(-1);
 
-  ret = (med_int) MEDfamLire((med_idt) *fid,fn1,(med_int*) fam,(med_int) *n, 
+  ret = (med_int) MEDfamLire(*fid,fn1,(med_int*) fam,(med_int) *n, 
 			     (med_entite_maillage) *type_ent,
 			     (med_geometrie_element) *type_geo); 
 
@@ -126,14 +126,14 @@ nedffaml(med_int *fid, char *maa, med_in
 
 #ifdef  PPRO_NT
 int
- EDFFAMI(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+ EDFFAMI(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                   med_int *ind, char *fam, unsigned int bidon2, med_int *num,
                   med_int *attr_ident, med_int *attr_val, 
 	          char *attr_desc, int unsigned bidon3, med_int *n_attr,
 	          char *groupe , int unsigned bidon4, med_int *n_groupe)
 #else
 med_int
-nedffami(med_int *fid, char *maa,med_int *lon1,med_int *ind, 
+nedffami(med_idt *fid, char *maa,med_int *lon1,med_int *ind, 
 	 char *fam,med_int *num,med_int *attr_ident,med_int *attr_val, 
 	 char *attr_desc,med_int *n_attr,
 	 char *groupe ,med_int *n_groupe)
@@ -149,13 +149,13 @@ nedffami(med_int *fid, char *maa,med_int
   if (!fn1)
     return(-1);
 
-  if ((ngro = MEDnGroupe  ((med_idt) *fid,fn1,*ind)) < 0) return -1; 
-  if ((natt = MEDnAttribut((med_idt) *fid,fn1,*ind)) < 0) return -1; 
+  if ((ngro = MEDnGroupe  (*fid,fn1,*ind)) < 0) return -1; 
+  if ((natt = MEDnAttribut(*fid,fn1,*ind)) < 0) return -1; 
 
   fs1 = (char *) malloc(MED_TAILLE_DESC*natt+1);
   fs2 = (char *) malloc(MED_TAILLE_LNOM*ngro+1);
 
-  ret = (med_int) MEDfamInfo((med_idt) *fid,fn1,(int) *ind, (char *)fs3 , 
+  ret = (med_int) MEDfamInfo(*fid,fn1,(int) *ind, (char *)fs3 , 
 			     (med_int *)num, 
 			     (med_int *) attr_ident,(med_int *) attr_val,
 			     (char *) fs1,
@@ -187,10 +187,10 @@ nedffami(med_int *fid, char *maa,med_int
 
 #ifdef PPRO_NT
 int
- EDFNFAM(med_int *fid, char *maa, unsigned int bidon, med_int *lon1)
+ EDFNFAM(med_idt *fid, char *maa, unsigned int bidon, med_int *lon1)
 #else
 med_int
-nedfnfam(med_int *fid,char *maa,med_int *lon1)
+nedfnfam(med_idt *fid,char *maa,med_int *lon1)
 #endif
 {
   med_int ret;
@@ -209,10 +209,10 @@ nedfnfam(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 int
- EDFNGRO(med_int *fid, char *maa, unsigned int bidon, med_int *lon1, med_int *indice)
+ EDFNGRO(med_idt *fid, char *maa, unsigned int bidon, med_int *lon1, med_int *indice)
 #else
 med_int
-nedfngro(med_int *fid,char *maa,med_int *lon1,med_int *indice)
+nedfngro(med_idt *fid,char *maa,med_int *lon1,med_int *indice)
 #endif
 {
   med_int ret;
@@ -232,10 +232,10 @@ nedfngro(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 int
- EDFNATT(med_int *fid, char *maa, unsigned int bidon, med_int *lon1, med_int *indice)
+ EDFNATT(med_idt *fid, char *maa, unsigned int bidon, med_int *lon1, med_int *indice)
 #else
 med_int
-nedfnatt(med_int *fid,char *maa,med_int *lon1,med_int *indice)
+nedfnatt(med_idt *fid,char *maa,med_int *lon1,med_int *indice)
 #endif
 {
   med_int ret;
Index: med-fichier-3.0.6/src/2.3.6/cfi/entmaacf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/entmaacf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/entmaacf.c
@@ -45,14 +45,14 @@
 
 #ifdef PPRO_NT
 med_int 
- EDFCONE(med_int *fid, char *maa, unsigned int bidon,
+ EDFCONE(med_idt *fid, char *maa, unsigned int bidon,
                   med_int *lon, med_int *mdim, med_int *con,med_int *mode_switch,
 		  med_int *nbre, 
 	          med_int *type_ent,
                   med_int *type_geo,med_int *type_con )
 #else
 med_int
-nedfcone(med_int *fid, char *maa, med_int *lon,med_int *mdim, 
+nedfcone(med_idt *fid, char *maa, med_int *lon,med_int *mdim, 
 	 med_int *con, med_int *mode_switch, med_int *nbre, 
 	 med_int *type_ent,med_int *type_geo,med_int *type_con)
 #endif
@@ -65,7 +65,7 @@ nedfcone(med_int *fid, char *maa, med_in
   if (!fn)
     return(-1); 
   
-  ret = (med_int) MEDconnEcr ((med_idt) *fid,fn,(med_int) *mdim,
+  ret = (med_int) MEDconnEcr (*fid,fn,(med_int) *mdim,
 			      (med_int *)con,(med_mode_switch) *mode_switch,(med_int)*nbre, 
 			      (med_entite_maillage)*type_ent,
 			      (med_geometrie_element) *type_geo,
@@ -80,14 +80,14 @@ nedfcone(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int 
- EDFCONL(med_int *fid, char *maa, unsigned int bidon, 
+ EDFCONL(med_idt *fid, char *maa, unsigned int bidon, 
                   med_int *lon, med_int *mdim, med_int *con, med_int *mode_switch,
 		  med_int * pfltabtmp, med_int *psizetmp,
                   med_int *type_ent,med_int *type_geo,
                   med_int *type_con )
 #else
 med_int 
-nedfconl(med_int *fid, char *maa, med_int *lon,med_int *mdim,med_int *con, 
+nedfconl(med_idt *fid, char *maa, med_int *lon,med_int *mdim,med_int *con, 
 	 med_int *mode_switch,
 	 med_int * pfltabtmp, med_int *psizetmp,
 	 med_int *type_ent,med_int *type_geo,med_int *type_con )
@@ -101,7 +101,7 @@ nedfconl(med_int *fid, char *maa, med_in
   if (!fn)
     return(-1); 
 
-  ret = (med_int) MEDconnLire((med_idt) *fid, fn,(med_int) *mdim,(med_int *) con, 
+  ret = (med_int) MEDconnLire(*fid, fn,(med_int) *mdim,(med_int *) con, 
 			      (med_mode_switch) *mode_switch,
 			      (med_int *) pfltabtmp, (med_size) *psizetmp,
 			      (med_entite_maillage) *type_ent,
@@ -116,14 +116,14 @@ nedfconl(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int
- EDFCOOE(med_int *fid,char *maa,unsigned int bidon1,med_int *lon1,
+ EDFCOOE(med_idt *fid,char *maa,unsigned int bidon1,med_int *lon1,
 		  med_int *mdim, med_float * coo,med_int * modcoo, med_int *n, 
 	          med_int *type_rep, char *nom, 
                   unsigned int bidon2, med_int *lon2, 
 	          char *unit, unsigned int bidon3, med_int *lon3)
 #else
 med_int
-nedfcooe(med_int *fid, char *maa, med_int *lon1, med_int *mdim,
+nedfcooe(med_idt *fid, char *maa, med_int *lon1, med_int *mdim,
 	 med_float* coo,med_int *modcoo, med_int *n, 
 	 med_int *type_rep, char *nom, med_int *lon2, 
 	 char *unit, med_int *lon3)
@@ -141,7 +141,7 @@ nedfcooe(med_int *fid, char *maa, med_in
     return(-1);
 
   type_rep_c = (med_repere) *type_rep; 
-  ret = (med_int) MEDcoordEcr((med_idt) *fid, fn1, (med_int) *mdim,
+  ret = (med_int) MEDcoordEcr(*fid, fn1, (med_int) *mdim,
 			      (med_float *) coo,(med_mode_switch)*modcoo,
 			      (med_int) *n,type_rep_c,
 			      fn2,fn3);
@@ -156,14 +156,14 @@ nedfcooe(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int
- EDFCOOL(med_int *fid, char *maa, unsigned int bidon1, 
+ EDFCOOL(med_idt *fid, char *maa, unsigned int bidon1, 
                   med_int *lon1, med_int *mdim, med_float * coo, med_int * modcoo, 
 		  med_int *numco, med_int * pfltabtmp, med_int * psize, 
 		  med_int *type_rep, char *nom, unsigned int bidon2, char *unit, 
                   unsigned int bidon3)
 #else
 med_int
-nedfcool(med_int *fid, char *maa,med_int *lon1,med_int *mdim,
+nedfcool(med_idt *fid, char *maa,med_int *lon1,med_int *mdim,
 	 med_float * coo,med_int * modcoo,
 	 med_int * numco,med_int * pfltabtmp, med_int * psize, 
 	 med_int *type_rep, char *nom, 
@@ -184,7 +184,7 @@ nedfcool(med_int *fid, char *maa,med_int
   if (!(fn1&&fs1&&fs2))
     return(-1);
 
-  ret = (med_int) MEDcoordLire((med_idt) *fid, fn1, (med_int ) *mdim,
+  ret = (med_int) MEDcoordLire(*fid, fn1, (med_int ) *mdim,
 			       (med_float *) coo,(med_mode_switch)*modcoo,
 			       (med_int) *numco, (med_int *) pfltabtmp, lpsize, 
 			       &type_rep_c, fs1, fs2);
@@ -205,14 +205,14 @@ nedfcool(med_int *fid, char *maa,med_int
 
 #ifdef PPRO_NT
 int
- EDFNOME (med_int *fid,char *maa, unsigned int bidon1, med_int *lon1,
+ EDFNOME (med_idt *fid,char *maa, unsigned int bidon1, med_int *lon1,
                    char *nom, unsigned int bidon2, med_int *lon2, 
                    med_int *n, med_int *type_ent,
                    med_int *type_geo)
 
 #else
 med_int
-nedfnome(med_int *fid,char *maa,med_int *lon1, char *nom,med_int *lon2, 
+nedfnome(med_idt *fid,char *maa,med_int *lon1, char *nom,med_int *lon2, 
 	 med_int *n,med_int *type_ent,med_int *type_geo)
 #endif
 {
@@ -225,7 +225,7 @@ nedfnome(med_int *fid,char *maa,med_int
   if (!fn1 || !fn2)
     return(-1);
 
-  ret = (med_int) MEDnomEcr((med_idt) *fid, fn1, fn2, (med_int) *n, 
+  ret = (med_int) MEDnomEcr(*fid, fn1, fn2, (med_int) *n, 
 			    (med_entite_maillage) *type_ent,
 			    (med_geometrie_element) *type_geo); 
 
@@ -237,13 +237,13 @@ nedfnome(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFNOML(med_int *fid,char *maa, unsigned int bidon1, med_int *lon1,
+ EDFNOML(med_idt *fid,char *maa, unsigned int bidon1, med_int *lon1,
                   char *nom , unsigned int bidon2, med_int *n, 
 	          med_int *type_ent, med_int *type_geo)
 
 #else
 med_int
-nedfnoml(med_int *fid,char *maa,med_int *lon1, char *nom,med_int *n, 
+nedfnoml(med_idt *fid,char *maa,med_int *lon1, char *nom,med_int *n, 
 	 med_int *type_ent,med_int *type_geo)
 #endif
 {
@@ -256,7 +256,7 @@ nedfnoml(med_int *fid,char *maa,med_int
   if ( !(fn1&&fs1) )
     return(-1);
 
-  ret = (med_int) MEDnomLire((med_idt) *fid, fn1, (char *) fs1, (med_int) *n, 
+  ret = (med_int) MEDnomLire(*fid, fn1, (char *) fs1, (med_int) *n, 
 			     (med_entite_maillage) *type_ent,
 			     (med_geometrie_element) *type_geo); 
 
@@ -272,12 +272,12 @@ nedfnoml(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFNUME(med_int *fid,char *maa, unsigned int bidon1, med_int *lon1,
+ EDFNUME(med_idt *fid,char *maa, unsigned int bidon1, med_int *lon1,
                   med_int *num, med_int *n, med_int *type_ent,
                   med_int *type_geo)
 #else
 med_int
-nedfnume(med_int *fid,char *maa, med_int *lon1, med_int *num, med_int *n, 
+nedfnume(med_idt *fid,char *maa, med_int *lon1, med_int *num, med_int *n, 
 	 med_int *type_ent,med_int *type_geo)
 #endif
 {
@@ -289,7 +289,7 @@ nedfnume(med_int *fid,char *maa, med_int
   if (!fn1 )
     return(-1);
 
-  ret = (med_int) MEDnumEcr((med_idt) *fid, fn1, (med_int *) num, (med_int)*n, 
+  ret = (med_int) MEDnumEcr(*fid, fn1, (med_int *) num, (med_int)*n, 
 			    (med_entite_maillage) *type_ent,
 			    (med_geometrie_element) *type_geo);
 
@@ -301,12 +301,12 @@ nedfnume(med_int *fid,char *maa, med_int
 
 #ifdef PPRO_NT
 int
- EDFNUML(med_int *fid,char *maa, unsigned int bidon1, med_int *lon1,
+ EDFNUML(med_idt *fid,char *maa, unsigned int bidon1, med_int *lon1,
                   med_int *num , med_int *n, med_int *type_ent,
                   med_int *type_geo)
 #else
 med_int
-nedfnuml(med_int *fid,char *maa, med_int *lon1, med_int *num , med_int *n, 
+nedfnuml(med_idt *fid,char *maa, med_int *lon1, med_int *num , med_int *n, 
 	 med_int *type_ent,med_int *type_geo)
 #endif
 {
@@ -318,7 +318,7 @@ nedfnuml(med_int *fid,char *maa, med_int
   if (!fn1 )
     return(-1);
 
-  ret = (med_int) MEDnumLire((med_idt) *fid, fn1, (med_int *) num,(med_int)*n, 
+  ret = (med_int) MEDnumLire(*fid, fn1, (med_int *) num,(med_int)*n, 
 			     (med_entite_maillage) *type_ent,
 			     (med_geometrie_element) *type_geo); 
 
@@ -329,12 +329,12 @@ nedfnuml(med_int *fid,char *maa, med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFNEMA (med_int *fid, char *maa, unsigned int bidon, med_int *lon,
+ EDFNEMA (med_idt *fid, char *maa, unsigned int bidon, med_int *lon,
                    med_int *quoi, med_int *typ_ent, med_int *typ_geo,
                    med_int *typ_conn)
 #else
 med_int 
-nedfnema(med_int *fid, char *maa, med_int *lon, med_int *quoi, 
+nedfnema(med_idt *fid, char *maa, med_int *lon, med_int *quoi, 
 	 med_int *typ_ent, med_int *typ_geo,med_int *typ_conn)
 #endif
 {
@@ -346,7 +346,7 @@ nedfnema(med_int *fid, char *maa, med_in
   if (!fn1 )
     return(-1);
 
-  ret = (med_int) MEDnEntMaa((med_idt) *fid, fn1, (med_table) *quoi, 
+  ret = (med_int) MEDnEntMaa(*fid, fn1, (med_table) *quoi, 
 			     (med_entite_maillage) *typ_ent, 
 			     (med_geometrie_element) *typ_geo,
 			     (med_connectivite) *typ_conn); 
@@ -359,12 +359,12 @@ nedfnema(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int 
- EDFPGCE(med_int *fid, char *maa, unsigned int bidon,med_int *lon, 
+ EDFPGCE(med_idt *fid, char *maa, unsigned int bidon,med_int *lon, 
 		  med_int *index, med_int *ni, med_int *con,
 	          med_int *type_ent,med_int *type_con)
 #else
 med_int
-nedfpgce(med_int *fid, char *maa, med_int *lon,
+nedfpgce(med_idt *fid, char *maa, med_int *lon,
 	 med_int *index, med_int *ni, med_int *con,
 	 med_int *type_ent,med_int *type_con)
 #endif
@@ -377,7 +377,7 @@ nedfpgce(med_int *fid, char *maa, med_in
   if (!fn)
     return(-1); 
   
-  ret = (med_int) MEDpolygoneConnEcr((med_idt) *fid,fn,(med_int *) index,(med_int) *ni,
+  ret = (med_int) MEDpolygoneConnEcr(*fid,fn,(med_int *) index,(med_int) *ni,
 				     (med_int *)con,(med_entite_maillage)*type_ent,
 				     (med_connectivite) *type_con);
 
@@ -389,12 +389,12 @@ nedfpgce(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int 
- EDFPGCL(med_int *fid, char *maa, unsigned int bidon,med_int *lon, 
+ EDFPGCL(med_idt *fid, char *maa, unsigned int bidon,med_int *lon, 
 		  med_int *index, med_int *ni, med_int *con,
 	          med_int *type_ent,med_int *type_con)
 #else
 med_int
-nedfpgcl(med_int *fid, char *maa, med_int *lon,
+nedfpgcl(med_idt *fid, char *maa, med_int *lon,
 	 med_int *index, med_int *ni, med_int *con,
 	 med_int *type_ent,med_int *type_con)
 #endif
@@ -407,7 +407,7 @@ nedfpgcl(med_int *fid, char *maa, med_in
   if (!fn)
     return(-1); 
 
-  ret = (med_int) MEDpolygoneConnLire((med_idt) *fid, fn,
+  ret = (med_int) MEDpolygoneConnLire(*fid, fn,
 				      (med_int *) index,(med_int) *ni,(med_int *) con, 
 				      (med_entite_maillage) *type_ent,
 				      (med_connectivite) *type_con); 
@@ -419,11 +419,11 @@ nedfpgcl(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int 
- EDFPYGI(med_int *fid, char *maa, unsigned int bidon,med_int *lon, 
+ EDFPYGI(med_idt *fid, char *maa, unsigned int bidon,med_int *lon, 
 	          med_int *type_ent,med_int *type_con,med_int *consize)
 #else
 med_int
-nedfpygi(med_int *fid, char *maa, med_int *lon,
+nedfpygi(med_idt *fid, char *maa, med_int *lon,
 	 med_int *type_ent,med_int *type_con,med_int *consize)
 #endif
 {
@@ -435,7 +435,7 @@ nedfpygi(med_int *fid, char *maa, med_in
   if (!fn)
     return(-1); 
 
-  ret = (med_int) MEDpolygoneInfo((med_idt) *fid, fn,
+  ret = (med_int) MEDpolygoneInfo(*fid, fn,
 				  (med_entite_maillage) *type_ent,
 				  (med_connectivite) *type_con,
 				  (med_int *) consize); 
@@ -448,12 +448,12 @@ nedfpygi(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int 
- EDFPECE(med_int *fid, char *maa, unsigned int bidon,med_int *lon, 
+ EDFPECE(med_idt *fid, char *maa, unsigned int bidon,med_int *lon, 
 		  med_int *indexp, med_int *np,med_int *indexf, med_int *nf, 
 		  med_int *con,med_int *type_con)
 #else
 med_int
-nedfpece(med_int *fid, char *maa, med_int *lon,
+nedfpece(med_idt *fid, char *maa, med_int *lon,
 	 med_int *indexp, med_int *np,med_int *indexf, med_int *nf, 
 	 med_int *con,med_int *type_con)
 #endif
@@ -466,7 +466,7 @@ nedfpece(med_int *fid, char *maa, med_in
   if (!fn)
     return(-1); 
   
-  ret = (med_int) MEDpolyedreConnEcr((med_idt) *fid,fn,(med_int *)indexp,(med_int) *np,
+  ret = (med_int) MEDpolyedreConnEcr(*fid,fn,(med_int *)indexp,(med_int) *np,
 				     (med_int *)indexf,(med_int) *nf,(med_int *)con,
 				     (med_connectivite) *type_con);
 
@@ -478,13 +478,13 @@ nedfpece(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int 
- EDFPECL(med_int *fid, char *maa, unsigned int bidon,med_int *lon, 
+ EDFPECL(med_idt *fid, char *maa, unsigned int bidon,med_int *lon, 
 		  med_int *indexp, med_int *np, 
 		  med_int * indexf,med_int *nf,
 		  med_int *con,med_int *type_con)
 #else
 med_int
-nedfpecl(med_int *fid, char *maa, med_int *lon,
+nedfpecl(med_idt *fid, char *maa, med_int *lon,
 	 med_int *indexp, med_int *np, 
 	 med_int *indexf,med_int *nf,
 	 med_int *con,med_int *type_con)
@@ -498,7 +498,7 @@ nedfpecl(med_int *fid, char *maa, med_in
   if (!fn)
     return(-1); 
 
-  ret = (med_int) MEDpolyedreConnLire((med_idt) *fid, fn,
+  ret = (med_int) MEDpolyedreConnLire(*fid, fn,
 				      (med_int *) indexp,(med_int) *np,
 				      (med_int *) indexf,(med_int) *nf,
 				      (med_int *) con, 
@@ -511,11 +511,11 @@ nedfpecl(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int 
- EDFPYEI(med_int *fid, char *maa, unsigned int bidon,med_int *lon, 
+ EDFPYEI(med_idt *fid, char *maa, unsigned int bidon,med_int *lon, 
 	          med_int *type_con,med_int *nf,med_int *consize)
 #else
 med_int
-nedfpyei(med_int *fid, char *maa, med_int *lon,
+nedfpyei(med_idt *fid, char *maa, med_int *lon,
 	 med_int *type_con,med_int *nf,med_int *consize)
 #endif
 {
@@ -527,7 +527,7 @@ nedfpyei(med_int *fid, char *maa, med_in
   if (!fn)
     return(-1); 
 
-  ret = (med_int) MEDpolyedreInfo((med_idt) *fid, fn,
+  ret = (med_int) MEDpolyedreInfo(*fid, fn,
 				  (med_connectivite) *type_con,
 				  (med_int *) nf,
 				  (med_int *) consize); 
@@ -540,14 +540,14 @@ nedfpyei(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int
- EDFICOE(med_int *fid,char *maa,unsigned int bidon1,med_int *lon1,
+ EDFICOE(med_idt *fid,char *maa,unsigned int bidon1,med_int *lon1,
 		  med_int *mdim, med_float * indices,med_int *n, 
 	          med_int *axe, char *comp, 
                   unsigned int bidon2, med_int *lon2, 
 	          char *unit, unsigned int bidon3, med_int *lon3)
 #else
 med_int
-nedficoe(med_int *fid, char *maa, med_int *lon1, med_int *mdim,
+nedficoe(med_idt *fid, char *maa, med_int *lon1, med_int *mdim,
 	 med_float* indices,med_int *n, 
 	 med_int *axe, char *comp, med_int *lon2, 
 	 char *unit, med_int *lon3)
@@ -563,7 +563,7 @@ nedficoe(med_int *fid, char *maa, med_in
   if (!fn1 || !fn2 || !fn3)
     return(-1);
  
-  ret = (med_int) MEDindicesCoordEcr((med_idt) *fid, fn1, (med_int) *mdim,
+  ret = (med_int) MEDindicesCoordEcr(*fid, fn1, (med_int) *mdim,
 				     (med_float *) indices,(med_int) *n,
 				     (med_int) *axe,fn2,fn3);
 
@@ -576,14 +576,14 @@ nedficoe(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int
- EDFICOL(med_int *fid,char *maa,unsigned int bidon1,med_int *lon1,
+ EDFICOL(med_idt *fid,char *maa,unsigned int bidon1,med_int *lon1,
 		  med_int *mdim, med_float * indices,med_int *n, 
 	          med_int *axe, char *comp, 
                   unsigned int bidon2, med_int *lon2, 
 	          char *unit, unsigned int bidon3, med_int *lon3)
 #else
 med_int
-nedficol(med_int *fid, char *maa, med_int *lon1, med_int *mdim,
+nedficol(med_idt *fid, char *maa, med_int *lon1, med_int *mdim,
 	 med_float* indices,med_int *n, 
 	 med_int *axe, char *comp, med_int *lon2, 
 	 char *unit, med_int *lon3)
@@ -599,7 +599,7 @@ nedficol(med_int *fid, char *maa, med_in
   if (!(fn1 && fs1 && fs2))
     return(-1); 
  
-  ret = (med_int) MEDindicesCoordLire((med_idt) *fid, fn1, (med_int) *mdim,
+  ret = (med_int) MEDindicesCoordLire(*fid, fn1, (med_int) *mdim,
 				      (med_float *) indices,(med_int) *n,
 				      (med_int) *axe,fs1,fs2);
 
@@ -617,11 +617,11 @@ nedficol(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int
- EDFSCOE(med_int *fid,char *maa, unsigned int bidon1, med_int *lon1,
+ EDFSCOE(med_idt *fid,char *maa, unsigned int bidon1, med_int *lon1,
                   med_int * mdim,med_int *structure)
 #else
 med_int
-nedfscoe(med_int *fid,char *maa, med_int *lon1, med_int *mdim, med_int *structure)
+nedfscoe(med_idt *fid,char *maa, med_int *lon1, med_int *mdim, med_int *structure)
 #endif
 {
   med_int ret;
@@ -632,7 +632,7 @@ nedfscoe(med_int *fid,char *maa, med_int
   if (!fn1 )
     return(-1);
 
-  ret = (med_int) MEDstructureCoordEcr((med_idt) *fid, fn1, (med_int) *mdim, (med_int *) structure);
+  ret = (med_int) MEDstructureCoordEcr(*fid, fn1, (med_int) *mdim, (med_int *) structure);
 
   _MEDcstringFree(fn1);
 
@@ -642,11 +642,11 @@ nedfscoe(med_int *fid,char *maa, med_int
 
 #ifdef PPRO_NT
 med_int
- EDFSCOL(med_int *fid,char *maa, unsigned int bidon1, med_int *lon1,
+ EDFSCOL(med_idt *fid,char *maa, unsigned int bidon1, med_int *lon1,
                   med_int *mdim,med_int *structure)
 #else
 med_int
-nedfscol(med_int *fid,char *maa, med_int *lon1, med_int *mdim,med_int *structure)
+nedfscol(med_idt *fid,char *maa, med_int *lon1, med_int *mdim,med_int *structure)
 #endif
 {
   med_int ret;
@@ -657,7 +657,7 @@ nedfscol(med_int *fid,char *maa, med_int
   if (!fn1 )
     return(-1);
 
-  ret = (med_int) MEDstructureCoordLire((med_idt) *fid, fn1, (med_int) *mdim, (med_int *) structure);
+  ret = (med_int) MEDstructureCoordLire(*fid, fn1, (med_int) *mdim, (med_int *) structure);
 
   _MEDcstringFree(fn1);
 
Index: med-fichier-3.0.6/src/2.3.6/cfi/fichcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/fichcf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/fichcf.c
@@ -38,16 +38,16 @@ extern void f77ApiIsSet(void * obj);
 #define nedfdemo F77_FUNC(edfdemo,EDFDEMO)
 
 #ifdef PPRO_NT
-med_int
+med_idt
  EDFOUVR (char *nom, unsigned int bidon, med_int * acces, 
                    med_int *lon)
 #else
-med_int
+med_idt
 nedfouvr (char *nom,med_int * acces,med_int *lon)
 #endif
 {
   char *fn;
-  int ret;
+  med_idt ret;
 
   /* Cette mÃ©thode a pour unique but de forcer la construction
    de l'objet MedVersionedApiF et donc la mise Ã  jour de MedVersionedApi
@@ -57,10 +57,9 @@ nedfouvr (char *nom,med_int * acces,med_
   f77ApiIsSet(MedVersionedApiF);
 
   fn = _MED2cstring(nom, (int) * lon);
-  if (!fn)
-	return(-1);
+  if (!fn) return(-1);
 
-  ret = (med_int) MEDouvrir(fn,(med_mode_acces) *acces); 
+  ret = MEDouvrir(fn,(med_mode_acces) *acces); 
 
   _MEDcstringFree(fn);
 
@@ -69,39 +68,39 @@ nedfouvr (char *nom,med_int * acces,med_
 
 #ifdef PPRO_NT
 med_int
- EDFFERM(med_int * fid)
+ EDFFERM(med_idt * fid)
 #else
 med_int
-nedfferm(med_int * fid)
+nedfferm(med_idt * fid)
 #endif
 {
   med_int ret;
-  ret = (med_int) MEDfermer((med_idt) * fid);
+  ret = (med_int) MEDfermer(* fid);
 
   return(ret);
 }
 
 #ifdef PPRO_NT
 med_int
- EDFLFDE(med_int *fid)
+ EDFLFDE(med_idt *fid)
 #else
 med_int
-nedflfde (med_int *fid)
+nedflfde (med_idt *fid)
 #endif
 {
   med_int longueur;
 
-  longueur = MEDlFichDes((med_idt) *fid);
+  longueur = MEDlFichDes(*fid);
 
   return longueur;
 }
 
 #ifdef PPRO_NT
 med_int
- EDFFIEN(med_int *fid,med_int *quoi,char *str, unsigned int bidon1)
+ EDFFIEN(med_idt *fid,med_int *quoi,char *str, unsigned int bidon1)
 #else
 med_int
-nedffien (med_int *fid,med_int *quoi,char *str)
+nedffien (med_idt *fid,med_int *quoi,char *str)
 #endif
 {
   med_int ret;
@@ -109,11 +108,11 @@ nedffien (med_int *fid,med_int *quoi,cha
   char * fs1;
 
   /* Solution temporaire */
-  longueur = MEDlFichDes((med_idt) *fid);
+  longueur = MEDlFichDes(*fid);
 /*   ISCRUTE(longueur); */
   fs1 = (char *) malloc(sizeof(char)*longueur+1);
   
-  ret = (med_int) MEDfichEntete((med_idt) *fid,(med_fich_info) *quoi,(char *) fs1);
+  ret = (med_int) MEDfichEntete(*fid,(med_fich_info) *quoi,(char *) fs1);
 
   strncpy(str,fs1,longueur);
   _MEDfstring(str,longueur);
@@ -124,10 +123,10 @@ nedffien (med_int *fid,med_int *quoi,cha
 
 #ifdef PPRO_NT
 int
- EDFFIDE(med_int *fid,char *des, unsigned int bidon1,med_int *lon1)
+ EDFFIDE(med_idt *fid,char *des, unsigned int bidon1,med_int *lon1)
 #else
 med_int
-nedffide(med_int *fid,char *des,med_int *lon1)
+nedffide(med_idt *fid,char *des,med_int *lon1)
 #endif
 {
   med_int ret;
@@ -135,7 +134,7 @@ nedffide(med_int *fid,char *des,med_int
 
   fn1 = _MED1cstring((char *)des,(int )*lon1,MED_TAILLE_DESC);
 
-  ret = MEDfichDesEcr((med_idt) *fid,(char*)fn1);
+  ret = MEDfichDesEcr(*fid,(char*)fn1);
 
   _MEDcstringFree(fn1);
 
@@ -189,15 +188,15 @@ nedfveco (char *nom,med_int *lon)
 
 #ifdef PPRO_NT
 med_int
- EDFVELI (med_int *fid, med_int *maj, med_int *min, med_int *rel)
+ EDFVELI (med_idt *fid, med_int *maj, med_int *min, med_int *rel)
 #else
 med_int
-nedfveli (med_int *fid, med_int *maj, med_int *min, med_int *rel)
+nedfveli (med_idt *fid, med_int *maj, med_int *min, med_int *rel)
 #endif
 {
   med_int ret;
 
-  ret = (med_int) MEDversionLire((med_idt) *fid, (med_int *) maj, (med_int *) min, (med_int *) rel); 
+  ret = (med_int) MEDversionLire(*fid, (med_int *) maj, (med_int *) min, (med_int *) rel); 
 
   return(ret); 
 }
@@ -220,21 +219,21 @@ nedfvedo (med_int *maj, med_int *min, me
 }
 
 #ifdef PPRO_NT
-med_int
- EDFMONT (med_int *fid, char *acces, unsigned int bidon, med_int *lon, med_int *type)
+med_idt
+ EDFMONT (med_idt *fid, char *acces, unsigned int bidon, med_int *lon, med_int *type)
 #else
-med_int
-nedfmont (med_int *fid, char *acces, med_int *lon, med_int *type)
+med_idt
+nedfmont (med_idt *fid, char *acces, med_int *lon, med_int *type)
 #endif
 {
   char *fn;
-  int ret;
+  med_idt ret;
 
   fn = _MED2cstring(acces, (int) * lon);
   if (!fn)
     return(-1);
 
-  ret = (med_int) MEDmonter((med_idt) *fid,(const char *) fn, (med_type_donnee) *type); 
+  ret = (med_idt) MEDmonter(*fid,(const char *) fn, (med_type_donnee) *type); 
 
   _MEDcstringFree(fn);
 
@@ -244,15 +243,15 @@ nedfmont (med_int *fid, char *acces, med
 
 #ifdef PPRO_NT
 med_int
- EDFDEMO (med_int *fid, med_int *mid, med_int *type)
+ EDFDEMO (med_idt *fid, med_idt *mid, med_int *type)
 #else
 med_int
-nedfdemo (med_int *fid, med_int *mid, med_int *type)
+nedfdemo (med_idt *fid, med_idt *mid, med_int *type)
 #endif
 {
   int ret;
 
-  ret = (med_int) MEDdemonter((med_idt) *fid,(med_idt) * mid, (med_type_donnee) *type); 
+  ret = (med_int) MEDdemonter(*fid,*mid, (med_type_donnee) *type); 
 
   return (ret); 
 }
Index: med-fichier-3.0.6/src/2.3.6/cfi/intercf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/intercf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/intercf.c
@@ -32,12 +32,12 @@
 
 #ifdef PPRO_NT
 med_int 
- EDFNENT(med_int *fid,char *maa, unsigned int bidon1,
+ EDFNENT(med_idt *fid,char *maa, unsigned int bidon1,
                   med_int *lon1, med_int *typ_ent, 
                   med_int *typ_con)
 #else
 med_int 
-nedfnent(med_int *fid,char *maa, med_int *lon1, med_int *typ_ent, 
+nedfnent(med_idt *fid,char *maa, med_int *lon1, med_int *typ_ent, 
          med_int *typ_con)
 #endif
 {
@@ -49,7 +49,7 @@ nedfnent(med_int *fid,char *maa, med_int
   if (! fn1)
     return -1;
 
-  ret = (med_int) MEDnEntites((med_idt)*fid, (char*)fn1,
+  ret = (med_int) MEDnEntites(*fid, (char*)fn1,
                               (med_entite_maillage) *typ_ent, 
                               (med_connectivite) *typ_con);
 
@@ -61,7 +61,7 @@ nedfnent(med_int *fid,char *maa, med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFNOEL(med_int *fid,char *maa,unsigned int bidon1,
+ EDFNOEL(med_idt *fid,char *maa,unsigned int bidon1,
                   med_int *lon1, med_int *mdim, med_float *coo,
 	          med_int *modcoo,
 	          med_int *rep, char *nomcoo, unsigned int bidon2, 
@@ -71,7 +71,7 @@ med_int
 	          med_int *num, med_int *inum, med_int *fam, med_int *nnoe)
 #else
 med_int 
-nedfnoel(med_int *fid,char *maa,med_int *lon1,med_int *mdim,med_float *coo,
+nedfnoel(med_idt *fid,char *maa,med_int *lon1,med_int *mdim,med_float *coo,
 	 med_int *modcoo,
 	 med_int *rep,char *nomcoo,char *unicoo,char *nom,med_int *inom,
 	 med_int *num,med_int *inum,med_int *fam,med_int *nnoe)
@@ -90,7 +90,7 @@ nedfnoel(med_int *fid,char *maa,med_int
   if (!(fn1&&fs1&&fs2&&fs3))
      return -1;
 
-  ret = (med_int) MEDnoeudsLire((med_idt)*fid,(char*)fn1,(med_int)*mdim,
+  ret = (med_int) MEDnoeudsLire(*fid,(char*)fn1,(med_int)*mdim,
 				(med_float *)coo,(med_mode_switch)*modcoo,
 				(med_repere*)rep,(char*)fs1,
 				(char*)fs2,(char*)fs3,
@@ -116,7 +116,7 @@ nedfnoel(med_int *fid,char *maa,med_int
  
 #ifdef PPRO_NT
 med_int 
- EDFNOEE(med_int *fid, char *maa, unsigned int bidon1, 
+ EDFNOEE(med_idt *fid, char *maa, unsigned int bidon1, 
                   med_int *lon1, med_int *mdim, med_float *coo,
 	          med_int *modcoo,
 	          med_int *rep, char *nomcoo, unsigned int bidon2, 
@@ -127,7 +127,7 @@ med_int
 	          med_int *fam,med_int *nnoe)
 #else 
 med_int 
-nedfnoee(med_int *fid,char *maa,med_int *lon1,med_int *mdim,med_float *coo,
+nedfnoee(med_idt *fid,char *maa,med_int *lon1,med_int *mdim,med_float *coo,
 	 med_int *modcoo,
 	 med_int *rep,char *nomcoo,med_int *lon2,char *unicoo,med_int *lon3,
 	 char *nom,med_int *lon4,med_int *inom,med_int *num,med_int *inum,
@@ -146,7 +146,7 @@ nedfnoee(med_int *fid,char *maa,med_int
   if (!(fn1&&fn2&&fn3&&fn4))
      return -1;
  
-  ret = (med_int) MEDnoeudsEcr((med_idt)*fid,(char*)fn1,(med_int)*mdim,
+  ret = (med_int) MEDnoeudsEcr(*fid,(char*)fn1,(med_int)*mdim,
 			       (med_float *)coo,(med_mode_switch)*modcoo,
 			       (med_repere)*rep,(char*)fn2,
 			       (char*)fn3,(char*)fn4,(med_booleen)_inom,
@@ -164,7 +164,7 @@ nedfnoee(med_int *fid,char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFELEE(med_int *fid, char *maa, unsigned int bidon1,
+ EDFELEE(med_idt *fid, char *maa, unsigned int bidon1,
                   med_int*lon1, med_int*mdim, med_int*conn,med_int *mode_switch,
 	          char*nom, unsigned int bidon2, med_int*lon2, med_int*inom,
 	          med_int *num, med_int*inum, med_int*fam, med_int*nele,
@@ -172,7 +172,7 @@ med_int
 	          med_int*typgeo,med_int*typcon)
 #else
 med_int
-nedfelee(med_int *fid,char *maa,med_int*lon1,med_int*mdim,med_int*conn,med_int *mode_switch,
+nedfelee(med_idt *fid,char *maa,med_int*lon1,med_int*mdim,med_int*conn,med_int *mode_switch,
 	 char*nom,med_int*lon2,med_int*inom,
 	 med_int *num,med_int*inum,med_int*fam,med_int*nele,med_int*typent,
 	 med_int*typgeo,med_int*typcon)
@@ -188,7 +188,7 @@ nedfelee(med_int *fid,char *maa,med_int*
   if (!(fn1&&fn2))
      return -1;
 
-  ret = (med_int) MEDelementsEcr((med_idt)*fid,(char*)fn1,(med_int)*mdim,
+  ret = (med_int) MEDelementsEcr(*fid,(char*)fn1,(med_int)*mdim,
 				 (med_int*)conn,(med_mode_switch) *mode_switch,
 				 (char*)fn2,(med_booleen)_inom,
 				 (med_int*)num,(med_booleen)_inum,
@@ -205,14 +205,14 @@ nedfelee(med_int *fid,char *maa,med_int*
 
 #ifdef PPRO_NT
 med_int 
- EDFELEL(med_int *fid,char *maa, unsigned int bidon1,
+ EDFELEL(med_idt *fid,char *maa, unsigned int bidon1,
                   med_int*lon1, med_int*mdim, med_int*conn,med_int *mode_switch,
 	          char*nom, unsigned int bidon2, med_int*inom,
 	          med_int *num, med_int*inum, med_int*fam, med_int*nele,
                   med_int*typent, med_int*typgeo,med_int*typcon)
 #else  
 med_int
-nedfelel(med_int *fid,char *maa,med_int*lon1,med_int*mdim,med_int*conn,
+nedfelel(med_idt *fid,char *maa,med_int*lon1,med_int*mdim,med_int*conn,
 	 med_int *mode_switch,
 	 char*nom,med_int*inom,
 	 med_int *num,med_int*inum,med_int*fam,med_int*nele,med_int*typent,
@@ -229,7 +229,7 @@ nedfelel(med_int *fid,char *maa,med_int*
   if (!(fn1&&fs1))
      return -1;
 
-  ret = (med_int) MEDelementsLire((med_idt)*fid,(char*)fn1,(med_int)*mdim,
+  ret = (med_int) MEDelementsLire(*fid,(char*)fn1,(med_int)*mdim,
 				 (med_int*)conn,(med_mode_switch) *mode_switch,
 				 (char*)fs1,(med_booleen*)&_inom,
 				 (med_int*)num,(med_booleen*)&_inum,
@@ -252,14 +252,14 @@ nedfelel(med_int *fid,char *maa,med_int*
 
 #ifdef PPRO_NT
 med_int 
- EDFG2FC(med_int *fid, char *maa, unsigned int bidon1,med_int *lon1, 
+ EDFG2FC(med_idt *fid, char *maa, unsigned int bidon1,med_int *lon1, 
 		  char *groupes, unsigned int bidon2,med_int *lon2, 
 		  med_int *index, med_int *ngroup,med_int *entites,
 		  med_int *nent, med_int *type_ent,med_int *type_geo,
 		  med_int *indexgeo, med_int *ngeo)
 #else 
 med_int 
-nedfg2fc(med_int *fid, char *maa,med_int *lon1, 
+nedfg2fc(med_idt *fid, char *maa,med_int *lon1, 
 	 char *groupes,med_int *lon2, 
 	 med_int *index, med_int *ngroup,med_int *entites,
 	 med_int *nent, med_int *type_ent,med_int *type_geo,
@@ -279,7 +279,7 @@ nedfg2fc(med_int *fid, char *maa,med_int
   for (i=0;i<*ngeo;i++)
     *(types+i) = (med_geometrie_element) *(type_geo+i);
 
-  ret = (med_int) MEDgro2famCr((med_idt)*fid,(char*)fn1,
+  ret = (med_int) MEDgro2famCr(*fid,(char*)fn1,
 			       (char*)fn2,(med_int*)index,
 			       (med_int)*ngroup,(med_int *)entites,
 			       (med_int) *nent,
Index: med-fichier-3.0.6/src/2.3.6/cfi/gausscf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/gausscf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/gausscf.c
@@ -30,11 +30,11 @@
 
 #ifdef PPRO_NT
 med_int 
- EDFGAUI(med_int *fid, med_int *indice, char * locname, unsigned int bidon,
+ EDFGAUI(med_idt *fid, med_int *indice, char * locname, unsigned int bidon,
 		  med_int *typ_geo, med_int *ngauss)
 #else
 med_int
-nedfgaui(med_int *fid,med_int *indice, char * locname,
+nedfgaui(med_idt *fid,med_int *indice, char * locname,
 	 med_int *typ_geo, med_int *ngauss)
 #endif
 {
@@ -55,15 +55,15 @@ nedfgaui(med_int *fid,med_int *indice, c
 
 #ifdef PPRO_NT
 med_int 
- EDFNGAU(med_int *fid)
+ EDFNGAU(med_idt *fid)
 #else
 med_int 
-nedfngau(med_int *fid)
+nedfngau(med_idt *fid)
 #endif
 {
   med_int ret; 
   
-  ret = (med_int) MEDnGauss((med_idt) *fid); 
+  ret = (med_int) MEDnGauss(*fid); 
 
   return(ret); 
 }
@@ -71,13 +71,13 @@ nedfngau(med_int *fid)
 
 #ifdef PPRO_NT
 med_int
- EDFGAUE(med_int *fid,med_int *typ_geo,
+ EDFGAUE(med_idt *fid,med_int *typ_geo,
 		  med_float *refcoo, med_int *mode_coo,
 		  med_int *ngauss, med_float *gscoo, med_float *wg,
 		  char *locname, unsigned int bidon1, med_int *lon1)
 #else
 med_int 
-nedfgaue(med_int *fid,med_int *typ_geo,
+nedfgaue(med_idt *fid,med_int *typ_geo,
 		  med_float *refcoo, med_int *mode_coo,
 		  med_int *ngauss, med_float *gscoo, med_float *wg,
 		  char *locname, med_int *lon1)
@@ -92,7 +92,7 @@ nedfgaue(med_int *fid,med_int *typ_geo,
 
   if (!fn1) return(-1); 
   
-  ret = (med_int) MEDgaussEcr( (med_idt) *fid, type,
+  ret = (med_int) MEDgaussEcr( *fid, type,
 			       (med_float *) refcoo, mode,
 			       (med_int) *ngauss, (med_float *) gscoo, (med_float *) wg,
 			       (char *) fn1);
@@ -105,11 +105,11 @@ nedfgaue(med_int *fid,med_int *typ_geo,
 
 #ifdef PPRO_NT
 med_int
- EDFGAUL(med_int * fid, med_float *refcoo, med_float *gscoo, med_float * wg,
+ EDFGAUL(med_idt * fid, med_float *refcoo, med_float *gscoo, med_float * wg,
 		  med_int *mode_coo, char *locname, unsigned int bidon1, med_int *lon1)
 #else
 med_int 
-nedfgaul(med_int * fid, med_float *refcoo, med_float *gscoo, med_float * wg,
+nedfgaul(med_idt * fid, med_float *refcoo, med_float *gscoo, med_float * wg,
 	 med_int *mode_coo, char *locname, med_int *lon1)
 #endif
 {
@@ -121,7 +121,7 @@ nedfgaul(med_int * fid, med_float *refco
 
   if (!fn1) return(-1); 
   
-  ret = (med_int) MEDgaussLire( (med_idt) *fid, (med_float *) refcoo, (med_float *)gscoo,
+  ret = (med_int) MEDgaussLire( *fid, (med_float *) refcoo, (med_float *)gscoo,
 				(med_float *) wg, mode,
 				(char *) fn1);
 
Index: med-fichier-3.0.6/src/2.3.6/cfi/scalairecf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/scalairecf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/scalairecf.c
@@ -36,12 +36,12 @@
 
 #ifdef PPRO_NT
 med_int
- EDFSCAC(med_int *fid,char *scalaire, unsigned int bidon1, 
+ EDFSCAC(med_idt *fid,char *scalaire, unsigned int bidon1, 
                   med_int *lon1,med_int *data_type, char *desc, 
                   unsigned int bidon2, med_int *lon2)
 #else
   med_int
-nedfscac(med_int *fid,char *scalaire,med_int *lon1,med_int *data_type,
+nedfscac(med_idt *fid,char *scalaire,med_int *lon1,med_int *data_type,
 	 char *desc,med_int *lon2)
 #endif
 {
@@ -56,7 +56,7 @@ nedfscac(med_int *fid,char *scalaire,med
     return(-1); 
 
   typechamp = (med_type_champ) *data_type;
-  ret = (med_int) MEDscalaireCr((med_idt) *fid, fn1, 
+  ret = (med_int) MEDscalaireCr( *fid, fn1, 
 				typechamp, (char *)fn2);
 
   _MEDcstringFree(fn1);
@@ -67,13 +67,13 @@ nedfscac(med_int *fid,char *scalaire,med
 
 #ifdef PPRO_NT
 med_int
- EDFSCEE(med_int *fid, 
+ EDFSCEE(med_idt *fid, 
 		  char *scalaire, unsigned int bidon1, med_int *lon1, med_int *val,
 		  med_int *numdt, char *dt_unit, unsigned int bidon2, med_int *lon2, 
 		  med_float *dt, med_int *numo) 
 #else
   med_int
-nedfscee(med_int *fid, 
+nedfscee(med_idt *fid, 
 	 char *scalaire, med_int *lon1, med_int *val,
 	 med_int *numdt, char *dt_unit, med_int *lon2, 
 	 med_float *dt, med_int *numo) 
@@ -88,7 +88,7 @@ nedfscee(med_int *fid,
   if (!fn1 || !fn2)
     return(-1); 
     
-  ret = (int) MEDscalaireEntierEcr((med_idt) *fid,(char *)fn1,(med_int) *val,
+  ret = (int) MEDscalaireEntierEcr( *fid,(char *)fn1,(med_int) *val,
 				   (med_int) *numdt, (char *) fn2, (med_float) *dt, 
 				   (med_int) *numo );
 
@@ -101,13 +101,13 @@ nedfscee(med_int *fid,
 
 #ifdef PPRO_NT
 med_int
- EDFSCFE(med_int *fid, 
+ EDFSCFE(med_idt *fid, 
 		  char *scalaire, unsigned int bidon1, med_int *lon1, med_float *val,
 		  med_int *numdt, char *dt_unit, unsigned int bidon2, med_int *lon2, 
 		  med_float *dt, med_int *numo) 
 #else
   med_int
-nedfscfe(med_int *fid, 
+nedfscfe(med_idt *fid, 
 	 char *scalaire, med_int *lon1, med_float *val,
 	 med_int *numdt, char *dt_unit, med_int *lon2, 
 	 med_float *dt, med_int *numo) 
@@ -122,7 +122,7 @@ nedfscfe(med_int *fid,
   if (!fn1 || !fn2)
     return(-1); 
     
-  ret = (int) MEDscalaireFlottantEcr((med_idt) *fid,(char *)fn1,(med_float) *val,
+  ret = (int) MEDscalaireFlottantEcr( *fid,(char *)fn1,(med_float) *val,
 				     (med_int) *numdt, (char *) fn2, (med_float) *dt, 
 				     (med_int) *numo );
 
@@ -135,15 +135,15 @@ nedfscfe(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
- EDFNSCA(med_int *fid)
+ EDFNSCA(med_idt *fid)
 #else
   med_int 
-nedfnsca(med_int *fid)
+nedfnsca(med_idt *fid)
 #endif
 {
   med_int ret; 
 
-  ret = (med_int) MEDnScalaire((med_idt) *fid);
+  ret = (med_int) MEDnScalaire( *fid);
 
   return(ret);
 }  
@@ -151,11 +151,11 @@ nedfnsca(med_int *fid)
 
 #ifdef PPRO_NT
 med_int 
- EDFSCAI(med_int *fid, med_int *ind, char *scalaire, unsigned int bidon1,
+ EDFSCAI(med_idt *fid, med_int *ind, char *scalaire, unsigned int bidon1,
                   med_int *data_type, char *desc, unsigned int bidon2)
 #else
   med_int 
-nedfscai(med_int *fid,med_int *ind,char *scalaire,
+nedfscai(med_idt *fid,med_int *ind,char *scalaire,
 	 med_int *data_type,char *desc)
 #endif
 {
@@ -169,7 +169,7 @@ nedfscai(med_int *fid,med_int *ind,char
   if (!(fs1&&fs2))
     return -1;     
 
-  ret = (med_int) MEDscalaireInfo((med_idt) *fid, (int)*ind, (char *)fs1, 
+  ret = (med_int) MEDscalaireInfo( *fid, (int)*ind, (char *)fs1, 
 				  &typechamp ,(char *)fs2);
   *data_type = (med_int) typechamp;
    
@@ -186,10 +186,10 @@ nedfscai(med_int *fid,med_int *ind,char
 
 #ifdef PPRO_NT
 med_int
- EDFNSPD(med_int *fid,char *scalaire, unsigned int bidon1, med_int *lon1)
+ EDFNSPD(med_idt *fid,char *scalaire, unsigned int bidon1, med_int *lon1)
 #else
   med_int 
-nedfnspd(med_int *fid,char *scalaire, med_int *lon1)
+nedfnspd(med_idt *fid,char *scalaire, med_int *lon1)
 #endif
 {
   med_int ret;
@@ -200,7 +200,7 @@ nedfnspd(med_int *fid,char *scalaire, me
   if (!fn1)
     return(-1); 
 
-  ret = (med_int) MEDnScalairePasdetemps((med_idt) *fid,(char *) fn1);
+  ret = (med_int) MEDnScalairePasdetemps( *fid,(char *) fn1);
 
   _MEDcstringFree(fn1);
 
@@ -210,12 +210,12 @@ nedfnspd(med_int *fid,char *scalaire, me
 
 #ifdef PPRO_NT
 med_int
- EDFSPDI(med_int *fid, char *scalaire, unsigned int bidon1, med_int *lon1,
+ EDFSPDI(med_idt *fid, char *scalaire, unsigned int bidon1, med_int *lon1,
 		  med_int *indice,med_int *numdt, char *dt_unit, unsigned int bidon2,
 		  med_float *dt, med_int *numo)
 #else
   med_int 
-nedfspdi(med_int *fid,char *scalaire, med_int *lon1,med_int *indice,
+nedfspdi(med_idt *fid,char *scalaire, med_int *lon1,med_int *indice,
 	 med_int *numdt,char *dt_unit, med_float *dt, med_int *numo)
 #endif
 {
@@ -228,7 +228,7 @@ nedfspdi(med_int *fid,char *scalaire, me
   if (!fn1)
     return(-1); 
 
-  ret = (med_int) MEDscalairePasdetempsInfo((med_idt) *fid,(char *) fn1,(int) *indice, 
+  ret = (med_int) MEDscalairePasdetempsInfo( *fid,(char *) fn1,(int) *indice, 
 					    (med_int *) numdt, (char *) fs1, 
 					    (med_float *) dt, (med_int *) numo);
 
@@ -242,12 +242,12 @@ nedfspdi(med_int *fid,char *scalaire, me
 
 #ifdef PPRO_NT
 med_int
- EDFSCEL(med_int *fid, 
+ EDFSCEL(med_idt *fid, 
 		  char *scalaire, unsigned int bidon1, med_int *lon1, med_int *val,
 		  med_int *numdt,med_int *numo) 
 #else
   med_int
-nedfscel(med_int *fid, 
+nedfscel(med_idt *fid, 
 	 char *scalaire, med_int *lon1, med_int *val,
 	 med_int *numdt,med_int *numo) 
 #endif
@@ -260,7 +260,7 @@ nedfscel(med_int *fid,
   if (!fn1)
     return(-1); 
 
-  ret = (med_int) MEDscalaireEntierLire((med_idt) *fid,(char *)fn1,(med_int *) val,
+  ret = (med_int) MEDscalaireEntierLire( *fid,(char *)fn1,(med_int *) val,
 					(med_int) *numdt, (med_int ) *numo);
 
   _MEDcstringFree(fn1);
@@ -271,12 +271,12 @@ nedfscel(med_int *fid,
 
 #ifdef PPRO_NT
 med_int
- EDFSCFL(med_int *fid, 
+ EDFSCFL(med_idt *fid, 
 		  char *scalaire, unsigned int bidon1, med_int *lon1, med_float *val,
 		  med_int *numdt,med_int *numo) 
 #else
   med_int
-nedfscfl(med_int *fid, 
+nedfscfl(med_idt *fid, 
 	 char *scalaire, med_int *lon1, med_float *val,
 	 med_int *numdt, med_int *numo) 
 #endif
@@ -289,7 +289,7 @@ nedfscfl(med_int *fid,
   if (!fn1)
     return(-1); 
 
-  ret = (med_int) MEDscalaireFlottantLire((med_idt) *fid,(char *)fn1,(med_float *) val,
+  ret = (med_int) MEDscalaireFlottantLire( *fid,(char *)fn1,(med_float *) val,
 					  (med_int) *numdt, (med_int ) *numo);
 
   _MEDcstringFree(fn1);
Index: med-fichier-3.0.6/src/2.3.6/cfi/famcf231.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/famcf231.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/famcf231.c
@@ -35,7 +35,7 @@ nedffamc231(int dummy,...)
 #endif
 {
 
-  med_int *fid;
+  med_idt *fid;
   char    *maa;
   med_int *lon1;
   char    *fam;
@@ -57,7 +57,7 @@ nedffamc231(int dummy,...)
   va_list params;
   va_start(params,dummy);
 
-  fid        = va_arg(params,  med_int* );
+  fid        = va_arg(params,  med_idt* );
   maa        = va_arg(params,  char*    );
   lon1       = va_arg(params,  med_int* );
   fam        = va_arg(params,  char*    );
@@ -84,7 +84,7 @@ nedffamc231(int dummy,...)
   if (!fn1 || !fn2 || !fn3 || !fn4)
     goto ERROR; 
 
-  if( MEDfamCr((med_idt) *fid,fn1,fn2,(med_int) *num, 
+  if( MEDfamCr(*fid,fn1,fn2,(med_int) *num, 
 	       (med_int *) attr_ident,
 	       (med_int *) attr_val, fn3, (med_int) *n_attr, fn4, 
 	       (med_int) *n_groupe) < 0 )
Index: med-fichier-3.0.6/src/2.3.6/cfi/rescf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/rescf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/rescf.c
@@ -43,13 +43,13 @@
 
 #ifdef PPRO_NT
 med_int
- EDFCHAC(med_int *fid,char *cha, unsigned int bidon1, 
+ EDFCHAC(med_idt *fid,char *cha, unsigned int bidon1, 
                   med_int *lon1, med_int *data_type, char *comp,
 	          unsigned int bidon2, med_int *lon2, char *unit, 
                   unsigned int bidon3, med_int *lon3, med_int *n_comp)
 #else
 med_int
-nedfchac(med_int *fid,char *cha,med_int *lon1,med_int *data_type,char *comp,
+nedfchac(med_idt *fid,char *cha,med_int *lon1,med_int *data_type,char *comp,
 	 med_int *lon2, char *unit,med_int *lon3,med_int *n_comp)
 #endif
 {
@@ -63,7 +63,7 @@ nedfchac(med_int *fid,char *cha,med_int
   if (!fn1 || !fn2 || !fn3)
     return(-1); 
 
-  ret = (med_int) MEDchampCr((med_idt) *fid, fn1, (med_type_champ) *data_type, 
+  ret = (med_int) MEDchampCr( *fid, fn1, (med_type_champ) *data_type, 
 			     (char *)fn2,(char *)fn3, (med_int) *n_comp);
 
   _MEDcstringFree(fn1);
@@ -75,7 +75,7 @@ nedfchac(med_int *fid,char *cha,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFCHAE(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+ EDFCHAE(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                   char *cha, unsigned int bidon2, med_int *lon2, 
 		  med_int *val, med_int *interlace, med_int *n,
 		  char *locname,unsigned int bidon5, med_int *lon5,
@@ -86,7 +86,7 @@ med_int
 		  med_float *dt, med_int *numo) 
 #else
 med_int
-nedfchae(med_int *fid, char *maa, med_int *lon1,
+nedfchae(med_idt *fid, char *maa, med_int *lon1,
 	 char *cha, med_int *lon2, 
 	 med_int *val, med_int *interlace, med_int *n,
 	 char *locname, med_int *lon5, med_int *numco,
@@ -124,7 +124,7 @@ nedfchae(med_int *fid, char *maa, med_in
   
 #ifdef _DEBUG_
   printf(" - Valeur de numo     : |%d|\n", *numo);
-  printf(" - Valeur de fid      : |%d|\n", *fid);
+  printf(" - Valeur de fid      : |%ld|\n", *fid);
   printf(" - Valeur de maillage : |%s|\n", fn1);
   printf(" - Valeur de champ    : |%s|\n", fn2);
   for (i=0; i < (*n)*2; i++ )
@@ -142,7 +142,7 @@ nedfchae(med_int *fid, char *maa, med_in
   fflush(stdout);
 #endif
 
-  ret = (int) MEDchampEcr((med_idt) *fid,(char *)fn1,
+  ret = (int) MEDchampEcr( *fid,(char *)fn1,
 			  (char *) fn2, (void *) val,
 			  (med_mode_switch) *interlace, (med_int) *n,
 			  (char *) fn5,
@@ -171,7 +171,7 @@ nedfchae(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int
- EDFCHAL(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+ EDFCHAL(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                   char *cha, unsigned int bidon2, med_int *lon2, med_int *val,
 		  med_int *interlace, med_int *numco, 
 		  char * locname,unsigned int bidon4,
@@ -180,7 +180,7 @@ med_int
 		  med_int *numdt, med_int *numo)
 #else
 med_int
-nedfchal(med_int *fid, char *maa, med_int *lon1, char *cha, med_int *lon2, 
+nedfchal(med_idt *fid, char *maa, med_int *lon1, char *cha, med_int *lon2, 
 	 med_int *val,
 	 med_int *interlace,med_int *numco, 
 	 char * locname, char *profil, med_int * pflmod,	 
@@ -200,7 +200,7 @@ nedfchal(med_int *fid, char *maa, med_in
   
   if (!fn1 || !fn2 || !fs3|| !fs4) goto ERROR; 
 
-  ret = (med_int) MEDchampLire((med_idt) *fid, 
+  ret = (med_int) MEDchampLire( *fid, 
 			       (char *)fn1,(char *)fn2, (unsigned char *) val,
 			       (med_mode_switch) *interlace,
 			       (med_int) *numco,
@@ -237,12 +237,12 @@ nedfchal(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int 
- EDFCHAI(med_int *fid, med_int *ind, char *cha, unsigned int bidon1,
+ EDFCHAI(med_idt *fid, med_int *ind, char *cha, unsigned int bidon1,
                   med_int *data_type, char *comp, unsigned int bidon2, 
                   char *unit, unsigned int bidon3, med_int *n_comp)
 #else
 med_int 
-nedfchai(med_int *fid,med_int *ind,char *cha,
+nedfchai(med_idt *fid,med_int *ind,char *cha,
 	 med_int *data_type, 
 	 char *comp,char *unit,
 	 med_int *n_comp)
@@ -253,7 +253,7 @@ nedfchai(med_int *fid,med_int *ind,char
   char *fs1,*fs2,*fs3;
   med_type_champ datatype;
 
-  ncomp = MEDnChamp((med_idt)*fid,(int)*ind);
+  ncomp = MEDnChamp(*fid,(int)*ind);
   
   fs1 = (char *) malloc(sizeof(char)*MED_TAILLE_NOM+1);
   fs2 = (char *) malloc(sizeof(char)*MED_TAILLE_PNOM*ncomp+1);
@@ -262,7 +262,7 @@ nedfchai(med_int *fid,med_int *ind,char
   if (!(fs1&&fs2&&fs3))
     return -1;     
 
-  ret = (med_int) MEDchampInfo((med_idt) *fid, (int)*ind, (char *)fs1, 
+  ret = (med_int) MEDchampInfo( *fid, (int)*ind, (char *)fs1, 
 			       &datatype, 
 			       (char *)fs2, (char *)fs3,(med_int )*n_comp);
   
@@ -282,15 +282,15 @@ nedfchai(med_int *fid,med_int *ind,char
 
 #ifdef PPRO_NT
 med_int 
- EDFNCHA(med_int *fid, med_int *indice)
+ EDFNCHA(med_idt *fid, med_int *indice)
 #else
 med_int 
-nedfncha(med_int *fid, med_int *indice)
+nedfncha(med_idt *fid, med_int *indice)
 #endif
 {
   med_int ret; 
 
-  ret = (med_int) MEDnChamp((med_idt) *fid, (int)*indice);
+  ret = (med_int) MEDnChamp( *fid, (int)*indice);
 
   return(ret);
 }  
@@ -298,13 +298,13 @@ nedfncha(med_int *fid, med_int *indice)
    
 #ifdef PPRO_NT
 med_int
- EDFNREF(med_int *fid,
+ EDFNREF(med_idt *fid,
                   char *cha, unsigned int bidon1, med_int *lon1, 
                   med_int *typ_ent, med_int *typ_geo,
 		  med_int *numdt, med_int *numo)
 #else
 med_int
-nedfnref(med_int *fid, char *cha,med_int *lon1,
+nedfnref(med_idt *fid, char *cha,med_int *lon1,
 	 med_int *typ_ent,med_int *typ_geo,
 	 med_int *numdt, med_int *numo)
 #endif
@@ -317,7 +317,7 @@ nedfnref(med_int *fid, char *cha,med_int
   if (!fn1)
     return(-1); 
  
-  ret = (med_int) MEDnChampRef((med_idt) *fid, (char *)fn1,
+  ret = (med_int) MEDnChampRef( *fid, (char *)fn1,
 			       (med_entite_maillage) *typ_ent, 
 			       (med_geometrie_element) *typ_geo,
 			       (med_int) *numdt, (med_int) *numo);
@@ -329,14 +329,14 @@ nedfnref(med_int *fid, char *cha,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFNVAL(med_int *fid,
+ EDFNVAL(med_idt *fid,
                   char *cha, unsigned int bidon1, med_int *lon1, 
                   med_int *typ_ent, med_int *typ_geo,
 		  med_int *numdt, med_int *numo,
 		  char * maa, unsigned int bidon2, med_int *lon2, med_int * pflmod)
 #else
 med_int
-nedfnval(med_int *fid, char *cha,med_int *lon1,
+nedfnval(med_idt *fid, char *cha,med_int *lon1,
 	 med_int *typ_ent,med_int *typ_geo,
 	 med_int *numdt, med_int *numo,
 	 char * maa, unsigned int *lon2, med_int * pflmod)
@@ -352,7 +352,7 @@ nedfnval(med_int *fid, char *cha,med_int
   if (!fn1 || !fn2 )
     return(-1); 
 
-  ret = (med_int) MEDnVal((med_idt) *fid, (char *)fn1,
+  ret = (med_int) MEDnVal( *fid, (char *)fn1,
 			  (med_entite_maillage) *typ_ent, 
 			  (med_geometrie_element) *typ_geo,
 			  (med_int) *numdt, (med_int) *numo,(char *) fn2, (med_mode_profil) * pflmod);
@@ -367,11 +367,11 @@ nedfnval(med_int *fid, char *cha,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFNPDT(med_int *fid,char *cha, unsigned int bidon1, med_int *lon1,
+ EDFNPDT(med_idt *fid,char *cha, unsigned int bidon1, med_int *lon1,
 		  med_int * type_ent, med_int *type_geo)
 #else
 med_int 
-nedfnpdt(med_int *fid,char *cha, med_int *lon1,
+nedfnpdt(med_idt *fid,char *cha, med_int *lon1,
 	 med_int * type_ent, med_int *type_geo)
 #endif
 {
@@ -383,7 +383,7 @@ nedfnpdt(med_int *fid,char *cha, med_int
   if (!fn1)
     return(-1); 
 
-  ret = (med_int) MEDnPasdetemps((med_idt) *fid,(char *) fn1,
+  ret = (med_int) MEDnPasdetemps( *fid,(char *) fn1,
 				 (med_entite_maillage) *type_ent,
 				 (med_geometrie_element) *type_geo);
 
@@ -395,7 +395,7 @@ nedfnpdt(med_int *fid,char *cha, med_int
 
 #ifdef PPRO_NT
 med_int
- EDFPDTI(med_int *fid, char *cha, unsigned int bidon1, med_int *lon1,
+ EDFPDTI(med_idt *fid, char *cha, unsigned int bidon1, med_int *lon1,
 		  med_int *type_ent, med_int *type_geo,
 		  med_int *indice,
 		  med_int *ngauss,
@@ -406,7 +406,7 @@ med_int
 		  med_int* local, med_int * nmaa)
 #else
 med_int 
-nedfpdti(med_int *fid,char *cha, med_int *lon1,
+nedfpdti(med_idt *fid,char *cha, med_int *lon1,
 	 med_int *type_ent, med_int *type_geo,
 	 med_int *indice,
 	 med_int *ngauss, 
@@ -426,7 +426,7 @@ nedfpdti(med_int *fid,char *cha, med_int
   if (!fn1)
     return(-1); 
 
-  ret = (med_int) MEDpasdetempsInfo((med_idt) *fid, (char *) fn1,
+  ret = (med_int) MEDpasdetempsInfo( *fid, (char *) fn1,
 				    (med_entite_maillage) *type_ent, 
 				    (med_geometrie_element) *type_geo,(int) *indice, 
 				    (med_int *) ngauss, 
@@ -449,7 +449,7 @@ nedfpdti(med_int *fid,char *cha, med_int
 
 #ifdef PPRO_NT
 med_int
- EDFREFI(med_int *fid, char *cha, unsigned int bidon1, med_int *lon1,
+ EDFREFI(med_idt *fid, char *cha, unsigned int bidon1, med_int *lon1,
 		  med_int *type_ent, med_int *type_geo,
 		  med_int *indice,
 		  med_int *numdt  , med_int *numo,
@@ -457,7 +457,7 @@ med_int
 		  med_int * local, med_int *ngauss)
 #else
 med_int 
-nedfrefi(med_int *fid, char *cha, med_int *lon1,
+nedfrefi(med_idt *fid, char *cha, med_int *lon1,
 	 med_int *type_ent, med_int *type_geo,
 	 med_int *indice,
 	 med_int *numdt,   med_int *numo,
@@ -475,7 +475,7 @@ nedfrefi(med_int *fid, char *cha, med_in
   if (!fn1)
     return(-1); 
 
-  ret = (med_int) MEDchampRefInfo((med_idt) *fid, (char *) fn1,
+  ret = (med_int) MEDchampRefInfo( *fid, (char *) fn1,
 				    (med_entite_maillage) *type_ent, 
 				    (med_geometrie_element) *type_geo,(int) *indice,
 				    (med_int) *numdt, (med_int) *numo,
@@ -492,17 +492,17 @@ nedfrefi(med_int *fid, char *cha, med_in
 
 #ifdef PPRO_NT
 med_int 
- EDFLIEI(med_int *fid, med_int *indice, char *maa, 
+ EDFLIEI(med_idt *fid, med_int *indice, char *maa, 
                   unsigned int bidon, med_int *n)
 #else
 med_int
-nedfliei(med_int *fid,med_int *indice, char *maa,med_int *n)
+nedfliei(med_idt *fid,med_int *indice, char *maa,med_int *n)
 #endif
 {
   med_int ret;
   char fs1[MED_TAILLE_NOM+1];
 
-  ret = (med_int) MEDlienInfo((med_idt)*fid,(med_int) *indice, (char *) fs1, 
+  ret = (med_int) MEDlienInfo(*fid,(med_int) *indice, (char *) fs1, 
 			     (med_int *) n); 
   
   strncpy(maa,fs1,MED_TAILLE_NOM);
@@ -514,15 +514,15 @@ nedfliei(med_int *fid,med_int *indice, c
 
 #ifdef PPRO_NT
 med_int 
- EDFNLIE(med_int *fid)
+ EDFNLIE(med_idt *fid)
 #else
 med_int 
-nedfnlie(med_int *fid)
+nedfnlie(med_idt *fid)
 #endif
 {
   med_int ret; 
   
-  ret = (med_int) MEDnLien((med_idt) *fid); 
+  ret = (med_int) MEDnLien( *fid); 
 
   return(ret); 
 }
@@ -530,11 +530,11 @@ nedfnlie(med_int *fid)
 
 #ifdef PPRO_NT
 med_int
- EDFLIEE(med_int *fid, char *lienval, unsigned int bidon0, med_int *lon0,
+ EDFLIEE(med_idt *fid, char *lienval, unsigned int bidon0, med_int *lon0,
 		  char *maa, unsigned int bidon1, med_int *lon1)
 #else
 med_int 
-nedfliee(med_int *fid, char *lienval, med_int *lon0, char *maa, med_int *lon1)
+nedfliee(med_idt *fid, char *lienval, med_int *lon0, char *maa, med_int *lon1)
 #endif
 {
   med_int ret;
@@ -546,7 +546,7 @@ nedfliee(med_int *fid, char *lienval, me
 
   if (!fn0 || !fn1) return(-1); 
   
-  ret = (med_int) MEDlienEcr((med_idt) *fid,(char *) fn0,(char *) fn1);
+  ret = (med_int) MEDlienEcr( *fid,(char *) fn0,(char *) fn1);
 
   _MEDcstringFree(fn0);
   _MEDcstringFree(fn1);
@@ -559,10 +559,10 @@ nedfliee(med_int *fid, char *lienval, me
 
 #ifdef PPRO_NT
 med_int
- EDFNVLI(med_int *fid,char *maa, unsigned int bidon1, med_int *lon1)
+ EDFNVLI(med_idt *fid,char *maa, unsigned int bidon1, med_int *lon1)
 #else
 med_int 
-nedfnvli(med_int *fid ,char *maa, med_int *lon1)
+nedfnvli(med_idt *fid ,char *maa, med_int *lon1)
 #endif
 {
   med_int ret;
@@ -573,7 +573,7 @@ nedfnvli(med_int *fid ,char *maa, med_in
   if (!fn1)
     return(-1); 
   
-  ret = (med_int) MEDnValLien((med_idt) *fid,(char *)fn1);
+  ret = (med_int) MEDnValLien( *fid,(char *)fn1);
 
   _MEDcstringFree(fn1);
 
@@ -583,11 +583,11 @@ nedfnvli(med_int *fid ,char *maa, med_in
 
 #ifdef PPRO_NT
 med_int
- EDFLIEL(med_int *fid, char *lienval,unsigned int bidon0, med_int *n,
+ EDFLIEL(med_idt *fid, char *lienval,unsigned int bidon0, med_int *n,
 		  char *maa,unsigned int bidon1, med_int *lon1)
 #else
 med_int 
-nedfliel(med_int *fid, char *lienval, med_int *n,
+nedfliel(med_idt *fid, char *lienval, med_int *n,
 	 char *maa, med_int *lon1)
 #endif
 {
@@ -600,7 +600,7 @@ nedfliel(med_int *fid, char *lienval, me
 
   if (!(fs1&&fn1)) return(-1); 
   
-  ret = (med_int) MEDlienLire((med_idt) *fid,(char *) fs1,
+  ret = (med_int) MEDlienLire( *fid,(char *) fs1,
 				(char *)fn1);
   
   strncpy(lienval,fs1,*n);
Index: med-fichier-3.0.6/src/2.3.6/cfi/equcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/equcf.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/equcf.c
@@ -32,11 +32,11 @@
 
 #ifdef PPRO_NT
 med_int 
- EDFEQUC (med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+ EDFEQUC (med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                    char *eq, unsigned int bidon2, med_int *lon2, char *desc,                        unsigned int bidon3, med_int *lon3)
 #else
 med_int 
-nedfequc (med_int *fid, char *maa,med_int *lon1,char *eq,med_int *lon2, 
+nedfequc (med_idt *fid, char *maa,med_int *lon1,char *eq,med_int *lon2, 
 	  char *desc, med_int *lon3)
 #endif
 {
@@ -50,7 +50,7 @@ nedfequc (med_int *fid, char *maa,med_in
   if (!fn1 || !fn2 || !fn3)
     return(-1); 
 
-  ret = (med_int) MEDequivCr((med_idt) *fid,(char *)fn1,(char *)fn2,
+  ret = (med_int) MEDequivCr(*fid,(char *)fn1,(char *)fn2,
 			     (char *)fn3); 
 
   _MEDcstringFree(fn1);
@@ -62,13 +62,13 @@ nedfequc (med_int *fid, char *maa,med_in
 
 #ifdef PPRO_NT
 med_int
- EDFEQUE (med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+ EDFEQUE (med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                    char *eq, unsigned int bidon2, med_int *lon2, med_int *corr,
                    med_int *n, med_int *typ_ent, 
                    med_int *typ_geo)
 #else
 med_int 
-nedfeque (med_int *fid, char *maa,med_int *lon1, char *eq,med_int *lon2, 
+nedfeque (med_idt *fid, char *maa,med_int *lon1, char *eq,med_int *lon2, 
 	  med_int *corr,med_int *n, 
 	  med_int *typ_ent,med_int *typ_geo)
 #endif
@@ -82,7 +82,7 @@ nedfeque (med_int *fid, char *maa,med_in
   if (!fn1 || !fn2)
     return(-1); 
 
-  ret = (med_int) MEDequivEcr((med_idt) *fid, (char *)fn1,(char *)fn2, 
+  ret = (med_int) MEDequivEcr(*fid, (char *)fn1,(char *)fn2, 
 			      (med_int *) corr, (med_int) *n, 
 			      (med_entite_maillage) *typ_ent, 
 			      (med_geometrie_element) *typ_geo); 
@@ -95,13 +95,13 @@ nedfeque (med_int *fid, char *maa,med_in
 
 #ifdef PPRO_NT
 med_int
- EDFEQUL (med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+ EDFEQUL (med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                    char *eq, unsigned int bidon2, med_int *lon2, 
 	           med_int *corr, med_int *n, med_int *typ_ent, 
                    med_int *typ_geo)
 #else
 med_int
-nedfequl (med_int *fid, char *maa,med_int *lon1, char *eq,med_int *lon2, 
+nedfequl (med_idt *fid, char *maa,med_int *lon1, char *eq,med_int *lon2, 
 	  med_int *corr,med_int *n, 
 	  med_int *typ_ent, med_int *typ_geo)
 #endif
@@ -115,7 +115,7 @@ nedfequl (med_int *fid, char *maa,med_in
   if (!fn1 || !fn2)
     return(-1); 
 
-  ret = (med_int) MEDequivLire((med_idt) *fid, (char *)fn1,(char *)fn2, 
+  ret = (med_int) MEDequivLire(*fid, (char *)fn1,(char *)fn2, 
 			       (med_int *) corr, (med_int) *n, 
 			       (med_entite_maillage) *typ_ent, 
 			       (med_geometrie_element) *typ_geo); 
@@ -128,12 +128,12 @@ nedfequl (med_int *fid, char *maa,med_in
 
 #ifdef PPRO_NT
 med_int
- EDFNCOR(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+ EDFNCOR(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                   char *eq, unsigned int bidon2, med_int *lon2, 
 	          med_int *typ_ent, med_int *typ_geo)
 #else
 med_int
-nedfncor(med_int *fid, char *maa,med_int *lon1, char *eq, med_int *lon2, 
+nedfncor(med_idt *fid, char *maa,med_int *lon1, char *eq, med_int *lon2, 
 	 med_int *typ_ent, med_int *typ_geo)
 #endif
 {
@@ -146,7 +146,7 @@ nedfncor(med_int *fid, char *maa,med_int
   if (!fn1 || !fn2)
     return(-1); 
 
-  ret = (med_int) MEDnCorres((med_idt) *fid,(char *)fn1,(char *)fn2, 
+  ret = (med_int) MEDnCorres(*fid,(char *)fn1,(char *)fn2, 
 			     (med_entite_maillage) *typ_ent, 
 			     (med_geometrie_element) *typ_geo); 
 
@@ -159,10 +159,10 @@ nedfncor(med_int *fid, char *maa,med_int
 
 #ifdef PPRO_NT
 med_int
- EDFNEQU(med_int *fid, char *maa, unsigned int bidon, med_int *lon1)
+ EDFNEQU(med_idt *fid, char *maa, unsigned int bidon, med_int *lon1)
 #else
 med_int
-nedfnequ(med_int *fid, char *maa,med_int *lon1)
+nedfnequ(med_idt *fid, char *maa,med_int *lon1)
 #endif
 {
   med_int ret;
@@ -173,7 +173,7 @@ nedfnequ(med_int *fid, char *maa,med_int
   if (!fn1)
     return(-1); 
 
-  ret = (med_int) MEDnEquiv((med_idt) *fid,(char *)fn1); 
+  ret = (med_int) MEDnEquiv(*fid,(char *)fn1); 
 
   _MEDcstringFree(fn1);
 
@@ -184,11 +184,11 @@ nedfnequ(med_int *fid, char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
- EDFEQUI(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+ EDFEQUI(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                   med_int *ind, char *eq, unsigned int bidon2, char *des,                          unsigned int bidon3)
 #else
 med_int 
-nedfequi(med_int *fid, char *maa,med_int *lon1,med_int *ind, char *eq,
+nedfequi(med_idt *fid, char *maa,med_int *lon1,med_int *ind, char *eq,
 	 char *des)
 #endif
 {
@@ -200,7 +200,7 @@ nedfequi(med_int *fid, char *maa,med_int
   if (!(fn1&&fs2))
     return(-1);
 
-  ret = (med_int) MEDequivInfo((med_idt) *fid,(char *)fn1,(int) *ind, 
+  ret = (med_int) MEDequivInfo(*fid,(char *)fn1,(int) *ind, 
 			       (char *)fs2, (char *)fs1); 
 
   strncpy(eq,fs2,MED_TAILLE_NOM);
Index: med-fichier-3.0.6/src/2.3.6/cfi/famcf232.c
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/cfi/famcf232.c
+++ med-fichier-3.0.6/src/2.3.6/cfi/famcf232.c
@@ -35,7 +35,7 @@ nedffamc232(int dummy,...)
 #endif
 {
 
-  med_int *fid;
+  med_idt *fid;
   char    *maa;
   med_int *lon1;
   char    *fam;
@@ -57,7 +57,7 @@ nedffamc232(int dummy,...)
   va_list params;
   va_start(params,dummy);
 
-  fid        = va_arg(params,  med_int* );
+  fid        = va_arg(params,  med_idt* );
   maa        = va_arg(params,  char*    );
   lon1       = va_arg(params,  med_int* );
   fam        = va_arg(params,  char*    );
@@ -84,7 +84,7 @@ nedffamc232(int dummy,...)
   if (!fn1 || !fn2 || !fn3 || !fn4)
     goto ERROR; 
 
-  if( MEDfamCr((med_idt) *fid,fn1,fn2,(med_int) *num, 
+  if( MEDfamCr(*fid,fn1,fn2,(med_int) *num, 
 	       (med_int *) attr_ident,
 	       (med_int *) attr_val, fn3, (med_int) *n_attr, fn4, 
 	       (med_int) *n_groupe) < 0 )
Index: med-fichier-3.0.6/configure.ac
===================================================================
--- med-fichier-3.0.6.orig/configure.ac
+++ med-fichier-3.0.6/configure.ac
@@ -75,8 +75,11 @@ MED_CHECK_F77
 if test x"$enable_fortran" = xyes; then
  AC_F77_WRAPPERS
  AC_F77_LIBRARY_LDFLAGS
+ MED_CHECK_TYPEOF_HIDT
 fi
 
+
+
 ## Choose med_int type between {int,long}
 MED_CHECK_TYPEOF_MEDINT
 
Index: med-fichier-3.0.6/config/med_check_typeof_hidt.m4
===================================================================
--- /dev/null
+++ med-fichier-3.0.6/config/med_check_typeof_hidt.m4
@@ -0,0 +1,79 @@
+dnl  This file is part of MED.
+dnl
+dnl  COPYRIGHT (C) 1999 - 2016  EDF R&D, CEA/DEN
+dnl  MED is free software: you can redistribute it and/or modify
+dnl  it under the terms of the GNU Lesser General Public License as published by
+dnl  the Free Software Foundation, either version 3 of the License, or
+dnl  (at your option) any later version.
+dnl
+dnl  MED is distributed in the hope that it will be useful,
+dnl  but WITHOUT ANY WARRANTY; without even the implied warranty of
+dnl  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+dnl  GNU Lesser General Public License for more details.
+dnl
+dnl  You should have received a copy of the GNU Lesser General Public License
+dnl  along with MED.  If not, see <http://www.gnu.org/licenses/>.
+dnl
+
+AC_DEFUN([MED_CHECK_TYPEOF_HIDT], [
+AC_REQUIRE([MED_CHECK_HDF5])
+
+## Guess where as hid_t type is provided by --with-hid_t option
+## or auto-detection must be used
+
+AC_ARG_WITH([hid_t],
+            AC_HELP_STRING([--with-hid_t=<C type>],
+	                   [Use <C type int or long> for hid_t (autodetect by default)]),
+	    [],
+	    [withval=no])
+
+#Si l'interface fortran n'est pas gÃ©nÃ©rÃ©e ne lance pas les tests avec compilation
+#La taille du hid_t est dÃ©duite de la version d'HDF.
+#A partir d'HDF 1.10 hid_t est 64 bits 
+test x"$withval" = xno && test x"$enable_fortran" && ( test "0${HDF5_VERSION}" -gt "10899" && withval=long || withval=int )
+
+dnl Si aucune directive n est donnÃ©e, on vÃ©rifie la taille du hid_t induit de la version HDF utilisÃ©e
+dnl et on vÃ©rifie la cohÃ©rence avec la taille rÃ©elle de l entier Fortran.
+dnl Pour la cross-compilation, il ne faut pas lancer un test de compilation  
+dnl  -> l utilisateur spÃ©cifie le type Ã  utiliser : int ou long
+if test x"$withval" = xno
+then
+  ## Guess the fortran int size
+  CPPFLAGS_save="$CPPFLAGS"
+  CPPFLAGS="-I$hdf5include $CPPFLAGS "
+  AC_CHECK_SIZEOF(hid_t,[],[#include <H5Ipublic.h>])
+  CPPFLAGS="$CPPFLAGS_save"
+  if test "x$ac_cv_sizeof_hid_t" = "x8" ; then
+     test "0${HDF5_VERSION}" -lt "11000" && AC_MSG_ERROR([Size of the hid_t HDF5 type should not be eight bytes for HDF5 version < 1.10])
+     AC_DEFINE(HAVE_F77HIDT64,[],
+                       [The size of a Fortran integer for hid_t C type, as computed by sizeof.])
+     AC_CHECK_SIZEOF_FORTRAN(integer*8)
+     test "x$ac_cv_sizeof_fortran_integerp8" = "x8" || AC_MSG_ERROR([Size of integer*8 F type is expected to be eight bytes])
+     HIDT_I8_OR_I4="integer*8"
+  elif test "x$ac_cv_sizeof_hid_t" = "x4" ; then
+     test "0${HDF5_VERSION}" -ge "11000" && AC_MSG_ERROR([Size of the hid_t HDF5 type should not be four bytes for HDF5 version >= 1.10])
+     AC_CHECK_SIZEOF_FORTRAN(integer*4)
+     test "x$ac_cv_sizeof_fortran_integerp4" = "x4" || AC_MSG_ERROR([Size of integer*4 F type is expected to be four bytes])
+     HIDT_I8_OR_I4="integer*4"
+  else
+     AC_MSG_ERROR([Size of hid_t HDF5 type is neither four nor eight bytes])
+  fi
+
+else
+  if test "x$withval" = "xlong" ; then
+    test "0${HDF5_VERSION}" -lt "11000" && AC_MSG_ERROR([Size of the hid_t HDF5 type should not be eight bytes for HDF5 version < 1.10])
+    AC_DEFINE(HAVE_F77HIDT64,[],
+                       [The size of a Fortran integer for hid_t C type, as computed by sizeof.])
+    AC_MSG_WARN([Be careful that --with-hid_t=long implies using HDF 1.10.z])
+  elif test ! "x$withval" = "xint" ; then
+     AC_MSG_ERROR([--with-hid_t must be equal to int or long !])
+  fi
+  test ! "x$withval" = "xint" && test "0${HDF5_VERSION}" -ge "11000" && AC_MSG_ERROR([Size of the hid_t HDF5 type should not be four bytes for HDF5 version >= 1.10])
+
+  HID_LONG_OR_INT="$withval" 
+  AC_MSG_NOTICE([Using type $withval for hid_t])
+fi
+
+AC_SUBST(HIDT_I8_OR_I4)
+
+])
Index: med-fichier-3.0.6/config/med_enable_pmed.m4
===================================================================
--- med-fichier-3.0.6.orig/config/med_enable_pmed.m4
+++ med-fichier-3.0.6/config/med_enable_pmed.m4
@@ -40,10 +40,12 @@ dnl ],
 dnl [mpi_wanted_test="yes"],
 dnl [mpi_wanted_test="no"])
 
-
+# This function use H5pubconf.h to detect serial/parallel version of hdf found in ${hdf5include}.
+# No compiling is used within the test
 AC_DEFUN([_MED_BEFORE_CC_MPI], [
-
-if test "x`sed -n '/^#define *H5_HAVE_PARALLEL *1\{0,1\}/{s/.*/MED_CATCH_H5_HAVE_PARALLEL/p;}' ${hdf5home}/include/H5pubconf.h`" = "xMED_CATCH_H5_HAVE_PARALLEL"
+AC_REQUIRE([AC_PROG_SED])
+       
+if test "x`sed -n '/^#define *H5_HAVE_PARALLEL *1\{0,1\}/{s/.*/MED_CATCH_H5_HAVE_PARALLEL/p;}' ${hdf5include}/H5pubconf.h`" = "xMED_CATCH_H5_HAVE_PARALLEL"
 then
  mpi_wanted_test="yes"
 else
@@ -51,26 +53,33 @@ else
 fi
 ])
 
+# If hdf5 is parallel we have to find mpicc frontend
 AC_DEFUN([_MED_CALLING_CC_MPI], [
 AC_REQUIRE([_MED_BEFORE_CC_MPI])
 
 AX_PROG_CC_MPI(test "x$mpi_wanted_test" = "xyes",[],[
   if test x"$mpi_wanted_test" = xyes; then
-    AC_MSG_FAILURE([MPI CC compiler requested, but couldn't use MPI.])
+    AC_MSG_FAILURE([MPI CC compiler requested, but couldn't use it.])
   fi
 ])
 ])
 
+# This macro test if hdf5 is a parallel version, then
+# call for mpi C/F compiler frontend detection, set WITHPMED conditionnal, substitute BUILD_WITH_PMED with yes or no and add a MED_HAVE_MPI define in med_config.h 
 AC_DEFUN([MED_ENABLE_PMED],dnl
 [
 AC_REQUIRE([_MED_CALLING_CC_MPI])
+#We must check if the user want the Fortran interface
+#before testing a mpi fortran frontend
+#On devrait pouvoir le dÃ©sactiver ici car il a Ã©tÃ©
+#requis ds le check f90
 AC_REQUIRE([_MED_DEFINE_F77_ENABLE])
 
+#The parallel fortran test must have a f90 compiler if fortran interface is activated
 MED_CHECK_F90
 
 if test "x$mpi_wanted_test" = "xyes"
 then
-
  AM_CONDITIONAL([WITHPMED],[ true ])
 
 #MÃ©canisme pour exporter le #define MED_HAVE_MPI 
@@ -79,7 +88,7 @@ then
  BUILD_WITH_PMED="yes"
 else
  BUILD_WITH_PMED="no"
- AC_MSG_NOTICE([Can't find a parallel version of HDF.])
+ AC_MSG_NOTICE([HDF version is not a parallel one.])
  AM_CONDITIONAL([WITHPMED],[ false ])
 fi
  AC_SUBST(MED_DEFINE_MED_HAVE_MPI)
Index: med-fichier-3.0.6/config/med_check_f77.m4
===================================================================
--- med-fichier-3.0.6.orig/config/med_check_f77.m4
+++ med-fichier-3.0.6/config/med_check_f77.m4
@@ -35,7 +35,8 @@ enable_fortran=$enableval
 AC_DEFUN([_MED_CALLING_F77], [
   AC_REQUIRE([_MED_DEFINE_F77_ENABLE])
 
-
+#la macro de dÃ©tection du compilateur f77 cherchera le compilateur sÃ©quentiel
+#si mpi_wanted_test == no
   AX_PROG_F77_MPI(test "x$mpi_wanted_test" = "xyes",[],[
     if test x"$mpi_wanted_test" = xyes && test x"$enable_fortran" = xyes ; then
       AC_MSG_FAILURE([MPI F77 compiler requested, but couldn't use MPI.])
@@ -47,6 +48,8 @@ AC_DEFUN([_MED_CALLING_F77], [
 
 AC_DEFUN_ONCE([MED_CHECK_F77],dnl
 [
+#The macro for detecting Fortran compilers must not be called before
+# testing mpi fortran compiler frontend
 AC_BEFORE([$0],[AC_PROG_F77])
 AC_REQUIRE([_MED_CALLING_F77])
 
Index: med-fichier-3.0.6/config/med_check_hdf5.m4
===================================================================
--- med-fichier-3.0.6.orig/config/med_check_hdf5.m4
+++ med-fichier-3.0.6/config/med_check_hdf5.m4
@@ -22,35 +22,86 @@ AC_DEFUN([_MED_DEFINE_HDF5_ARGS],[
              AC_HELP_STRING([--with-hdf5=<path>],
 	                   [Use <path> for HDF5 path.]),
 	    [],
-[withval=yes])
+[with_hdf5=yes])
+
+ AC_ARG_WITH([hdf5-include],
+             AC_HELP_STRING([--with-hdf5-include=<include path>],
+	                   [Use <include path> for HDF5 include path.]),
+	    [],
+[with_hdf5_include=no])
+
+ AC_ARG_WITH([hdf5-lib],
+             AC_HELP_STRING([--with-hdf5-lib=<lib path>],
+	                   [Use <lib path> for lib HDF5 path.]),
+	    [],
+[with_hdf5_lib=no])
+
+ AC_ARG_WITH([hdf5-bin],
+             AC_HELP_STRING([--with-hdf5-bin=<bin path>],
+	                   [Use <bin path> for bin HDF5 path.]),
+	    [hdf5bin=$with_hdf5_bin],
+[with_hdf5_bin=no])
+
 ])
 
 AC_DEFUN([_MED_BEFORE_ENABLE_PMED], [
 AC_REQUIRE([_MED_DEFINE_HDF5_ARGS])
 
 dnl ## If user hasn't provided hdf5 path try using "$HDF5HOME" 
-    test "x$withval" = "xyes" && hdf5home=${HDF5HOME} || hdf5home=$withval
-    if test ! "x$withval" = "xno"; then
-
-dnl ## If user hasn't provided hdf5 path and "$HDF5HOME"=="" use system path /usr 
-       test -z "$hdf5home" && hdf5home="/usr/"
-dnl #If user specified a specific hdf5home, be careful to not detect an hdf5 package in the system 
-       if test ! -d "$hdf5home" ; then
-         AC_MSG_ERROR([The directory |$hdf5home| doesn't exist, please verify either HDF5HOME or --with-hdf5=<path>])
+    test "x$with_hdf5" = "xyes" && hdf5home=${HDF5HOME} || hdf5home=$with_hdf5
+#echo "-------------1 $hdf5home ($with_hdf5) -------------------"
+    if test ! "x$with_hdf5" = "xno"; then
+dnl ## If user has  neither provided hdf5 path (--with-hdf5 or "$HDF5HOME"=="") nor --with-hdf5-include and --with-hdf5-lib then try to use system path /usr as HDF5 home
+       test -z "$hdf5home"  &&  test "x$with_hdf5_include" = "xno" && test "x$with_hdf5_lib" = "xno"  && hdf5home="/usr/"
+#echo "-------------2 $hdf5home ($with_hdf5) -------------------"
+
+dnl #If user specified a specific hdf5home, be careful to not detect an hdf5 package in the system
+dnl #VÃ©rify that the hdf5 directory structure exist
+       if test -z "$hdf5home" && (test "x$with_hdf5_include" = "xno" || test "x$with_hdf5_lib" = "xno") ; then
+         AC_MSG_ERROR([The hdf5 path |$hdf5home| isn't specified, please verify either HDF5HOME or --with-hdf5=<path>. You may also use --with-hdf5-include and --with-hdf5-lib.])
+       fi
+       if test ! -d "$hdf5home" && (test "x$with_hdf5_include" = "xno" || test "x$with_hdf5_lib" = "xno") ; then
+         AC_MSG_ERROR([The directory hdf5 home |$hdf5home| doesn't exist, please verify either HDF5HOME or --with-hdf5=<path>])
        fi
 
-       if test ! -d "$hdf5home/lib" ; then
-         AC_MSG_ERROR([The directory |$hdf5home/lib| doesn't exist, please verify either HDF5HOME or --with-hdf5=<path>])
+      found_H5pubconf_h=no
+      hdf5home_save=$hdf5home
+      #if user has provided a specific hdf5 path for include or lib don't try to guess specific system path
+      if test "x$with_hdf5_include" = "xno" && test "x$with_hdf5_lib" = "xno"; then
+        #Search for H5pubconf.h in $hdf5home and some other standard paths if user doesn't provide hdf5_include
+	# H5pubconf.h is used further to detect serial or parallel hdf5 
+	#Cette approche ne prend pas en compte CPPFLAGS, inconvÃ©nient mineur de  au vu du test d'arborescence prÃ©cÃ©dent
+        for hdf5home in "$hdf5home_save" "$hdf5home_save/lib/x86_64-linux-gnu/hdf5/serial/"  "$hdf5home_save/lib/x86_64-linux-gnu/hdf5/parallel/"
+        do
+         AC_MSG_NOTICE([Trying $hdf5home home path for searching H5pubconf.h file.])
+         test -e $hdf5home/include/H5pubconf.h && found_H5pubconf_h=yes && break
+        done
+      fi
+
+#echo "-------------3 $hdf5home ($with_hdf5) -------------------"
+       test "x$with_hdf5_include" = "xno" && hdf5include=$hdf5home/include || hdf5include=$with_hdf5_include
+       if test ! -d "$hdf5include" ; then
+         AC_MSG_ERROR([The directory hdf5 include |$hdf5include| doesn't exist, please verify either HDF5HOME, --with-hdf5=<path> or --with-hdf5-include])
+       fi
+       
+#echo "-------------4 $hdf5include ($with_hdf5_include) -------------------"
+#echo "-------------5 found_H5pubconf_h : $found_H5pubconf_h ; ${hdf5include}/H5pubconf.h -------------------"
+       test ! "x$found_H5pubconf_h" = "xyes" || test -e ${hdf5include}/H5pubconf.h || AC_MSG_ERROR([Can't find H5pubconf.h file, please verify either HDF5HOME, --with-hdf5=<path> or --with-hdf5-include.])
+	
+       test "x$with_hdf5_lib" = "xno" && hdf5lib=$hdf5home/lib || hdf5lib=$with_hdf5_lib
+       if test ! -d "$hdf5lib" ; then
+         AC_MSG_ERROR([The directory hdf5 lib |$hdf5lib| doesn't exist, please verify either HDF5HOME, --with-hdf5=<path> or --with-hdf5-lib])
        fi
 
-       if test ! -d "$hdf5home/include" ; then
-         AC_MSG_ERROR([The directory |$hdf5home/include| doesn't exist, please verify either HDF5HOME or --with-hdf5=<path>])
+       test "x$with_hdf5_bin" = "xno" && hdf5bin=$hdf5home_save/bin || hdf5bin=$with_hdf5_bin
+       if test ! -d "$hdf5bin" ; then
+         AC_MSG_ERROR([The directory hdf5 bin |$hdf5bin| doesn't exist, please verify either HDF5HOME, --with-hdf5=<path> or --with-hdf5-bin])
        fi
 
     else
 ## In case user explicitly ask to not use hdf5 !
       AC_MSG_WARN([Can't compile MED without hdf5])
-      AC_MSG_ERROR([either use HDF5HOME env. var. or --with-hdf5=<path>])
+      AC_MSG_ERROR([either use HDF5HOME env. var. or --with-hdf5=<path> even if you use all the specific --with-hdf5-... paths.])
     fi
 ])
 
Index: med-fichier-3.0.6/config/med_check_hdf5_version.m4
===================================================================
--- med-fichier-3.0.6.orig/config/med_check_hdf5_version.m4
+++ med-fichier-3.0.6/config/med_check_hdf5_version.m4
@@ -15,6 +15,9 @@ dnl  You should have received a copy of
 dnl  along with MED.  If not, see <http://www.gnu.org/licenses/>.
 dnl
 
+dnl !!!! This macro is not used anymore because we need to detect sequential/parallel version
+dnl of HDF before detecting compilers so we can't compile a test !
+
 AC_DEFUN([AC_CHECK_HDF5_VERSION], [
  AC_CACHE_CHECK([HDF version is ok], [med_cv_hdf_version_isok],[
   AC_LANG_SAVE()
Index: med-fichier-3.0.6/config/med_check_f90.m4
===================================================================
--- med-fichier-3.0.6.orig/config/med_check_f90.m4
+++ med-fichier-3.0.6/config/med_check_f90.m4
@@ -20,7 +20,7 @@ AC_DEFUN([_MED_DEFINE_F90_ARGS],[
 ## or by the --with-f90 option
  AC_ARG_WITH([f90],
              AC_HELP_STRING([--with-f90=<compiler>],
- 	                   [Use <compiler> for F90 compiler]),
+ 	                   [Use <compiler> for F90 compiler (default:no)]),
  	    [
 #echo "---------1------ withval : ${withval} -----------------"
 dnl AC_MSG_WARN([-- MACRO APPELEE 1 ----])
@@ -35,33 +35,29 @@ dnl AC_MSG_WARN([-- MACRO APPELEE 2 ----
  
 AC_DEFUN([_MED_BEFORE_FC], [
   AC_REQUIRE([_MED_DEFINE_F90_ARGS])
+#We must check if the user want the Fortran interface
+#before testing a mpi fortran frontend
+ AC_REQUIRE([_MED_DEFINE_F77_ENABLE])
 #echo "---------1------ enable_fortran : $enable_fortran -----------------"
 #echo "---------1------ med_check_f90 : ${med_check_f90} -----------------"
-
 test x"$withval" = xyes && f90prog=${F90} 
-
 #echo "---------2------ enable_fortran : $enable_fortran -----------------"
 #echo "---------2------ med_check_f90 : ${med_check_f90} -----------------"
-
 test ! x"$withval" = xyes && test ! x"$withval" = xno && f90prog=$withval
-
 #echo "---------3------ enable_fortran : $enable_fortran -----------------"
 #echo "---------3------ med_check_f90 : ${med_check_f90} -----------------"
-
 med_check_f90="no"
-
 #echo "---------4------ enable_fortran : $enable_fortran -----------------"
 #echo "---------4------ med_check_f90 : ${med_check_f90} -----------------"
-
 (test ! x"$withval" = xno||(test x"$withval" = xno &&(test ! x"$FC" = x||test ! x"$MPIFC" = x )))&&med_check_f90="yes"
-
 test x"$enable_fortran" = xno && med_check_f90="no"
 #echo "---------5------ enable_fortran : $enable_fortran -----------------"
 #echo "---------5------ med_check_f90 : ${med_check_f90} -----------------"
 ])
 
 AC_DEFUN([_MED_CALLING_FC], [
-
+#la macro de détection du compilateur f90 cherchera le compilateur séquentiel
+#si mpi_wanted_test == no
   AX_PROG_FC_MPI(test "x$mpi_wanted_test" = "xyes",[],[
   if test x"$mpi_wanted_test" = xyes && test x"$med_check_f90" = xyes ; then
     AC_MSG_ERROR([MPI F90 compiler requested, but couldn't use MPI.])
@@ -72,8 +68,11 @@ AC_DEFUN([_MED_CALLING_FC], [
   test x"$FC" = x && test x"$med_check_f90" = xyes && AC_MSG_ERROR([Can't find a valid FC compiler, check your configure switches or the FC var...])
 ])
 
+
 AC_DEFUN_ONCE([MED_CHECK_F90],dnl
 [
+#The macro for detecting Fortran compilers must not be called before
+# testing mpi fortran compiler frontend
 AC_BEFORE([$0],[AC_PROG_FC])
 AC_BEFORE([$0],[AC_PROG_F77])
 AC_REQUIRE([_MED_BEFORE_FC])
Index: med-fichier-3.0.6/src/2.3.6/fi/entmaaf.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/entmaaf.f
+++ med-fichier-3.0.6/src/2.3.6/fi/entmaaf.f
@@ -23,7 +23,8 @@ c
       save
 c
       character *(*) maa
-      integer fid, conn(*),typent,typgeo,typcon,cret
+      integer*8 fid
+      integer conn(*),typent,typgeo,typcon,cret
       integer edfcone,n,mdim, switch
 c
       cret = edfcone (fid, maa ,len(maa),mdim,conn,switch,n, 
@@ -43,7 +44,8 @@ c
 c
       character *(*) maa
       integer mdim
-      integer fid, conn(*),typent,typgeo,typcon,cret
+      integer*8 fid
+      integer conn(*),typent,typgeo,typcon,cret
       integer pfltab(*), psize
       integer edfconl,switch
 c
@@ -64,7 +66,8 @@ c
 c
       character *(*) maa
       real*8 coo(*)
-      integer fid,typrep,mdim
+      integer*8 fid
+      integer typrep,mdim
       integer edfcooe,n,cret,modcoo
       character *(*) nom, unit
 c
@@ -86,7 +89,8 @@ c
       character *(*) maa
       real*8 coo(*)
       integer mdim
-      integer fid,typrep,cret,modcoo
+      integer*8 fid
+      integer typrep,cret,modcoo
       integer pfltab(*),psize, numco
       integer edfcool
       character *(*) nom, unit
@@ -107,7 +111,8 @@ c
 c
       character *(*) maa
       character*(*) nom
-      integer fid,typent, typgeo,cret
+      integer*8 fid
+      integer typent, typgeo,cret
       integer edfnome,n
 c
       cret = edfnome (fid, maa ,len(maa),nom, 16*n, n,
@@ -125,7 +130,8 @@ c
 c
       character *(*) maa
       character*(*) nom
-      integer fid,typent, typgeo,cret
+      integer*8 fid
+      integer typent, typgeo,cret
       integer edfnoml,n
 c
       cret = edfnoml (fid, maa ,len(maa),nom,n,
@@ -143,7 +149,8 @@ c
 c
       character *(*) maa
       integer num(*)
-      integer fid,typent, typgeo,cret
+      integer*8 fid
+      integer typent, typgeo,cret
       integer edfnume, n
 c
       cret = edfnume (fid, maa ,len(maa),num, n,
@@ -162,7 +169,8 @@ c
 c
       character *(*) maa
       integer num(*)
-      integer fid,typent, typgeo,cret
+      integer*8 fid
+      integer typent, typgeo,cret
       integer edfnuml,n
 c
       cret = edfnuml (fid, maa ,len(maa),num, n,
@@ -179,7 +187,8 @@ c
       save
 c
       character *(*) maa
-      integer fid,typent, typgeo,cret,typcon,n,quoi
+      integer*8 fid
+      integer typent, typgeo,cret,typcon,n,quoi
       integer edfnema
 c
       n = edfnema(fid, maa ,len(maa),quoi, 
@@ -203,7 +212,8 @@ c
       save
 c
       character *32 maa
-      integer fid, conn(*),typent,typcon,cret,index(*)
+      integer*8 fid
+      integer conn(*),typent,typcon,cret,index(*)
       integer edfpgce,ni
 c
       cret = edfpgce(fid,maa,len(maa),index,ni,conn,typent,typcon)
@@ -220,7 +230,8 @@ c
       save
 c
       character*32 maa
-      integer fid, conn(*),typent,typcon,cret,index(*)
+      integer*8 fid
+      integer conn(*),typent,typcon,cret,index(*)
       integer edfpgcl,ni
 c
       cret = edfpgcl(fid,maa,len(maa),index,ni,conn,typent,typcon)
@@ -235,7 +246,8 @@ c
       save
 c
       character*32  maa
-      integer fid,typent,typcon,cret
+      integer*8 fid
+      integer typent,typcon,cret
       integer edfpygi,consiz
 c
       cret = edfpygi(fid,maa,len(maa),typent,typcon,consiz)
@@ -252,7 +264,8 @@ c
       save
 c
       character *32 maa
-      integer fid, conn(*),typcon,cret,indexp(*),indexf(*)
+      integer*8 fid
+      integer conn(*),typcon,cret,indexp(*),indexf(*)
       integer edfpece,np,nf
 c
       cret = edfpece(fid,maa,len(maa),indexp,np,indexf,nf,conn,typcon)
@@ -269,7 +282,8 @@ c
       save
 c
       character*32 maa
-      integer fid, conn(*),typcon,cret,indexp(*),indexf(*)
+      integer*8 fid
+      integer conn(*),typcon,cret,indexp(*),indexf(*)
       integer edfpecl,np,nf
 c
       cret = edfpecl(fid,maa,len(maa),indexp,np,indexf,nf,conn,typcon)
@@ -284,7 +298,8 @@ c
       save
 c
       character*32 maa
-      integer fid,typcon,cret
+      integer*8 fid
+      integer typcon,cret
       integer edfpyei,consiz,nf
 c
       cret = edfpyei(fid,maa,len(maa),typcon,nf,consiz)
@@ -303,7 +318,8 @@ c
 c
       character*32 maa
       real*8 indices(*)
-      integer fid,mdim,axe
+      integer*8 fid
+      integer mdim,axe
       integer edficoe,n,cret
       character*(*) comp, unit
 c
@@ -324,7 +340,8 @@ c
 c
       character*32 maa
       real*8 indices(*)
-      integer fid,mdim,axe
+      integer*8 fid
+      integer mdim,axe
       integer edficol,n,cret
       character*16 comp, unit
 c
@@ -344,7 +361,8 @@ c
 c
       character*32  maa
       integer struct(*)
-      integer fid,cret,mdim
+      integer*8 fid
+      integer cret,mdim
       integer edfscoe
 c
       cret = edfscoe (fid, maa ,len(maa),mdim,struct)
@@ -361,7 +379,8 @@ c
 c
       character*32  maa
       integer struct(*)
-      integer fid,cret,mdim
+      integer*8 fid
+      integer cret,mdim
       integer edfscol
 c
       cret = edfscol (fid, maa ,len(maa),mdim,struct)
Index: med-fichier-3.0.6/src/2.3.6/fi/equf.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/equf.f
+++ med-fichier-3.0.6/src/2.3.6/fi/equf.f
@@ -22,7 +22,8 @@ c
       save
 c     
       character *(*) maa, des, eq
-      integer fid, cret
+      integer*8 fid
+      integer cret
       integer edfequc
 c
       cret = edfequc(fid, maa, len(maa), eq, len(eq), des, len(des))
@@ -37,7 +38,8 @@ c
       save
 c
       character *(*) maa, eq
-      integer fid, cret, corr(*), n, typent, typgeo
+      integer*8 fid
+      integer cret, corr(*), n, typent, typgeo
       integer edfeque
 c
       cret = edfeque(fid, maa, len(maa), eq, len(eq), corr, 
@@ -53,7 +55,8 @@ c
       save
 c
       character *(*) maa, eq
-      integer fid, cret, corr(*), n,typent, typgeo
+      integer*8 fid
+      integer cret, corr(*), n,typent, typgeo
       integer edfequl
 c
       cret = edfequl(fid, maa, len(maa), eq, len(eq), corr, 
@@ -69,7 +72,8 @@ c
       save
 c
       character *(*) maa, eq
-      integer fid, cret, n,typent, typgeo
+      integer*8 fid
+      integer cret, n,typent, typgeo
       integer edfncor
 c
       n = edfncor(fid, maa, len(maa), eq, len(eq), typent,typgeo)
@@ -89,7 +93,8 @@ c
       save
 c
       character *(*) maa
-      integer fid, cret, n
+      integer*8 fid
+      integer cret, n
       integer edfnequ
 c
       n = edfnequ(fid, maa, len(maa))
@@ -109,7 +114,8 @@ c
       save
 c
       character *(*) maa,eq,des
-      integer fid, cret,ind
+      integer*8 fid
+      integer cret,ind
       integer edfequi
 c
       cret = edfequi(fid, maa, len(maa),ind,eq,des)
Index: med-fichier-3.0.6/src/2.3.6/fi/fichf.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/fichf.f
+++ med-fichier-3.0.6/src/2.3.6/fi/fichf.f
@@ -31,8 +31,9 @@ c
       save
 c
       character *(*) nom
-      integer acces, fid, cret
-      integer edfouvr
+      integer*8 fid
+      integer acces, cret
+      integer*8 edfouvr
 c
       fid = edfouvr(nom, acces, len(nom))
       if (fid.eq.-1) then
@@ -50,7 +51,8 @@ c
       implicit none
       save
 c
-      integer fid,cret
+      integer*8 fid
+      integer cret
       integer edfferm
 c
       cret = edfferm(fid)
@@ -65,7 +67,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,lon
+      integer*8 fid
+      integer cret,lon
       integer edflfde
 c
       lon = edflfde(fid)
@@ -85,7 +88,8 @@ c
       implicit none
       save
 c
-      integer fid,quoi,cret
+      integer*8 fid
+      integer quoi,cret
       integer edffien
       character*(*) str
 c
@@ -100,7 +104,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: effid
 c
       implicit none
       save
-      integer fid,cret
+      integer*8 fid
+      integer cret
       character*(*) des
       integer edffide
 c
@@ -147,7 +152,8 @@ c
       implicit none
       save
 C
-      integer fid, maj, min, rel
+      integer*8 fid
+      integer maj, min, rel
       integer cret
       integer edfveli
 c
@@ -182,8 +188,9 @@ c
       save
 c
       character *(*) acces
-      integer mid, fid, type, cret
-      integer edfmont
+      integer*8 mid, fid
+      integer type, cret
+      integer*8 edfmont
 c
       mid = edfmont(fid, acces, len(acces), type)
       if (mid .eq.-1) then
@@ -203,7 +210,8 @@ c
       implicit none
       save
 c
-      integer mid, fid, type, cret
+      integer*8 mid, fid
+      integer type, cret
       integer edfdemo
 c
       cret = edfdemo(fid, mid, type)
Index: med-fichier-3.0.6/src/2.3.6/fi/gauss.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/gauss.f
+++ med-fichier-3.0.6/src/2.3.6/fi/gauss.f
@@ -21,7 +21,8 @@ c
       implicit none
       save
 c
-      integer fid, n, cret
+      integer*8 fid
+      integer n, cret
       integer edfngau
 c
       n = edfngau(fid)
@@ -43,7 +44,8 @@ c
       implicit none
       save
 c
-      integer fid,indice,typgeo,ngauss,cret
+      integer*8 fid
+      integer indice,typgeo,ngauss,cret
       character *(*) locname
       integer edfgaui
 c
@@ -63,7 +65,8 @@ c
       implicit none
       save
 c      
-      integer fid,typgeo,mode_coo,ngauss,cret
+      integer*8 fid
+      integer typgeo,mode_coo,ngauss,cret
       real*8 refcoo(*),gscoo(*),wg(*)
       character *(*) locname
       integer edfgaue
@@ -83,7 +86,8 @@ c
       implicit none
       save
 c      
-      integer fid,mode_coo,cret
+      integer*8 fid
+      integer mode_coo,cret
       real*8 refcoo(*),gscoo(*),wg(*)
       character *(*) locname
       integer edfgaul 
Index: med-fichier-3.0.6/src/2.3.6/fi/jntf.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/jntf.f
+++ med-fichier-3.0.6/src/2.3.6/fi/jntf.f
@@ -25,7 +25,8 @@ c
       save
 c     
       character *(*) maalcl, jn, des, maadst
-      integer fid, dom, cret
+      integer*8 fid
+      integer dom, cret
       integer edfjntc
 c     
       cret = edfjntc(fid, maalcl, len(maalcl), jn, len(jn),
@@ -45,7 +46,8 @@ c
       save
 c     
       character *(*) maalcl
-      integer n, fid,  cret
+      integer*8 fid
+      integer n, cret
       integer edfnjnt
 c     
       cret = edfnjnt(fid, maalcl, len(maalcl), n)
@@ -74,7 +76,8 @@ c
       save
 c     
       character *(*) maalcl, jn, des, maadst
-      integer fid, ind, dom, cret
+      integer*8 fid
+      integer ind, dom, cret
       integer edfjnti
 c     
       cret = edfjnti(fid, maalcl, len(maalcl), ind,
@@ -99,7 +102,8 @@ c
       save
 c     
       character *(*) maalcl, jn
-      integer n, fid, cret, corrtab(*)
+      integer*8 fid
+      integer n, cret, corrtab(*)
       integer entlcl, entdst, geolcl, geodst
       integer edfjnte
 c     
@@ -122,7 +126,8 @@ c
       save
 c     
       character *(*) maalcl, jn
-      integer n, fid, cret, corrtab(*)
+      integer*8 fid
+      integer n, cret, corrtab(*)
       integer entlcl, entdst, geolcl, geodst
       integer edfjntl
 c     
@@ -146,7 +151,8 @@ c
       save
 c     
       character *(*) maalcl, jn
-      integer fid, entlcl, entdst, geolcl, geodst, nent, cret
+      integer*8 fid
+      integer entlcl, entdst, geolcl, geodst, nent, cret
       integer edfjnco
 c     
       nent = edfjnco(fid,
@@ -177,7 +183,8 @@ c
       save
 c     
       character *(*) maalcl, jn 
-      integer fid, entlcl, entdst, geolcl, geodst, nent, cret, ind
+      integer*8 fid
+      integer entlcl, entdst, geolcl, geodst, nent, cret, ind
       integer edfjtco
 c     
       nent = edfjtco(fid,
@@ -210,7 +217,8 @@ c
       save
 c     
       character *(*) maa
-      integer n, fid,  cret, numtab(*)
+      integer*8 fid
+      integer n, cret, numtab(*)
       integer ent, geo
       integer edfgnme
 c     
@@ -232,7 +240,8 @@ c
       save
 c     
       character *(*) maa
-      integer n, fid, cret, numtab(*)
+      integer*8 fid
+      integer n, cret, numtab(*)
       integer ent, geo
       integer edfgnml
 c     
Index: med-fichier-3.0.6/src/2.3.6/fi/maaf.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/maaf.f
+++ med-fichier-3.0.6/src/2.3.6/fi/maaf.f
@@ -23,7 +23,8 @@ c
 c
       character *(*) nom
       character *(*) desc
-      integer fid, dim, type, cret
+      integer*8 fid
+      integer dim, type, cret
       integer edfmaac
 c
       cret = edfmaac (fid, nom , len(nom), dim, type, desc, len(desc))
@@ -38,7 +39,8 @@ c
       implicit none
       save
 c
-      integer fid, n, cret
+      integer*8 fid
+      integer n, cret
       integer edfnmaa
 c
       n = edfnmaa(fid)
@@ -60,7 +62,8 @@ c
       implicit none
       save
 c
-      integer fid,dim,cret,indice,type
+      integer*8 fid
+      integer dim,cret,indice,type
       character *(*) maa
       character *(*) desc
       integer edfmaai
@@ -78,7 +81,8 @@ c
       implicit none
       save
 c
-      integer fid,dim,cret
+      integer*8 fid
+      integer dim,cret
       character *(*) maa
       integer edfdiml
 c
@@ -99,7 +103,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character*(*) maa
       integer edfnnsl
 c
@@ -120,7 +125,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character*(*) maa
       integer edfnnse
 c
@@ -135,7 +141,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character*(*) maa
       integer edfnnil
 c
@@ -156,7 +163,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character*(*) maa
       integer edfnnie
 c
@@ -171,7 +179,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character*(*) maa
       integer edfnnml
 c
@@ -192,7 +201,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character*(*) maa
       integer edfnnme
 c
@@ -208,7 +218,8 @@ c
       save
 c
       character *(*) nom
-      integer fid, cret
+      integer*8 fid
+      integer cret
       integer edfunvc
 c
       cret = edfunvc (fid, nom , len(nom))
@@ -222,7 +233,8 @@ c
       implicit none
       save
 c
-      integer fid,cret
+      integer*8 fid
+      integer cret
       character *(*) nom,nomu
       integer edfunvl
 c  
@@ -239,7 +251,8 @@ c
       save
 c
       character *(*) nom
-      integer fid, dim, cret
+      integer*8 fid
+      integer dim, cret
       integer edfespc
 c
       cret = edfespc (fid, nom , len(nom), dim)
@@ -254,7 +267,8 @@ c
       implicit none
       save
 c
-      integer fid,dim,cret
+      integer*8 fid
+      integer dim,cret
       character *(*) maa
       integer edfespl
 c
@@ -276,7 +290,8 @@ c
       implicit none
       save
 c
-      integer fid,typ,cret
+      integer*8 fid
+      integer typ,cret
       character*(*) maa
       integer edfnage
 c
@@ -292,7 +307,8 @@ c
       implicit none
       save
 c
-      integer fid,typ,cret
+      integer*8 fid
+      integer typ,cret
       character*(*) maa
       integer edfnagl
 c
Index: med-fichier-3.0.6/src/2.3.6/fi/prof.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/prof.f
+++ med-fichier-3.0.6/src/2.3.6/fi/prof.f
@@ -21,7 +21,8 @@ c
       implicit none
       save
 c
-      integer fid, n, cret
+      integer*8 fid
+      integer n, cret
       integer edfnpro
 c
       n = edfnpro(fid)
@@ -43,7 +44,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret,indice
+      integer*8 fid
+      integer n,cret,indice
       character *(*) pro
       integer edfproi
 c
@@ -61,7 +63,8 @@ c
       implicit none
       save
 c      
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       integer pflval(*)
       character *(*) nom
       integer edfpfle
@@ -79,7 +82,8 @@ c
       implicit none
       save
 c      
-      integer fid,cret,n
+      integer*8 fid
+      integer cret,n
       character *(*) nom
       integer edfnpfl
 c
@@ -101,7 +105,8 @@ c
       implicit none
       save
 c      
-      integer fid,cret
+      integer*8 fid
+      integer cret
       integer pflval(*)
       character *(*) nom
       integer edfpfll
Index: med-fichier-3.0.6/src/2.3.6/fi/resf_i.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/resf_i.f
+++ med-fichier-3.0.6/src/2.3.6/fi/resf_i.f
@@ -22,7 +22,8 @@ c
       save
 c      
       character *(*) cha,comp,unit
-      integer fid, ncomp, cret, type
+      integer*8 fid
+      integer ncomp, cret, type
       integer edfchac
 c
       cret = edfchac (fid, cha,len(cha),type, comp,16*ncomp,
@@ -42,7 +43,8 @@ c
 c      
       character *(*) cha,maa,profil,locname
       character*(*) dtunit
-      integer fid,val(*)
+      integer*8 fid
+      integer val(*)
       integer n,pflmod,typent,typgeo,cret
       integer interlace,numco,numdt,numo
       real*8 dt
@@ -69,7 +71,8 @@ c
 c      
       character *(*) cha,maa,profil,locname
       character*(*) dtunit
-      integer fid,val(*),n,pflmod,typent,typgeo,cret
+      integer*8 fid
+      integer val(*),n,pflmod,typent,typgeo,cret
       integer interlace,numco,numdt,numo
       real*8 dt
       integer edfchae
@@ -97,7 +100,8 @@ c
       save
 c      
       character *(*) cha,maa,locname,profil
-      integer fid,val(*),pflmod,typent,typgeo,cret
+      integer*8 fid
+      integer val(*),pflmod,typent,typgeo,cret
       integer interlace,numco,numdt,numo
       integer edfchal
 c
@@ -122,7 +126,8 @@ c
       save
 c      
       character *(*) cha,maa,locname,profil
-      integer fid,val(*),typent,typgeo,cret,pflmod
+      integer*8 fid
+      integer val(*),typent,typgeo,cret,pflmod
       integer interlace,numco,numdt,numo
       integer edfchal
 c
@@ -142,7 +147,8 @@ c
       save
 c      
       character *(*) cha,comp,unit
-      integer fid,ind,type,ncomp,cret
+      integer*8 fid
+      integer ind,type,ncomp,cret
       integer edfchai
 c
       cret = edfchai(fid,ind,cha,type,
@@ -157,7 +163,8 @@ c
       implicit none
       save
 c      
-      integer fid,ind,cret,n
+      integer*8 fid
+      integer ind,cret,n
       integer edfncha
 c
       n = edfncha(fid,ind)
@@ -178,7 +185,8 @@ c
       implicit none
       save
 c      
-      integer fid,typent,typgeo,n,cret
+      integer*8 fid
+      integer typent,typgeo,n,cret
       integer numdt, numo, pflmod
       character *(*) cha, maa
       integer edfnval
@@ -204,7 +212,8 @@ c
       implicit none
       save
 c      
-      integer fid,type,geo,n,cret
+      integer*8 fid
+      integer type,geo,n,cret
       character*32 cha
       integer edfnpdt
 c
@@ -227,7 +236,8 @@ c
       implicit none
       save
 c      
-      integer fid,typent,typgeo,ind,ngauss,numdt,numo,nmaa,cret
+      integer*8 fid
+      integer typent,typgeo,ind,ngauss,numdt,numo,nmaa,cret
       character*32 cha,maa
       character*16 dtunit
       real*8 dt
@@ -248,7 +258,8 @@ c
       implicit none
       save
 c
-      integer fid,typent,typgeo,n,cret
+      integer*8 fid
+      integer typent,typgeo,n,cret
       integer numdt, numo
       character *(*) cha
       integer edfnref
@@ -273,7 +284,8 @@ c
       implicit none
       save
 c
-      integer fid,typent,typgeo,indice,n,cret
+      integer*8 fid
+      integer typent,typgeo,indice,n,cret
       integer numdt, numo, ngauss
       character *(*) cha, maa
       logical local
@@ -294,7 +306,8 @@ c
 
       subroutine efliee(fid,lienval,maa,cret)
 c     DEC$ ATTRIBUTES DLLEXPORT :: efliee
-      integer fid,cret
+      integer*8 fid
+      integer cret
       character *(*) lienval, maa
       integer   edfliee
 
@@ -312,7 +325,8 @@ c
       implicit none
       save
 c      
-      integer fid,cret,n
+      integer*8 fid
+      integer cret,n
       integer edfnlie
 c
       n = edfnlie(fid)
@@ -332,7 +346,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret,indice
+      integer*8 fid
+      integer n,cret,indice
       character *(*) maa
       integer edfliei
 c
@@ -349,7 +364,8 @@ c
       implicit none
       save
 c      
-      integer fid,cret,n
+      integer*8 fid
+      integer cret,n
       character *(*) maa
       integer edfnvli
 c
@@ -371,7 +387,8 @@ c
       implicit none
       save
 c      
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character *(*) maa,lienval
       integer edfliel
 c
Index: med-fichier-3.0.6/src/2.3.6/fi/scalaire.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/scalaire.f
+++ med-fichier-3.0.6/src/2.3.6/fi/scalaire.f
@@ -22,7 +22,8 @@ c
       save
 c      
       character *(*) sca,desc
-      integer fid, cret, type
+      integer*8 fid
+      integer cret, type
       integer edfscac
 c
       cret = edfscac (fid,sca,len(sca),type,desc,len(desc))
@@ -40,7 +41,8 @@ c
 c      
       character *32 sca
       character*(*) dtunit
-      integer fid,val,cret
+      integer*8 fid
+      integer val,cret
       integer numdt,numo
       real*8 dt
       integer edfscee
@@ -62,7 +64,8 @@ c
 c      
       character *(*) sca
       character*(*) dtunit
-      integer fid,cret
+      integer*8 fid
+      integer cret
       integer numdt,numo
       real*8 dt
       real*8 val
@@ -85,7 +88,8 @@ c
       save
 c      
       character *(*) sca
-      integer fid,val,cret
+      integer*8 fid
+      integer val,cret
       integer numdt,numo
       integer edfscel
 c
@@ -103,7 +107,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: efscf
       save
 c      
       character *(*) sca
-      integer fid,cret
+      integer*8 fid
+      integer cret
       integer numdt,numo
       integer edfscfl
       real*8 val(*)
@@ -122,7 +127,8 @@ c
       save
 c      
       character *(*) sca,desc
-      integer fid,ind,type,cret
+      integer*8 fid
+      integer ind,type,cret
       integer edfscai
 c
       cret = edfscai(fid,ind,sca,type,desc)
@@ -136,7 +142,8 @@ c
       implicit none
       save
 c      
-      integer fid,cret,n
+      integer*8 fid
+      integer cret,n
       integer edfnsca
 c
       n = edfnsca(fid)
@@ -155,7 +162,8 @@ c
       implicit none
       save
 c      
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character*32 sca
       integer edfnspd
 c
@@ -178,7 +186,8 @@ c
       implicit none
       save
 c      
-      integer fid,indice,numdt,numo,cret
+      integer*8 fid
+      integer indice,numdt,numo,cret
       character*32 sca
       character*16 dtunit
       real*8 dt
Index: med-fichier-3.0.6/src/fi/medequivalence.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medequivalence.f
+++ med-fichier-3.0.6/src/fi/medequivalence.f
@@ -22,7 +22,8 @@ c
       save
 c     
       character *(*) maa, des, eq
-      integer fid, cret
+      integer*8 fid
+      integer cret
       integer meqfcre
 c
       cret = meqfcre(fid, maa, len(maa), eq, len(eq), des, len(des))
@@ -41,7 +42,8 @@ c
 c
       character *(*) maa, eq
       integer numit, numdt
-      integer fid, cret, n, typent, typgeo
+      integer*8 fid
+      integer cret, n, typent, typgeo
       integer corr(*)
       integer meqfcow
 c
@@ -61,7 +63,8 @@ c
       save
 c
       character *(*) maa
-      integer fid, cret, n
+      integer*8 fid
+      integer cret, n
       integer meqfneq
 c
       n = meqfneq(fid, maa, len(maa))
@@ -83,7 +86,8 @@ c
       save
 c
       character *(*) maa,eq,des
-      integer fid, cret,ind,nstep,nctcor
+      integer*8 fid
+      integer cret,ind,nstep,nctcor
       integer meqfeqi
 c
       cret = meqfeqi(fid,maa,len(maa),ind,eq,des,
@@ -102,7 +106,8 @@ c
       save
 c
       character *(*) maa, eq
-      integer fid,cret,n,typent,typgeo,numit,numdt
+      integer*8 fid
+      integer cret,n,typent,typgeo,numit,numdt
       integer meqfcsz
 c
       n = meqfcsz(fid,maa,len(maa),eq,len(eq),
@@ -127,7 +132,8 @@ c
       save
 c
       character *(*) maa, eq
-      integer fid,cret,n,typent,typgeo,numit,numdt
+      integer*8 fid
+      integer cret,n,typent,typgeo,numit,numdt
       integer corit
       integer meqfszi
 c
@@ -147,7 +153,8 @@ c
       save
 c
       character *(*) maa, eq
-      integer fid, cret, corr(*), typent, typgeo,numdt,mumit
+      integer*8 fid
+      integer cret, corr(*), typent, typgeo,numdt,mumit
       integer meqfcor
 c
       cret = meqfcor(fid, maa, len(maa), eq, len(eq), 
@@ -165,7 +172,8 @@ c
       save
 c
       character *(*) maa,eq
-      integer fid,cret,ind,numdt,numit,ncor
+      integer*8 fid
+      integer cret,ind,numdt,numit,ncor
       integer meqfcsi
 c
       cret = meqfcsi(fid,maa,len(maa),eq,len(eq),
Index: med-fichier-3.0.6/src/fi/medfamily.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medfamily.f
+++ med-fichier-3.0.6/src/fi/medfamily.f
@@ -22,7 +22,8 @@ c
       save
 c
       character *(*) name, fname, gname
-      integer fid, fnum, ngro, cret
+      integer*8 fid
+      integer fnum, ngro, cret
       integer mfafcre
 c
       cret = mfafcre(fid, name, len(name), fname, len(name),
@@ -39,7 +40,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character *(*) maa
       integer mfafnfa
 c
@@ -61,7 +63,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret,it
+      integer*8 fid
+      integer n,cret,it
       character *(*) maa
       integer mfafnfg
 c
@@ -83,7 +86,8 @@ c
       implicit none
       save
 c 
-      integer fid,num,cret,ind
+      integer*8 fid
+      integer num,cret,ind
       character *(*) maa,fam,gro
       integer mfaffai
 c
@@ -100,7 +104,8 @@ c
       implicit none
       save
 c
-      integer fid,it,n,cret
+      integer*8 fid
+      integer it,n,cret
       character *(*) maa
       integer mfafona
 c
@@ -123,7 +128,8 @@ c
       implicit none
       save
 c 
-      integer fid,num,cret,it
+      integer*8 fid
+      integer num,cret,it
       integer attnum(*),attval(*)
       character *(*) maa,fam,gro,attdes
       integer mfafofi
Index: med-fichier-3.0.6/src/fi/medfield.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medfield.f
+++ med-fichier-3.0.6/src/fi/medfield.f
@@ -24,7 +24,8 @@ c
       implicit none
       save
       character*(*) fname,cname,cunit,dtunit,mname
-      integer fid,ncomp,cret,ftype
+      integer*8 fid
+      integer ncomp,cret,ftype
       integer mfdfcre
 c
       cret = mfdfcre(fid,fname,len(fname),ftype,
@@ -45,7 +46,8 @@ c
       character*(*) fname
       integer numdt,numit
       real*8 dt,val(*)
-      integer fid,cret,etype,gtype,swm,cs,n
+      integer*8 fid
+      integer cret,etype,gtype,swm,cs,n
       integer mfdfrvw
 c
       cret = mfdfrvw(fid,fname,len(fname),numdt,numit,dt,
@@ -66,7 +68,8 @@ c
       integer numdt,numit
       real*8 dt
       integer val(*)
-      integer fid,cret,etype,gtype,swm,cs,n
+      integer*8 fid
+      integer cret,etype,gtype,swm,cs,n
       integer mfdfivw
 c
       cret = mfdfivw(fid,fname,len(fname),numdt,numit,dt,
@@ -88,7 +91,8 @@ c
       character*(*) fname,pname,lname
       integer numdt,numit
       real*8 dt,val(*)
-      integer fid,cret,etype,gtype,swm,cs,n,stm
+      integer*8 fid
+      integer cret,etype,gtype,swm,cs,n,stm
       integer mfdfrpw
 c
       cret = mfdfrpw(fid,fname,len(fname),numdt,numit,dt,
@@ -112,7 +116,8 @@ c
       integer numdt,numit
       real*8 dt
       integer val(*)
-      integer fid,cret,etype,gtype,swm,cs,n,stm
+      integer*8 fid
+      integer cret,etype,gtype,swm,cs,n,stm
       integer mfdfipw
 c
       cret = mfdfipw(fid,fname,len(fname),numdt,numit,dt,
@@ -135,7 +140,8 @@ c
       integer numdt,numit
       real*8 dt,val(*)
       integer*8 flt(*)
-      integer fid,cret,etype,gtype
+      integer*8 fid
+      integer cret,etype,gtype
       integer mfdfraw
 c
       cret = mfdfraw(fid,fname,len(fname),numdt,numit,dt,
@@ -158,7 +164,8 @@ c
       real*8 dt
       integer val(*)
       integer*8 flt(*)
-      integer fid,cret,etype,gtype
+      integer*8 fid
+      integer cret,etype,gtype
       integer mfdfiaw
 c
       cret = mfdfiaw(fid,fname,len(fname),numdt,numit,dt,
@@ -174,7 +181,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mfdnf
 c
       implicit none
       save
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       integer mfdfnfd
 c
       n = mfdfnfd(fid)
@@ -195,7 +203,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mfdnf
 c
       implicit none
       save
-      integer fid,n,cret,ind
+      integer*8 fid
+      integer n,cret,ind
       integer mfdfnfc
 c
       n = mfdfnfc(fid,ind)
@@ -216,7 +225,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mfdnc
 c
       implicit none
       save
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character *(*) fname
       integer mfdfncn
 c
@@ -242,7 +252,8 @@ c
 c
       character *(*) fname, mname, dtunit, cname, cunit
       integer lmesh, cret
-      integer fid, type, it, nc
+      integer*8 fid
+      integer type, it, nc
       integer mfdffdi 
 c
       cret = mfdffdi(fid, it, fname, mname, lmesh, type,
@@ -263,7 +274,8 @@ c
 c
       character *(*) fname, mname, dtunit, cname, cunit
       integer lmesh, cret
-      integer fid, type, nc
+      integer*8 fid
+      integer type, nc
       integer mfdffin 
 c
       cret = mfdffin(fid, fname, len(fname), mname, lmesh, type,
@@ -282,7 +294,8 @@ c
 c
       character*(*) fname
       integer cret
-      integer fid, it, numdt, numit
+      integer*8 fid
+      integer it, numdt, numit
       real*8  dt
       integer mfdfcsi
 c
@@ -302,7 +315,8 @@ c
 c
       character*(*) fname
       integer cret
-      integer fid, it, numdt, numit, mnumdt, mnumit
+      integer*8 fid
+      integer it, numdt, numit, mnumdt, mnumit
       real*8  dt
       integer mfdfcmi
 c
@@ -323,7 +337,8 @@ c
 c
       character*(*) fname
       integer cret
-      integer fid, numdt, numit, mnumdt, mnumit
+      integer*8 fid
+      integer numdt, numit, mnumdt, mnumit
       integer mfdfcmw
 c
       cret = mfdfcmw(fid,fname,len(fname),numdt,numit,
@@ -340,7 +355,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mfdnp
 c
       implicit none
       save
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       integer numdt,numit,etype,gtype
       character*(*) fname,dpname,dlname
       
@@ -366,7 +382,8 @@ c
       implicit none
       save
       character*(*) fname
-      integer fid,n,cret,numdt,numit,etype,gtype
+      integer*8 fid
+      integer n,cret,numdt,numit,etype,gtype
       integer mfdfnva
 c
       n = mfdfnva(fid,fname,len(fname),numdt,numit,
@@ -392,7 +409,8 @@ c
       save
       character*(*) fname, pname, lname
       integer pit,stm,psize
-      integer fid,n,cret,numdt,numit,etype,gtype,nip
+      integer*8 fid
+      integer n,cret,numdt,numit,etype,gtype,nip
       integer mfdfnvp
 c
       n = mfdfnvp(fid,fname,len(fname),numdt,numit,
@@ -419,7 +437,8 @@ c
       save
       character*(*) fname, pname, lname
       integer stm,psize
-      integer fid,n,cret,numdt,numit,etype,gtype,nip
+      integer*8 fid
+      integer n,cret,numdt,numit,etype,gtype,nip
       integer mfdfnpn
 c
       n = mfdfnpn(fid,fname,len(fname),numdt,numit,
@@ -446,7 +465,8 @@ c
       character*(*) fname
       integer numdt,numit
       real*8 val(*)
-      integer fid,cret,etype,gtype,swm,cs
+      integer*8 fid
+      integer cret,etype,gtype,swm,cs
       integer mfdfrvr
 c
       cret = mfdfrvr(fid,fname,len(fname),numdt,numit,
@@ -466,7 +486,8 @@ c
       character*(*) fname
       integer numdt,numit
       integer val(*)
-      integer fid,cret,etype,gtype,swm,cs
+      integer*8 fid
+      integer cret,etype,gtype,swm,cs
       integer mfdfivr
 c
       cret = mfdfivr(fid,fname,len(fname),numdt,numit,
@@ -488,7 +509,8 @@ c
       character*(*) fname,pname
       integer numdt,numit
       real*8 val(*)
-      integer fid,cret,etype,gtype,swm,cs,stm
+      integer*8 fid
+      integer cret,etype,gtype,swm,cs,stm
       integer mfdfrpr
 c
       cret = mfdfrpr(fid,fname,len(fname),numdt,numit,
@@ -510,7 +532,8 @@ c
       character*(*) fname,pname
       integer numdt,numit
       integer val(*)
-      integer fid,cret,etype,gtype,swm,cs,n,stm
+      integer*8 fid
+      integer cret,etype,gtype,swm,cs,n,stm
       integer mfdfipr
 c
       cret = mfdfipr(fid,fname,len(fname),numdt,numit,
@@ -532,7 +555,8 @@ c
       integer numdt,numit
       real*8 val(*)
       integer*8 flt(*)
-      integer fid,cret,etype,gtype
+      integer*8 fid
+      integer cret,etype,gtype
       integer mfdfrar
 c
       cret = mfdfrar(fid,fname,len(fname),numdt,numit,
@@ -554,7 +578,8 @@ c
       integer numdt,numit
       integer val(*)
       integer*8 flt(*)
-      integer fid,cret,etype,gtype
+      integer*8 fid
+      integer cret,etype,gtype
       integer mfdfiar
 c
       cret = mfdfiar(fid,fname,len(fname),numdt,numit,
@@ -571,7 +596,8 @@ c
       implicit none
       save
       character*(*) fname,iname
-      integer fid,cret
+      integer*8 fid
+      integer cret
       integer mfdfinw
 c
       cret = mfdfinw(fid,fname,len(fname),iname,len(iname),cret)
@@ -586,7 +612,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mfdni
 c
       implicit none
       save
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character*(*) fname
       integer mfdfnin
 c
@@ -609,7 +636,8 @@ c
       implicit none
       save
       character*(*) fname,iname
-      integer fid,cret,it
+      integer*8 fid
+      integer cret,it
       integer mfdfini
 c
       cret = mfdfini(fid,fname,len(fname),it,iname,cret)
@@ -629,7 +657,8 @@ c
 c
       character*(*) fname,mname
       integer cret
-      integer fid,it,numdt,numit,nmesh,lmesh
+      integer*8 fid
+      integer it,numdt,numit,nmesh,lmesh
       integer mnumdt,mnumit
       real*8  dt
       integer mfdfoci
@@ -650,7 +679,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mfdon
 c
       implicit none
       save
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       integer numdt,numit,etype,gtype,it
       character*(*) fname,dpname,dlname,mname
       
@@ -679,7 +709,8 @@ c
       save
       character*(*) fname, pname, lname, mname
       integer pit,stm,psize
-      integer fid,n,cret,numdt,numit,etype,gtype,nip
+      integer*8 fid
+      integer n,cret,numdt,numit,etype,gtype,nip
       integer mfdfonv
 c
       n = mfdfonv(fid,fname,len(fname),numdt,numit,
@@ -711,7 +742,8 @@ c
       character*(*) fname,pname,mname
       integer numdt,numit
       real*8 val(*)
-      integer fid,cret,etype,gtype,swm,cs,stm
+      integer*8 fid
+      integer cret,etype,gtype,swm,cs,stm
       integer mfdforr
 c
       cret = mfdforr(fid,fname,len(fname),numdt,numit,
@@ -735,7 +767,8 @@ c
       character*(*) fname,pname,mname
       integer numdt,numit
       integer val(*)
-      integer fid,cret,etype,gtype,swm,cs,n,stm
+      integer*8 fid
+      integer cret,etype,gtype,swm,cs,n,stm
       integer mfdfoir
 c
       cret = mfdfoir(fid,fname,len(fname),numdt,numit,
Index: med-fichier-3.0.6/src/fi/medinterp.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medinterp.f
+++ med-fichier-3.0.6/src/fi/medinterp.f
@@ -22,7 +22,8 @@ c
       save
 c     
       character*(*) name
-      integer fid, gtype,cnode,nvar,maxd,nmaxc,cret
+      integer*8 fid
+      integer gtype,cnode,nvar,maxd,nmaxc,cret
       integer mipfcre
 c     
       cret = mipfcre(fid,name,len(name),gtype,cnode,
@@ -40,7 +41,8 @@ c
       save
 c     
       character*(*) name
-      integer fid,it,nc,cret
+      integer*8 fid
+      integer it,nc,cret
       integer pw(*)
       real*8 co(*)
       integer mipfbfw
@@ -59,7 +61,8 @@ c
       save
 c     
       character*(*) name
-      integer fid,it,nc,cret
+      integer*8 fid
+      integer it,nc,cret
       integer pw(*)
       real*8 co(*)
       integer mipfbfr
@@ -78,7 +81,8 @@ c
       implicit none
       save
 c     
-      integer n, fid,  cret
+      integer*8 fid
+      integer n, cret
       integer mipfnip
 c     
       n = mipfnip(fid)
@@ -102,7 +106,8 @@ c
       save
 c     
       character*(*) name
-      integer fid, gtype,cnode,nvar,maxd,nmaxc,cret,nbf
+      integer*8 fid
+      integer gtype,cnode,nvar,maxd,nmaxc,cret,nbf
       integer mipfiin
 c     
       cret = mipfiin(fid,name,len(name),gtype,cnode,nbf,
@@ -121,7 +126,8 @@ c
       save
 c     
       character*(*) name
-      integer fid, gtype,cnode,nvar,maxd,nmaxc,cret,nbf
+      integer*8 fid
+      integer gtype,cnode,nvar,maxd,nmaxc,cret,nbf
       integer it
       integer mipfipi
 c     
@@ -140,7 +146,8 @@ c
       save
 c     
       character*(*) name
-      integer n, fid, it, cret
+      integer*8 fid
+      integer n, it, cret
       integer mipfcsz
 c     
       n = mipfcsz(fid,name,len(name),it)
Index: med-fichier-3.0.6/src/fi/medjoint.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medjoint.f
+++ med-fichier-3.0.6/src/fi/medjoint.f
@@ -26,7 +26,8 @@ c
       character*(*) lmname
       character*(*) des
       character*(*) rmname
-      integer fid, dom, cret
+      integer*8 fid
+      integer dom, cret
       integer msdfjcr
 c     
       print *,lmname
@@ -53,7 +54,8 @@ c
       save
 c     
       character *(*) lmname, jname
-      integer n, fid, cret, corrtab(*)
+      integer*8 fid
+      integer n, cret, corrtab(*)
       integer entlcl, entdst, geolcl, geodst, numdt,numit
       integer msdfcrw
 c     
@@ -73,7 +75,8 @@ c
       save
 c     
       character *(*) maa
-      integer n, fid,  cret
+      integer*8 fid
+      integer n, cret
       integer msdfnjn
 c     
       n = msdfnjn(fid,maa,len(maa))
@@ -97,7 +100,8 @@ c
       save
 c     
       character *(*) lmname,jname,des,rmname
-      integer fid, ind,dom,cret,nstep,ncor
+      integer*8 fid
+      integer ind,dom,cret,nstep,ncor
       integer msdfjni
 c     
       cret = msdfjni(fid,lmname,len(lmname),ind,
@@ -119,7 +123,8 @@ c
       save
 c     
       character*(*) mname,jname
-      integer fid,cret,numdt,numit
+      integer*8 fid
+      integer cret,numdt,numit
       integer it,letype,lgtype,retype,rgtype,ncor
       integer msdfszi
 c     
@@ -145,7 +150,8 @@ c
       save
 c     
       character*(*) mname,jname
-      integer fid,cret,numdt,numit
+      integer*8 fid
+      integer cret,numdt,numit
       integer letype,lgtype,retype,rgtype,ncor
       integer msdfcsz
 c     
@@ -170,7 +176,8 @@ c
       save
 c     
       character *(*) lmname, jname
-      integer fid, cret, corrtab(*)
+      integer*8 fid
+      integer cret, corrtab(*)
       integer entlcl, entdst, geolcl, geodst, numdt,numit
       integer msdfcrr
 c     
@@ -191,7 +198,8 @@ c
       save
 c     
       character *(*) mname,jname
-      integer fid, ind,ncor,numdt,numit,cret
+      integer*8 fid
+      integer ind,ncor,numdt,numit,cret
       integer msdfcsi
 c     
       cret = msdfcsi(fid,mname,len(mname),
Index: med-fichier-3.0.6/src/fi/medlink.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medlink.f
+++ med-fichier-3.0.6/src/fi/medlink.f
@@ -23,7 +23,8 @@ c
       implicit none
       save
       character*(*) mname,lname
-      integer fid,cret
+      integer*8 fid
+      integer cret
       integer mlnfliw
 c
       cret = mlnfliw(fid,mname,len(mname),lname,len(lname))
@@ -38,7 +39,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mlnnl
 c
       implicit none
       save
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       integer mlnfnln
 c
       n = mlnfnln(fid)
@@ -61,7 +63,8 @@ c
       save
 c
       character *(*) mname
-      integer fid, lsize, it, cret
+      integer*8 fid
+      integer lsize, it, cret
       integer mlnflni
 c
       cret = mlnflni(fid, it, mname, lsize)
@@ -78,7 +81,8 @@ c
       save
 c
       character *(*) mname
-      integer fid, lsize, cret,n
+      integer*8 fid
+      integer lsize, cret,n
       integer mlnflai
 c
       n = mlnflai(fid, mname, len(mname), lsize)
@@ -100,7 +104,8 @@ c
       implicit none
       save
       character*(*) mname,lname
-      integer fid,cret
+      integer*8 fid
+      integer cret
       integer mlnflir
 c
       cret = mlnflir(fid,mname,len(mname),lname,len(lname))
Index: med-fichier-3.0.6/src/fi/medlocalization.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medlocalization.f
+++ med-fichier-3.0.6/src/fi/medlocalization.f
@@ -25,7 +25,8 @@ c
       save
       character*(*) lname,giname, isname
       real*8 ecoo(*), ipcoo(*), wght(*)
-      integer fid,cret,gtype,sdim,swm,nip
+      integer*8 fid
+      integer cret,gtype,sdim,swm,nip
       integer mlcflow
 c
       cret = mlcflow(fid,lname,len(lname),gtype,sdim,ecoo,swm,nip,
@@ -41,7 +42,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mlcnl
 c
       implicit none
       save
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       integer mlcfnlc
 c
       n = mlcfnlc(fid)
@@ -65,7 +67,8 @@ c
       save
 c
       character*(*) lname,giname, isname
-      integer fid, gtype, it, cret, sdim, nip
+      integer*8 fid
+      integer gtype, it, cret, sdim, nip
       integer nsmc, sgtype
       integer mlcflci
 c
@@ -85,7 +88,8 @@ c
       save
 c
       character*(*) lname,giname, isname
-      integer fid, gtype, cret, sdim, nip
+      integer*8 fid
+      integer gtype, cret, sdim, nip
       integer nsmc, sgtype
       integer mlcflni
 c
@@ -105,7 +109,8 @@ c
       save
       character*(*) lname
       real*8 ecoo(*), ipcoo(*), wght(*)
-      integer fid,cret,swm
+      integer*8 fid
+      integer cret,swm
       integer mlcflor
 c
       cret = mlcflor(fid,lname,len(lname),swm,ecoo,ipcoo,wght)
Index: med-fichier-3.0.6/src/fi/medmesh.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medmesh.f
+++ med-fichier-3.0.6/src/fi/medmesh.f
@@ -23,7 +23,8 @@ c
       save
 c
       character *(*) name, desc, dtunit, aname, aunit
-      integer fid, sdim, mdim, mtype, stype, atype, cret
+      integer*8 fid
+      integer sdim, mdim, mtype, stype, atype, cret
       integer mmhfcre
 c
       cret = mmhfcre(fid, name, len(name), sdim, mdim, mtype, 
@@ -42,7 +43,8 @@ c
       implicit none
       save
 c
-      integer fid, n, cret
+      integer*8 fid
+      integer n, cret
       integer mmhfnmh 
 c
       n = mmhfnmh(fid)
@@ -64,7 +66,8 @@ c
       implicit none
       save
 c
-      integer fid,it,naxis,cret
+      integer*8 fid
+      integer it,naxis,cret
       integer mmhfnax
 c
       naxis =  mmhfnax(fid,it)
@@ -85,7 +88,8 @@ c
       implicit none
       save
 c
-      integer fid,naxis,cret
+      integer*8 fid
+      integer naxis,cret
       character *(*) name
       integer mmhfnan
 c
@@ -109,7 +113,8 @@ c
       save
 c
       character *(*) name, desc, dtunit, aname, aunit
-      integer fid, sdim, mdim, mtype, stype, atype, cret, nstep, it
+      integer*8 fid
+      integer sdim, mdim, mtype, stype, atype, cret, nstep, it
       integer mmhfmhi 
 c
       cret = mmhfmhi(fid, it, name, sdim, mdim, mtype, desc, dtunit,
@@ -128,7 +133,8 @@ c
       save
 c
       character *(*) name, desc, dtunit, aname, aunit
-      integer fid, sdim, mdim, mtype, stype, atype, cret, nstep
+      integer*8 fid
+      integer sdim, mdim, mtype, stype, atype, cret, nstep
       integer mmhfmin 
 c
       cret = mmhfmin(fid, name, len(name), sdim, mdim, mtype, desc,
@@ -146,7 +152,8 @@ c
       implicit none
       save
 c
-      integer fid,cret
+      integer*8 fid
+      integer cret
       character *(*) name
       integer mmhfunw
 c
@@ -163,7 +170,8 @@ c
       implicit none
       save
 c
-      integer fid,cret
+      integer*8 fid
+      integer cret
       character *(*) uname
       character *(*) mname
       integer mmhfunr
@@ -181,7 +189,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,nin,nvn,nnc
+      integer*8 fid
+      integer cret,nin,nvn,nnc
       character *(*) name
       integer mmhfatw
 c
@@ -198,7 +207,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,nin,nvn,nnc
+      integer*8 fid
+      integer cret,nin,nvn,nnc
       character *(*) name
       integer mmhfatr
 c
@@ -215,7 +225,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,gtype
+      integer*8 fid
+      integer cret,gtype
       character *(*) name
       integer mmhfgtw
 c
@@ -232,7 +243,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,gtype
+      integer*8 fid
+      integer cret,gtype
       character *(*) name
       integer mmhfgtr
 c
@@ -249,7 +261,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt, numit
+      integer*8 fid
+      integer cret,numdt, numit
       character *(*) name
       real*8 dt
       integer st( * )
@@ -268,7 +281,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt, numit
+      integer*8 fid
+      integer cret,numdt, numit
       character *(*) name
       integer st(*)
       integer mmhfgsr
@@ -287,7 +301,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,n,swm
+      integer*8 fid
+      integer cret,numdt,numit,n,swm
       real*8 dt
       character *(*) name
       real*8 coo(*)
@@ -307,7 +322,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,swm
+      integer*8 fid
+      integer cret,numdt,numit,swm
       character *(*) name
       real*8 coo(*)
       integer mmhfcor
@@ -326,7 +342,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,n,swm,stm,dim
+      integer*8 fid
+      integer cret,numdt,numit,n,swm,stm,dim
       real*8 dt
       character *(*) name, pname
       real*8 coo(*)
@@ -347,7 +364,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,swm,stm,dim
+      integer*8 fid
+      integer cret,numdt,numit,swm,stm,dim
       character *(*) name, pname
       real*8 coo(*)
       integer mmhfcpr
@@ -367,7 +385,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,axis,size
+      integer*8 fid
+      integer cret,numdt,numit,axis,size
       real*8 dt
       character *(*) name
       real*8 index(*)
@@ -387,7 +406,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,axis
+      integer*8 fid
+      integer cret,numdt,numit,axis
       character *(*) name
       real*8 index(*)
       integer mmhfgcr
@@ -406,7 +426,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt, numit,n,entype,geotype
+      integer*8 fid
+      integer cret,numdt, numit,n,entype,geotype
       character *(*) name
       integer num(*)
       integer mmhfenw
@@ -426,7 +447,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt, numit,entype,geotype
+      integer*8 fid
+      integer cret,numdt, numit,entype,geotype
       character *(*) name
       integer num(*)
       integer mmhfenr
@@ -446,7 +468,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt, numit,n,entype,geotype
+      integer*8 fid
+      integer cret,numdt, numit,n,entype,geotype
       character *(*) name
       integer num(*)
       integer mmhffnw
@@ -466,7 +489,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt, numit,entype,geotype
+      integer*8 fid
+      integer cret,numdt, numit,entype,geotype
       character *(*) name
       integer num(*)
       integer mmhffnr
@@ -488,7 +512,8 @@ c
 c
       character *(*) mname
       character*(*) ename
-      integer fid, numdt, numit, entype, geotype, n, cret
+      integer*8 fid
+      integer numdt, numit, entype, geotype, n, cret
       integer mmhfeaw
 c
       cret = mmhfeaw(fid,mname,len(mname),numdt,numit,entype,
@@ -508,7 +533,8 @@ c
 c
       character *(*) mname
       character*(*) ename
-      integer fid, numdt, numit, entype, geotype, cret
+      integer*8 fid
+      integer numdt, numit, entype, geotype, cret
       integer mmhfear
 
       cret = mmhfear(fid,mname,len(mname),numdt,numit,entype,
@@ -528,7 +554,8 @@ c
       save
 c
       character *(*) name
-      integer fid,numdt,numit,entype,geotype,datype,cret
+      integer*8 fid
+      integer numdt,numit,entype,geotype,datype,cret
       integer cmode,chgt,tsf,n
       integer mmhfnme
 c
@@ -553,7 +580,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,n,entype,geotype,swm,cmode
+      integer*8 fid
+      integer cret,numdt,numit,n,entype,geotype,swm,cmode
       character *(*) name
       integer con(*)
       real*8 dt
@@ -574,7 +602,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,entype,geotype,swm,cmode
+      integer*8 fid
+      integer cret,numdt,numit,entype,geotype,swm,cmode
       character *(*) name
       integer con(*)
       integer mmhfcyr
@@ -594,7 +623,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,n,entype,geotype,swm
+      integer*8 fid
+      integer cret,numdt,numit,n,entype,geotype,swm
       integer cmode,stmode,dim
       character *(*) name
       character *(*) pname
@@ -617,7 +647,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,entype,geotype,swm
+      integer*8 fid
+      integer cret,numdt,numit,entype,geotype,swm
       integer cmode,n,stmode,dim
       character *(*) name
       character *(*) pname
@@ -643,7 +674,8 @@ c
 c
       character *(*) name
       character *(*) pname
-      integer fid,numdt,numit,entype,geotype,datype,cret
+      integer*8 fid
+      integer numdt,numit,entype,geotype,datype,cret
       integer cmode,chgt,tsf,n,stmode,psize
       integer mmhfnep
 c
@@ -668,7 +700,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mmhno
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,swm
+      integer*8 fid
+      integer cret,numdt,numit,swm
       character *(*) name
       character *(*) nname
       real*8 coo(*)
@@ -693,7 +726,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,swm,n
+      integer*8 fid
+      integer cret,numdt,numit,swm,n
       character *(*) name
       character *(*) nname
       real*8 coo(*), dt
@@ -717,7 +751,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,n,entype,geotype,swm,cmode
+      integer*8 fid
+      integer cret,numdt,numit,n,entype,geotype,swm,cmode
       character *(*) name
       character *(*) nname
       integer con(*)
@@ -743,7 +778,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,entype,geotype,swm,cmode
+      integer*8 fid
+      integer cret,numdt,numit,entype,geotype,swm,cmode
       character *(*) name
       character *(*) nname
       integer con(*)
@@ -766,7 +802,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit
+      integer*8 fid
+      integer cret,numdt,numit
       real*8 dt
       character *(*) name
       real*8 coo(*)
@@ -787,7 +824,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit
+      integer*8 fid
+      integer cret,numdt,numit
       character *(*) name
       real*8 coo(*)
       integer*8 flt(*)
@@ -807,7 +845,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,entype,geotype,cmode
+      integer*8 fid
+      integer cret,numdt,numit,entype,geotype,cmode
       character *(*) name
       integer con(*)
       integer*8 flt(*)
@@ -829,7 +868,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,entype,geotype,cmode
+      integer*8 fid
+      integer cret,numdt,numit,entype,geotype,cmode
       character *(*) name
       integer con(*)
       integer*8 flt(*)
@@ -850,7 +890,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,isize,entype,cmode
+      integer*8 fid
+      integer cret,numdt,numit,isize,entype,cmode
       character *(*) name
       integer con(*), index(*)
       real*8 dt
@@ -871,7 +912,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,entype,cmode
+      integer*8 fid
+      integer cret,numdt,numit,entype,cmode
       character *(*) name
       integer con(*), index(*)
       integer mmhfpgr
@@ -891,7 +933,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,fisize,nisize,entype,cmode
+      integer*8 fid
+      integer cret,numdt,numit,fisize,nisize,entype,cmode
       character *(*) name
       integer con(*), findex(*), nindex(*) 
       real*8 dt
@@ -912,7 +955,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,entype,cmode
+      integer*8 fid
+      integer cret,numdt,numit,entype,cmode
       character *(*) name
       integer con(*), findex(*), nindex(*) 
       integer mmhfphr
@@ -932,7 +976,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt, numit,n,entype,geotype
+      integer*8 fid
+      integer cret,numdt, numit,n,entype,geotype
       character *(*) name
       integer num(*)
       integer mmhfgnw
@@ -952,7 +997,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt, numit,entype,geotype
+      integer*8 fid
+      integer cret,numdt, numit,entype,geotype
       character *(*) name
       integer num(*)
       integer mmhfgnr
@@ -972,7 +1018,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt1,numit1,numdt2,numit2
+      integer*8 fid
+      integer cret,numdt1,numit1,numdt2,numit2
       character *(*) name
       real*8 dt2
       integer mmhfcsc
@@ -991,7 +1038,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,csit
+      integer*8 fid
+      integer cret,numdt,numit,csit
       character *(*) name
       real*8 dt
       integer mmhfcsi
@@ -1009,7 +1057,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit
+      integer*8 fid
+      integer cret,numdt,numit
       character *(*) name
       real*8 dt
       integer mmhfcsr
@@ -1027,7 +1076,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,stype
+      integer*8 fid
+      integer cret,stype
       character *(*) name
       integer mmhfstr
 c
@@ -1047,7 +1097,8 @@ c
       save
 c
       character *(*) name,aname
-      integer fid,numdt,numit,geotype,cret
+      integer*8 fid
+      integer numdt,numit,geotype,cret
       integer n
       real*8 val(*)
       integer mmhfraw
@@ -1069,7 +1120,8 @@ c
       save
 c
       character *(*) name,aname
-      integer fid,numdt,numit,geotype,cret
+      integer*8 fid
+      integer numdt,numit,geotype,cret
       integer n
       integer val(*)
       integer mmhfiaw
@@ -1091,7 +1143,8 @@ c
       save
 c
       character *(*) name,aname
-      integer fid,numdt,numit,geotype,cret
+      integer*8 fid
+      integer numdt,numit,geotype,cret
       integer n
       character *(*) val
       integer mmhfsaw
@@ -1113,7 +1166,8 @@ c
       save
 c
       character *(*) name,aname
-      integer fid,numdt,numit,geotype,cret
+      integer*8 fid
+      integer numdt,numit,geotype,cret
       real*8 val(*)
       integer mmhfrar
 c
@@ -1133,7 +1187,8 @@ c
       save
 c
       character *(*) name,aname
-      integer fid,numdt,numit,geotype,cret
+      integer*8 fid
+      integer numdt,numit,geotype,cret
       integer val(*)
       integer mmhfiar
 c
@@ -1153,7 +1208,8 @@ c
       save
 c
       character *(*) name,aname
-      integer fid,numdt,numit,geotype,cret
+      integer*8 fid
+      integer numdt,numit,geotype,cret
       integer n
       character *(*) val
       integer mmhfsar
@@ -1173,7 +1229,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit,entype,geotype,it
+      integer*8 fid
+      integer cret,numdt,numit,entype,geotype,it
       character *(*) name, geoname
       integer mmhfeni
 c
@@ -1192,7 +1249,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit
+      integer*8 fid
+      integer cret,numdt,numit
       real*8 dt
       character *(*) name
       real*8 tsf(*)
@@ -1212,7 +1270,8 @@ c
       implicit none
       save
 c
-      integer fid,cret,numdt,numit
+      integer*8 fid
+      integer cret,numdt,numit
       character *(*) name
       real*8 tsf(*)
       integer mmhftfr
@@ -1233,7 +1292,8 @@ c
 c
       character *(*) mname
       integer  val(*)
-      integer fid,numdt,numit,entype,geotype
+      integer*8 fid
+      integer numdt,numit,entype,geotype
       integer dtype,n,cret
       integer mmhfaaw
       integer*8 flt(*)
@@ -1255,7 +1315,8 @@ c
 c
       character *(*) mname
       integer  val(*)
-      integer fid,numdt,numit,entype,geotype
+      integer*8 fid
+      integer numdt,numit,entype,geotype
       integer dtype,n,cret
       integer mmhfaar
       integer*8 flt(*)
@@ -1277,7 +1338,8 @@ c
 c
       character *(*) mname
       character *(*) val
-      integer fid,numdt,numit,entype,geotype
+      integer*8 fid
+      integer numdt,numit,entype,geotype
       integer dtype,n,cret
       integer mmhfasw
       integer*8 flt(*)
@@ -1299,7 +1361,8 @@ c
 c
       character *(*) mname
       character *(*) val
-      integer fid,numdt,numit,entype,geotype
+      integer*8 fid
+      integer numdt,numit,entype,geotype
       integer dtype,n,cret
       integer mmhfasr
       integer*8 flt(*)
Index: med-fichier-3.0.6/src/fi/medparameter.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medparameter.f
+++ med-fichier-3.0.6/src/fi/medparameter.f
@@ -22,7 +22,8 @@ c
       save
 c     
       character *(*) name, des, dtunit
-      integer fid, cret,  type
+      integer*8 fid
+      integer cret,  type
       integer mprfcre
 c
       cret = mprfcre(fid,name,len(name),type,des,len(des),
@@ -39,7 +40,8 @@ c
       implicit none
       save
       character*(*) name
-      integer fid,numdt,numit,cret
+      integer*8 fid
+      integer numdt,numit,cret
       real*8 dt,val
       integer mprfrvw
 c
@@ -56,7 +58,8 @@ c
       implicit none
       save
       character*(*) name
-      integer fid,numdt,numit,cret
+      integer*8 fid
+      integer numdt,numit,cret
       real*8 dt
       integer val
       integer mprfivw
@@ -74,7 +77,8 @@ c
       implicit none
       save
       character*(*) name
-      integer fid,numdt,numit,cret
+      integer*8 fid
+      integer numdt,numit,cret
       real*8 val
       integer mprfrvr
 c
@@ -91,7 +95,8 @@ c
       implicit none
       save
       character*(*) name
-      integer fid,numdt,numit,cret
+      integer*8 fid
+      integer numdt,numit,cret
       integer val
       integer mprfivr
 c
@@ -107,7 +112,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mprnp
 c
       implicit none
       save
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       integer mprfnpr
 c
       n = mprfnpr(fid)
@@ -131,7 +137,8 @@ c
       save
 c
       character *(*) name, dtunit, desc
-      integer fid, it, cret,  type, nstep
+      integer*8 fid
+      integer it, cret,  type, nstep
       integer mprfpri 
 c
       cret = mprfpri(fid, it, name, type,
@@ -150,7 +157,8 @@ c
       save
 c
       character *(*) name, dtunit, desc
-      integer fid, cret,  type, nstep
+      integer*8 fid
+      integer cret,  type, nstep
       integer mprfpin 
 c
       cret = mprfpin(fid, name, len(name), type,
@@ -169,7 +177,8 @@ c
       save
 c
       character *(*) name
-      integer fid, it, cret, numdt, numit
+      integer*8 fid
+      integer it, cret, numdt, numit
       real*8 dt
       integer mprfcsi 
 c
Index: med-fichier-3.0.6/src/fi/medprofile.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medprofile.f
+++ med-fichier-3.0.6/src/fi/medprofile.f
@@ -24,7 +24,8 @@ c
       save
       character*(*) pname
       integer profil(*)
-      integer fid,cret,psize
+      integer*8 fid
+      integer cret,psize
       integer mpffprw
 c
       cret = mpffprw(fid,pname,len(pname),psize,profil)
@@ -39,7 +40,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: mpfnp
 c
       implicit none
       save
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       integer mpffnpf
 c
       n = mpffnpf(fid)
@@ -62,7 +64,8 @@ c
       save
 c
       character *(*) pname
-      integer fid, psize, it, cret
+      integer*8 fid
+      integer psize, it, cret
       integer mpffpfi
 c
       cret = mpffpfi(fid, it, pname, psize)
@@ -79,7 +82,8 @@ c
       save
 c
       character *(*) pname
-      integer fid, psize, cret
+      integer*8 fid
+      integer psize, cret
       integer mpffpsn
 c
       cret = mpffpsn(fid, pname, len(pname), psize)
@@ -96,7 +100,8 @@ c
       save
       character*(*) pname
       integer profil(*)
-      integer fid,cret
+      integer*8 fid
+      integer cret
       integer mpffprr
 c
       cret = mpffprr(fid,pname,len(pname),profil)
Index: med-fichier-3.0.6/src/fi/medsupport.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medsupport.f
+++ med-fichier-3.0.6/src/fi/medsupport.f
@@ -23,7 +23,8 @@ c
       save
 c     
       character *(*) maa, des, aname, aunit
-      integer fid, cret, atype, sdim, mdim
+      integer*8 fid
+      integer cret, atype, sdim, mdim
       integer msmfcre
 c
       cret = msmfcre(fid, maa, len(maa), sdim, mdim,
@@ -41,7 +42,8 @@ c
       implicit none
       save
 c
-      integer fid, n, cret
+      integer*8 fid
+      integer n, cret
       integer msmfnsm 
 c
       n = msmfnsm(fid)
@@ -65,7 +67,8 @@ c
       save
 c
       character *(*) name, desc, aname, aunit
-      integer fid, sdim, mdim, atype, cret
+      integer*8 fid
+      integer sdim, mdim, atype, cret
       integer msmfsni 
 c
       cret = msmfsni(fid, name, len(name), sdim, mdim, desc,
@@ -84,7 +87,8 @@ c
       save
 c
       character *(*) name, desc, aname, aunit
-      integer fid, sdim, mdim, atype, it, cret
+      integer*8 fid
+      integer sdim, mdim, atype, it, cret
       integer msmfsmi 
 c
       cret = msmfsmi(fid, it, name, sdim, mdim, desc,
@@ -101,7 +105,8 @@ c
       implicit none
       save
 c
-      integer fid,it,naxis,cret
+      integer*8 fid
+      integer it,naxis,cret
       integer msmfnax
 c
       naxis =  msmfnax(fid,it)
@@ -122,7 +127,8 @@ c
       implicit none
       save
 c
-      integer fid,naxis,cret
+      integer*8 fid
+      integer naxis,cret
       character *(*) name
       integer msmfnan
 c
Index: med-fichier-3.0.6/src/fi/medparfile.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medparfile.f
+++ med-fichier-3.0.6/src/fi/medparfile.f
@@ -21,10 +21,10 @@ c
       implicit none
       save
       character *(*) name
-      integer fid
+      integer*8 fid
       integer access
       integer com,info,cret
-      integer mpffope
+      integer*8 mpffope
 c
       fid = mpffope(name, access, len(name), com, info)
       if (fid.lt.0) then
Index: med-fichier-3.0.6/tests/f/2.3.1v3.0/test2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.1v3.0/test2.f
+++ med-fichier-3.0.6/tests/f/2.3.1v3.0/test2.f
@@ -28,7 +28,7 @@ C
 C
 C
       integer cret,ret
-      integer fid
+      integer*8 fid
       character*200 des
       integer hdfok, medok
       character*16 nomcoo(2)
Index: med-fichier-3.0.6/tests/f/2.3.2v3.0/test2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.2v3.0/test2.f
+++ med-fichier-3.0.6/tests/f/2.3.2v3.0/test2.f
@@ -28,7 +28,7 @@ C
 C
 C
       integer cret,ret
-      integer fid
+      integer*8 fid
       character*200 des
       integer hdfok, medok
       character*16 nomcoo(2)
Index: med-fichier-3.0.6/tests/f/2.3.6/test1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test1.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test1.f
@@ -28,7 +28,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*200 des
       parameter (des = "Ceci est un courte description"
      1     // " du fichier test1.med")  
Index: med-fichier-3.0.6/tests/f/2.3.6/test19.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test19.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test19.f
@@ -28,7 +28,7 @@ C
 C
 C
       integer cret
-      integer fid
+      integer*8 fid
       character *32 maa
       parameter (maa = "maillage_test19")
       character*200 des
Index: med-fichier-3.0.6/tests/f/2.3.6/test2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test2.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test2.f
@@ -28,7 +28,7 @@ C
 C
 C
       integer cret,ret
-      integer fid
+      integer*8 fid
       character*200 des
 
 C  ** verifie que le fichier test1.med est au bon format **
Index: med-fichier-3.0.6/tests/f/2.3v3.0/test2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3v3.0/test2.f
+++ med-fichier-3.0.6/tests/f/2.3v3.0/test2.f
@@ -28,7 +28,7 @@ C
 C
 C
       integer cret,ret
-      integer fid
+      integer*8 fid
       character*200 des
       integer hdfok, medok
       character*16 nomcoo(2)
Index: med-fichier-3.0.6/tests/f/test1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test1.f
+++ med-fichier-3.0.6/tests/f/test1.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*200 des
       parameter (des = "Ceci est un courte description"
      1     // " du fichier test1.med")  
Index: med-fichier-3.0.6/tests/f/test2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test2.f
+++ med-fichier-3.0.6/tests/f/test2.f
@@ -28,7 +28,7 @@ C
 C
 C
       integer cret,ret
-      integer fid
+      integer*8 fid
       character*200 des
       integer hdfok, medok
       character*16 nomcoo(2)
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDfile_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDfile_1.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDfile_1.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDfile_1.med")  
       character*200 cmt1
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDfilter_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDfilter_1.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDfilter_1.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDfilter_1.med")
       integer nflt
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDfilter_2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDfilter_2.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDfilter_2.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDfilter_2.med")
       integer nflt
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDinterp_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDinterp_1.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDinterp_1.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDinterp_1.med")
       character *64 name1
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDinterp_2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDinterp_2.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDinterp_2.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDinterp_1.med")
       character *64 name1
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDinterp_3.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDinterp_3.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDinterp_3.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDinterp_1.med")
       integer n,ni
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlink_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDlink_1.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlink_1.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDlink_1.med")
       character*64 mname1, mname2,lname1,lname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlink_2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDlink_2.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlink_2.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDlink_1.med")
       character*64 mname1, mname2,lname1,lname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlink_3.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDlink_3.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlink_3.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDlink_1.med")
       character*64 mname1, mname2,lname1,lname2,mname
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlocalization_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDlocalization_1.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlocalization_1.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname,lname,giname,isname
       parameter (fname = "Unittest_MEDlocalization_1.med")
       parameter (lname = "Localization name")
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlocalization_2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDlocalization_2.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlocalization_2.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname,lname1,giname1,isname1
       character*64  giname,isname
       parameter (fname="Unittest_MEDlocalization_1.med")  
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlocalization_3.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDlocalization_3.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDlocalization_3.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname,lname1,giname1,isname1
       character*64  giname,isname
       parameter (fname="Unittest_MEDlocalization_1.med")  
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDparameter_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDparameter_1.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDparameter_1.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDparameter_1.med")
       character*64 pname1,pname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDparameter_2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDparameter_2.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDparameter_2.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDparameter_1.med")
       character*64 pname1,pname2,pname
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDparameter_3.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDparameter_3.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDparameter_3.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64 fname
       parameter (fname = "Unittest_MEDparameter_1.med")
       character*64 pname1,pname2,pname
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDprofile_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDprofile_1.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDprofile_1.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname, pname1, pname2
       parameter (fname="Unittest_MEDprofile_1.med")  
       parameter (pname1="Profile name1")
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDprofile_2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDprofile_2.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDprofile_2.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname, pname1, pname2
       parameter (fname="Unittest_MEDprofile_1.med")  
       parameter (pname1="Profile name1")
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_1.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_1.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_1.med")
       character*64  mname1, mname2, mname3
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_10.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_10.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_10.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_9.med")
       character*64  mname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_11.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_11.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_11.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_9.med")
       character*64  mname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_2.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_2.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_1.med")
       character*64  mname1, mname2, mname3
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_3.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_3.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_3.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_1.med")
       character*64  mname1, mname2, mname3
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_4.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_4.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_4.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_4.med")
       character*64  mname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_5.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_5.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_5.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_4.med")
       character*64  mname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_6.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_6.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_6.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_4.med")
       character*64  mname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_7.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_7.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_7.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_7.med")
       character*64  mname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_8.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_8.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_8.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_7.med")
       character*64  mname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_9.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDstructElement_9.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDstructElement_9.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDstructElement_9.med")
       character*64  mname2
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDsupportMesh_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDsupportMesh_1.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDsupportMesh_1.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDsupportMesh_1.med")
       character*64 smname1
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDsupportMesh_2.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDsupportMesh_2.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDsupportMesh_2.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDsupportMesh_1.med")
       character*64 smname1
Index: med-fichier-3.0.6/tests/unittests/f/Unittest_MEDsupportMesh_3.f
===================================================================
--- med-fichier-3.0.6.orig/tests/unittests/f/Unittest_MEDsupportMesh_3.f
+++ med-fichier-3.0.6/tests/unittests/f/Unittest_MEDsupportMesh_3.f
@@ -26,7 +26,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       character*64  fname
       parameter (fname = "Unittest_MEDsupportMesh_1.med")
       character*64 smname1
Index: med-fichier-3.0.6/tests/usecases/f/UsesCase_MEDfield_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/usecases/f/UsesCase_MEDfield_1.f
+++ med-fichier-3.0.6/tests/usecases/f/UsesCase_MEDfield_1.f
@@ -28,7 +28,7 @@ C
 C
 C
       integer cret
-      integer fid
+      integer*8 fid
 C     component number, node number
       integer ncompo, nnodes
 C     triangular elements number, quadrangular elements number
Index: med-fichier-3.0.6/tests/usecases/f/UsesCase_MEDfield_4.f
===================================================================
--- med-fichier-3.0.6.orig/tests/usecases/f/UsesCase_MEDfield_4.f
+++ med-fichier-3.0.6/tests/usecases/f/UsesCase_MEDfield_4.f
@@ -27,7 +27,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
 C     component number, node number
       integer ncompo
 C     triangular elements number, quadrangular elements number
Index: med-fichier-3.0.6/tests/usecases/f/UsesCase_MEDmesh_1.f
===================================================================
--- med-fichier-3.0.6.orig/tests/usecases/f/UsesCase_MEDmesh_1.f
+++ med-fichier-3.0.6/tests/usecases/f/UsesCase_MEDmesh_1.f
@@ -29,7 +29,7 @@ C
 C
 C
       integer cret
-      integer fid
+      integer*8 fid
       integer sdim, mdim, stype, mtype, atype, nnode
       integer ntria, nquad
       integer fnum, ngro
Index: med-fichier-3.0.6/tests/usecases/f/UsesCase_MEDmesh_10.f
===================================================================
--- med-fichier-3.0.6.orig/tests/usecases/f/UsesCase_MEDmesh_10.f
+++ med-fichier-3.0.6/tests/usecases/f/UsesCase_MEDmesh_10.f
@@ -28,7 +28,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
 C     space dim, mesh dim      
       integer sdim, mdim
 C     axis name, unit name
Index: med-fichier-3.0.6/tests/usecases/f/UsesCase_MEDmesh_4.f
===================================================================
--- med-fichier-3.0.6.orig/tests/usecases/f/UsesCase_MEDmesh_4.f
+++ med-fichier-3.0.6/tests/usecases/f/UsesCase_MEDmesh_4.f
@@ -27,7 +27,7 @@ C
 C
 C     
       integer cret
-      integer fid
+      integer*8 fid
       integer sdim, mdim, stype, mtype, atype
       integer axis, isize, entype, nquad4
       character*200 mdesc
Index: med-fichier-3.0.6/src/2.3.6/fi/famf.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/famf.f
+++ med-fichier-3.0.6/src/2.3.6/fi/famf.f
@@ -22,7 +22,8 @@ c
       implicit none
       save
 c 
-      integer fid,num,attid(*),attval(*),natt,ngro,cret
+      integer*8 fid
+      integer num,attid(*),attval(*),natt,ngro,cret
       character *(*) maa,fam,attdes
       character *80 gro(*)
       integer edffamc
@@ -40,7 +41,8 @@ c
       implicit none
       save
 c
-      integer fid,fam(*),n,typent,typgeo,cret
+      integer*8 fid
+      integer fam(*),n,typent,typgeo,cret
       character *(*) maa
       integer edffame
 c      
@@ -55,7 +57,8 @@ c
       implicit none
       save
 c
-      integer fid,fam(*),n,typent,typgeo,cret
+      integer*8 fid
+      integer fam(*),n,typent,typgeo,cret
       character *(*) maa
       integer edffaml
 c      
@@ -71,7 +74,8 @@ c
       implicit none
       save
 c 
-      integer fid,num,attid(*),attval(*),natt,ngro,cret,ind
+      integer*8 fid
+      integer num,attid(*),attval(*),natt,ngro,cret,ind
       character *(*) maa,fam,attdes,gro
       integer edffami
 c
@@ -88,7 +92,8 @@ c
       implicit none
       save
 c
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       character *(*) maa
       integer edfnfam
 c
@@ -109,7 +114,8 @@ c
       implicit none
       save
 c
-      integer fid,ind,n,cret
+      integer*8 fid
+      integer ind,n,cret
       character *(*) maa
       integer edfngro
 c
@@ -130,7 +136,8 @@ c
       implicit none
       save
 c
-      integer fid,ind,n,cret
+      integer*8 fid
+      integer ind,n,cret
       character *(*) maa
       integer edfnatt
 c
Index: med-fichier-3.0.6/src/2.3.6/fi/resf_r.f
===================================================================
--- med-fichier-3.0.6.orig/src/2.3.6/fi/resf_r.f
+++ med-fichier-3.0.6/src/2.3.6/fi/resf_r.f
@@ -29,7 +29,8 @@ c
 c      
       character *(*) cha,maa,profil,locname
       character*(*) dtunit
-      integer fid,n,pflmod,typent,typgeo,cret
+      integer*8 fid
+      integer n,pflmod,typent,typgeo,cret
       integer interlace,numco,numdt,numo
       real*8 dt
       real*8 val(*)
@@ -57,7 +58,8 @@ c
       save
 c      
       character *(*) cha,maa,locname,profil
-      integer fid,typent,typgeo,cret
+      integer*8 fid
+      integer typent,typgeo,cret
       integer interlace,numco,numdt,numo,pflmod
       integer edfchal
       real*8 val(*)
Index: med-fichier-3.0.6/src/fi/medfilter.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medfilter.f
+++ med-fichier-3.0.6/src/fi/medfilter.f
@@ -25,7 +25,8 @@ c
       save
       character*(*) pname 
       integer flta(*)
-      integer fid,nent,nvent,ncent
+      integer*8 fid
+      integer nent,nvent,ncent
       integer stm,fltas
       integer*8 flt
       integer cret,cs,swm
@@ -79,7 +80,8 @@ c
       implicit none
       save
       character*(*) pname 
-      integer fid,nent,nvent,ncent
+      integer*8 fid
+      integer nent,nvent,ncent
       integer start,stride,count,bsize,lbsize
       integer stm
       integer*8 flt
Index: med-fichier-3.0.6/src/fi/medstructelement.f
===================================================================
--- med-fichier-3.0.6.orig/src/fi/medstructelement.f
+++ med-fichier-3.0.6/src/fi/medstructelement.f
@@ -22,7 +22,8 @@ c
       implicit none
       save
       character*(*) mname,smname
-      integer fid,cret,mdim,setype,sgtype,etype
+      integer*8 fid
+      integer cret,mdim,setype,sgtype,etype
       integer msefcre
 c
       etype = msefcre(fid,mname,len(mname),mdim,
@@ -44,7 +45,8 @@ c     DEC$ ATTRIBUTES DLLEXPORT :: msens
 c
       implicit none
       save
-      integer fid,n,cret
+      integer*8 fid
+      integer n,cret
       integer msefnse
 c
       n = msefnse(fid)
@@ -68,7 +70,8 @@ c
       implicit none
       save
       character*(*) mname,smname
-      integer fid,cret,mdim,setype,sgtype,it
+      integer*8 fid
+      integer cret,mdim,setype,sgtype,it
       integer snnode,sncell,ncatt,ap,nvatt,mgtype
       integer msefsei
 c
@@ -89,7 +92,8 @@ c
       implicit none
       save
       character*(*) mname,smname
-      integer fid,cret,mdim,setype,sgtype
+      integer*8 fid
+      integer cret,mdim,setype,sgtype
       integer snnode,sncell,ncatt,ap,nvatt,mgtype
       integer msefsin
 c
@@ -108,7 +112,8 @@ c
       implicit none
       save
       character*(*) mname
-      integer fid,cret,mgtype
+      integer*8 fid
+      integer cret,mgtype
       integer msefsen
 c
       cret = msefsen(fid,mgtype,mname)
@@ -124,7 +129,8 @@ c
       implicit none
       save
       character*(*) mname
-      integer fid,gtype,cret
+      integer*8 fid
+      integer gtype,cret
       integer msefsgt
 c
       gtype = msefsgt(fid,mname,len(mname))
@@ -146,7 +152,8 @@ c
       implicit none
       save
       character*(*) mname,aname
-      integer fid,cret,atype,anc
+      integer*8 fid
+      integer cret,atype,anc
       integer msefvac
 c
       cret = msefvac(fid,mname,len(mname),
@@ -164,7 +171,8 @@ c
       implicit none
       save
       character*(*) mname,aname
-      integer fid,cret,atype,anc
+      integer*8 fid
+      integer cret,atype,anc
       integer msefvni
 c
       cret = msefvni(fid,mname,len(mname),
@@ -182,7 +190,8 @@ c
       implicit none
       save
       character*(*) mname,aname
-      integer fid,cret,atype,anc,it
+      integer*8 fid
+      integer cret,atype,anc,it
       integer msefvai
 c
       cret = msefvai(fid,mname,len(mname),it,
@@ -221,7 +230,8 @@ c
       implicit none
       save
       character*(*) mname,aname
-      integer fid,cret,atype,anc,setype
+      integer*8 fid
+      integer cret,atype,anc,setype
       real*8 val(*)
       integer msefraw
 c
@@ -241,7 +251,8 @@ c
       implicit none
       save
       character*(*) mname,aname
-      integer fid,cret,atype,anc,setype
+      integer*8 fid
+      integer cret,atype,anc,setype
       integer val(*)
       integer msefiaw
 c
@@ -261,7 +272,8 @@ c
       implicit none
       save
       character*(*) mname,aname
-      integer fid,cret,atype,anc,setype
+      integer*8 fid
+      integer cret,atype,anc,setype
       character *(*) val
       integer msefsaw
 c
@@ -281,7 +293,8 @@ c
       implicit none
       save
       character*(*) mname,aname,pname
-      integer fid,cret,atype,anc,setype
+      integer*8 fid
+      integer cret,atype,anc,setype
       real*8 val(*)
       integer msefrpw
 c
@@ -302,7 +315,8 @@ c
       implicit none
       save
       character*(*) mname,aname,pname
-      integer fid,cret,atype,anc,setype
+      integer*8 fid
+      integer cret,atype,anc,setype
       integer val(*)
       integer msefipw
 c
@@ -323,7 +337,8 @@ c
       implicit none
       save
       character*(*) mname,aname,pname
-      integer fid,cret,atype,anc,setype
+      integer*8 fid
+      integer cret,atype,anc,setype
       character *(*) val
       integer msefspw
 c
@@ -344,7 +359,8 @@ c
       implicit none
       save
       character*(*) mname,aname,pname
-      integer fid,cret,atype,anc,setype,psize
+      integer*8 fid
+      integer cret,atype,anc,setype,psize
       integer msefcni
 c
       cret = msefcni(fid,mname,len(mname),
@@ -363,7 +379,8 @@ c
       implicit none
       save
       character*(*) mname,aname,pname
-      integer fid,cret,atype,anc,setype,psize,it
+      integer*8 fid
+      integer cret,atype,anc,setype,psize,it
       integer msefcai
 c
       cret = msefcai(fid,mname,len(mname),it,
@@ -381,7 +398,8 @@ c
       implicit none
       save
       character*(*) mname,aname
-      integer fid,cret
+      integer*8 fid
+      integer cret
       real*8 val(*)
       integer msefrar
 c
@@ -399,7 +417,8 @@ c
       implicit none
       save
       character*(*) mname,aname
-      integer fid,cret
+      integer*8 fid
+      integer cret
       integer val(*)
       integer msefiar
 c
@@ -417,7 +436,8 @@ c
       implicit none
       save
       character*(*) mname,aname
-      integer fid,cret
+      integer*8 fid
+      integer cret
       character *(*) val
       integer msefsar
 c
Index: med-fichier-3.0.6/tests/f/2.3.6/test22.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test22.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test22.f
@@ -25,7 +25,8 @@ C
       implicit none
       include 'med.hf'
 C
-      integer fid,cret
+      integer*8 fid
+      integer cret
       character*16 dtunit
       character*32 nom
       character*200 desc
Index: med-fichier-3.0.6/tests/f/test22.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test22.f
+++ med-fichier-3.0.6/tests/f/test22.f
@@ -25,7 +25,8 @@ C
       implicit none
       include 'med.hf'
 C
-      integer fid,cret
+      integer*8 fid
+      integer cret
       character*16 dtunit
       character*64 nom
       character*200 desc
Index: med-fichier-3.0.6/src/cfi/meshcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/meshcf.c
+++ med-fichier-3.0.6/src/cfi/meshcf.c
@@ -150,7 +150,7 @@ From Fortran call of following C functio
 
 #ifdef PPRO_NT
 med_int 
-MMHFCRE(med_int *fid, char *mname, unsigned int bidon, 
+MMHFCRE(med_idt *fid, char *mname, unsigned int bidon, 
                   med_int *mnamelen, med_int * sdim, med_int * mdim, med_int *mtype,
 		  char *desc, unsigned int bidon2, med_int *desclen,
 		  char *dtunit, unsigned int bidon3, med_int *dtunitlen,
@@ -158,7 +158,7 @@ MMHFCRE(med_int *fid, char *mname, unsig
 		  med_int *anamelen, char *aunit, unsigned int bidon5, med_int* aunitlen)
 #else
 med_int 
-nmmhfcre(med_int *fid, char *mname, med_int *mnamelen, med_int * sdim,
+nmmhfcre(med_idt *fid, char *mname, med_int *mnamelen, med_int * sdim,
 	 med_int *mdim, med_int *mtype, char *desc, med_int *desclen,
 	 char *dtunit, med_int *dtunitlen,
 	 med_int *stype, med_int *atype, char *aname,
@@ -205,10 +205,10 @@ nmmhfcre(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int
-MMHFNMH(med_int *fid)
+MMHFNMH(med_idt *fid)
 #else
 med_int
-nmmhfnmh(med_int *fid)
+nmmhfnmh(med_idt *fid)
 #endif
 {
   med_int _ret;
@@ -221,10 +221,10 @@ nmmhfnmh(med_int *fid)
 
 #ifdef PPRO_NT
 med_int
-MMHFNAN(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen)
+MMHFNAN(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen)
 #else
 med_int
-nmmhfnan(med_int *fid, char *mname, med_int *mnamelen)
+nmmhfnan(med_idt *fid, char *mname, med_int *mnamelen)
 #endif
 {
   med_int _ret;
@@ -244,10 +244,10 @@ nmmhfnan(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFNAX(med_int *fid, med_int *it)
+MMHFNAX(med_idt *fid, med_int *it)
 #else
 med_int 
-nmmhfnax(med_int *fid, med_int *it)
+nmmhfnax(med_idt *fid, med_int *it)
 #endif
 {
   med_int _ret; 
@@ -260,7 +260,7 @@ nmmhfnax(med_int *fid, med_int *it)
 
 #ifdef PPRO_NT
 med_int 
-MMHFMHI(med_int *fid, med_int *it, char*mname, unsigned int bidon, 
+MMHFMHI(med_idt *fid, med_int *it, char*mname, unsigned int bidon, 
                   med_int * sdim, med_int * mdim, med_int *mtype,
 		  char *desc, unsigned int bidon2,
 		  char *dtunit, unsigned int bidon3, 
@@ -269,7 +269,7 @@ MMHFMHI(med_int *fid, med_int *it, char*
 		  char *aunit, unsigned int bidon5)
 #else
 med_int 
-nmmhfmhi(med_int *fid, med_int *it, char *mname, med_int * sdim,
+nmmhfmhi(med_idt *fid, med_int *it, char *mname, med_int * sdim,
 	 med_int *mdim, med_int *mtype, char *desc,
 	 char *dtunit, med_int *stype, med_int *nstep,
 	 med_int *atype, char *aname, char *aunit)
@@ -320,7 +320,7 @@ nmmhfmhi(med_int *fid, med_int *it, char
 
 #ifdef PPRO_NT
 med_int
-MMHFMIN(med_int *fid, char*mname, unsigned int bidon, med_int *mnamelen,
+MMHFMIN(med_idt *fid, char*mname, unsigned int bidon, med_int *mnamelen,
         med_int * sdim, med_int * mdim, med_int *mtype,
 		char *desc, unsigned int bidon2,
 		char *dtunit, unsigned int bidon3,
@@ -329,7 +329,7 @@ MMHFMIN(med_int *fid, char*mname, unsign
 		char *aunit, unsigned int bidon5)
 #else
 med_int
-nmmhfmin(med_int *fid, char *mname, med_int *mnamelen, med_int * sdim,
+nmmhfmin(med_idt *fid, char *mname, med_int *mnamelen, med_int * sdim,
 	 med_int *mdim, med_int *mtype, char *desc,
 	 char *dtunit, med_int *stype, med_int *nstep,
 	 med_int *atype, char *aname, char *aunit)
@@ -385,10 +385,10 @@ nmmhfmin(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int
-MMHFUNW(med_int *fid, char *uname, unsigned int bidon, med_int *unamelen)
+MMHFUNW(med_idt *fid, char *uname, unsigned int bidon, med_int *unamelen)
 #else
 med_int
-nmmhfunw(med_int *fid, char *uname, med_int *unamelen)
+nmmhfunw(med_idt *fid, char *uname, med_int *unamelen)
 #endif
 {
   med_int _ret;
@@ -409,11 +409,11 @@ nmmhfunw(med_int *fid, char *uname, med_
 
 #ifdef PPRO_NT
 med_int
-MMHFUNR(med_int *fid, char*mname, unsigned int bidon, med_int *mnamelen,
+MMHFUNR(med_idt *fid, char*mname, unsigned int bidon, med_int *mnamelen,
 		  char *uname, unsigned int bidon1)
 #else
 med_int
-nmmhfunr(med_int *fid, char*mname, med_int *mnamelen,
+nmmhfunr(med_idt *fid, char*mname, med_int *mnamelen,
 	 char *uname)
 #endif
 {
@@ -438,11 +438,11 @@ nmmhfunr(med_int *fid, char*mname, med_i
 
 #ifdef PPRO_NT
 med_int
-MMHFATW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFATW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *nin, med_int *nvn, med_int *nnc)
 #else
 med_int
-nmmhfatw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfatw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *nin, med_int *nvn, med_int *nnc)
 #endif
 {
@@ -466,11 +466,11 @@ nmmhfatw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFATR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFATR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *nin, med_int *nvn, med_int *nnc)
 #else
 med_int 
-nmmhfatr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfatr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *nin, med_int *nvn, med_int *nnc)
 #endif
 {
@@ -494,11 +494,11 @@ nmmhfatr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFGTW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFGTW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *gtype)
 #else
 med_int 
-nmmhfgtw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfgtw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *gtype)
 #endif
 {
@@ -523,11 +523,11 @@ nmmhfgtw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFGTR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFGTR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *gtype)
 #else
 med_int 
-nmmhfgtr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfgtr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *gtype)
 #endif
 {
@@ -551,11 +551,11 @@ nmmhfgtr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFGSW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFGSW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt, med_int *gstruct)
 #else
 med_int 
-nmmhfgsw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfgsw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt, med_int *gstruct)
 #endif
 {
@@ -579,11 +579,11 @@ nmmhfgsw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFGSR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFGSR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *gstruct)
 #else
 med_int 
-nmmhfgsr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfgsr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *gstruct)
 #endif
 {
@@ -606,12 +606,12 @@ nmmhfgsr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCOW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFCOW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt, med_int *swm,
 		  med_int *n, med_float *coo)
 #else
 med_int 
-nmmhfcow(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcow(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt,  
 	 med_int *swm, med_int *n, med_float *coo)
 #endif
@@ -636,12 +636,12 @@ nmmhfcow(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCOR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFCOR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *swm,
 		  med_float *coo)
 #else
 med_int 
-nmmhfcor(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcor(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit,
 	 med_int *swm, med_float *coo)
 #endif
@@ -665,13 +665,13 @@ nmmhfcor(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCPW(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFCPW(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt, 
 		  med_int *smode, char *pname, unsigned int bidon2, med_int *pnamelen,
 		  med_int *swm, med_int *dim, med_int *n, med_float *coo)
 #else
 med_int 
-nmmhfcpw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcpw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt,  
 	 med_int *smode, char *pname, med_int *pnamelen,
 	 med_int *swm, med_int *dim, med_int *n, med_float *coo)
@@ -703,13 +703,13 @@ nmmhfcpw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCPR(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFCPR(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit,  
 		  med_int *smode, char *pname, unsigned int bidon2, med_int *pnamelen,
 		  med_int *swm, med_int *dim, med_float *coo)
 #else
 med_int 
-nmmhfcpr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcpr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit,
 	 med_int *smode, char *pname, med_int *pnamelen,
 	 med_int *swm, med_int *dim, med_float *coo)
@@ -740,12 +740,12 @@ nmmhfcpr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFGCW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFGCW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt, 
 		  med_int *axis, med_int *size, med_float *index)
 #else
 med_int 
-nmmhfgcw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfgcw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt,  
 	 med_int *axis, med_int *size, med_float *index)
 #endif
@@ -769,12 +769,12 @@ nmmhfgcw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFGCR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFGCR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, 
 		  med_int *axis, med_float *index)
 #else
 med_int 
-nmmhfgcr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfgcr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit,
 	 med_int *axis, med_float *index)
 #endif
@@ -798,12 +798,12 @@ nmmhfgcr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFENW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFENW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  med_int *n, med_int *num)
 #else
 med_int 
-nmmhfenw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfenw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, 
 	 med_int *geotype, med_int *n, med_int *num)
 #endif
@@ -834,12 +834,12 @@ nmmhfenw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFENR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFENR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  med_int *num)
 #else
 med_int 
-nmmhfenr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfenr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, 
 	 med_int *geotype, med_int *num)
 #endif
@@ -870,12 +870,12 @@ nmmhfenr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFFNW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFFNW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  med_int *n, med_int *num)
 #else
 med_int 
-nmmhffnw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhffnw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, 
 	 med_int *geotype, med_int *n, med_int *num)
 #endif
@@ -902,12 +902,12 @@ nmmhffnw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFFNR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFFNR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  med_int *num)
 #else
 med_int 
-nmmhffnr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhffnr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, 
 	 med_int *geotype, med_int *num)
 #endif
@@ -934,12 +934,12 @@ nmmhffnr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFEAW(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFEAW(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  med_int *n, char *ename, unsigned int bidon2, med_int *enamelen)
 #else
 med_int 
-nmmhfeaw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfeaw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 	 med_int *n, char *ename, med_int *enamelen)
 #endif
@@ -970,12 +970,12 @@ nmmhfeaw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFEAR(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFEAR(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  char *ename, unsigned int bidon2)
 #else
 med_int 
-nmmhfear(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfear(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 	 char *ename)
 #endif
@@ -1021,12 +1021,12 @@ nmmhfear(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFNME(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFNME(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  med_int *datatype, med_int *cmode, med_int *chgt, med_int *tsf) 
 #else
 med_int 
-nmmhfnme(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfnme(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 	 med_int *datatype, med_int *cmode, med_int *chgt, med_int *tsf)
 #endif
@@ -1061,13 +1061,13 @@ nmmhfnme(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCYW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFCYW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float* dt,
 		  med_int *entype, med_int *geotype, med_int *cmode, 
 		  med_int *swm, med_int *n, med_int *connectivity)
 #else
 med_int 
-nmmhfcyw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcyw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float* dt,
 	 med_int *entype, med_int *geotype, med_int *cmode, 
 	 med_int *swm, med_int *n, med_int *connectivity)
@@ -1104,13 +1104,13 @@ nmmhfcyw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCYR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFCYR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, 
 		  med_int *entype, med_int *geotype, med_int *cmode, 
 		  med_int *swm, med_int *connectivity)
 #else
 med_int 
-nmmhfcyr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcyr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, 
 	 med_int *entype, med_int *geotype, med_int *cmode, 
 	 med_int *swm, med_int *connectivity)
@@ -1144,14 +1144,14 @@ nmmhfcyr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFYPW(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFYPW(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float* dt,
 		  med_int *entype, med_int *geotype, med_int *cmode,
 		  med_int *stmode, char *pname, unsigned int bidon2,med_int *pnamelen,
 		  med_int *swm, med_int *dim, med_int *n, med_int *connectivity)
 #else
 med_int 
-nmmhfypw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfypw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float* dt,
 	 med_int *entype, med_int *geotype, med_int *cmode,
 	 med_int *stmode,char *pname, med_int *pnamelen,
@@ -1198,14 +1198,14 @@ nmmhfypw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFYPR(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFYPR(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, 
 		  med_int *entype, med_int *geotype, med_int *cmode, 
 		  med_int *stmode, char* pname, unsigned int bidon2, med_int *pnamelen,
 		  med_int *swm, med_int*dim, med_int *n, med_int *connectivity)
 #else
 med_int 
-nmmhfypr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfypr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, 
 	 med_int *entype, med_int *geotype, med_int *cmode, 
 	 med_int *stmode, char* pname, med_int *pnamelen,
@@ -1252,14 +1252,14 @@ nmmhfypr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFNEP(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFNEP(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  med_int *datatype, med_int *cmode, 
 		  med_int *stmode, char* pname, unsigned int bidon1, med_int *psize,
 		  med_int *chgt, med_int *tsf) 
 #else
 med_int 
-nmmhfnep(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+nmmhfnep(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 	 med_int *datatype, med_int *cmode, 
 	 med_int *stmode, char* pname, med_int *psize,
@@ -1310,14 +1310,14 @@ nmmhfnep(med_int *fid, char *mname, unsi
 
 #ifdef PPRO_NT
 med_int 
-MMHFNOW(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFNOW(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt, med_int *swm,
 		  med_int *n, med_float *coo,
 		  med_int *iname, char*nname, unsigned int bidon2, med_int *nnamelen,
 		  med_int *inum, med_int *num, med_int *ifam, med_int *fam)
 #else
 med_int 
-nmmhfnow(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfnow(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt, med_int *swm,
 	 med_int *n, med_float *coo,
 	 med_int *iname, char*nname, med_int *nnamelen,
@@ -1363,13 +1363,13 @@ nmmhfnow(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFNOR(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFNOR(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *swm,med_float *coo,
 		  med_int *iname, char*nname, unsigned int bidon,
 		  med_int *inum, med_int *num, med_int *ifam, med_int *fam)
 #else
 med_int 
-nmmhfnor(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfnor(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *swm, med_float *coo,
 	 med_int *iname, char*nname, med_int *inum, med_int *num, 
 	 med_int *ifam, med_int *fam)
@@ -1423,7 +1423,7 @@ nmmhfnor(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFELW(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFELW(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt,  med_int *entype, med_int *geotype,
 		  med_int *cmode, med_int *swm, 
 		  med_int *n, med_int *connectivity,
@@ -1431,7 +1431,7 @@ MMHFELW(med_int *fid, char *mname, unsig
 		  med_int *inum, med_int *num, med_int *ifam, med_int *fam)
 #else
 med_int 
-nmmhfelw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfelw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt, med_int *entype, med_int *geotype,
 	 med_int *cmode, med_int *swm, 
 	 med_int *n, med_int *connectivity,
@@ -1486,7 +1486,7 @@ nmmhfelw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFELR(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFELR(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  med_int *cmode, med_int *swm, 
 		  med_int *connectivity,
@@ -1494,7 +1494,7 @@ MMHFELR(med_int *fid, char *mname, unsig
 		  med_int *inum, med_int *num, med_int *ifam, med_int *fam)
 #else
 med_int 
-nmmhfelr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfelr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 	 med_int *cmode, med_int *swm, med_int *connectivity,
 	 med_int *iname, char*nname, 
@@ -1556,12 +1556,12 @@ nmmhfelr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCAW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFCAW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt,
 		  unsigned char **flt, med_float *coo)
 #else
 med_int 
-nmmhfcaw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcaw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt,  
 	 unsigned char **flt,med_float *coo)
 #endif
@@ -1590,12 +1590,12 @@ nmmhfcaw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCAR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFCAR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, unsigned char **flt,
 		  med_float *coo)
 #else
 med_int 
-nmmhfcar(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcar(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, unsigned char **flt,
 	 med_float *coo)
 #endif
@@ -1624,13 +1624,13 @@ nmmhfcar(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFYAW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFYAW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float* dt,
 		  med_int *entype, med_int *geotype,  med_int *cmode, unsigned char **flt,
 		  med_int *connectivity)
 #else
 med_int 
-nmmhfyaw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfyaw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float* dt,
 	 med_int *entype, med_int *geotype, med_int *cmode,
 	 unsigned char **flt, med_int *connectivity)
@@ -1666,13 +1666,13 @@ nmmhfyaw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFYAR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFYAR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, 
 		  med_int *entype, med_int *geotype, med_int *cmode, 
 		  unsigned char **flt, med_int *connectivity)
 #else
 med_int 
-nmmhfyar(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfyar(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, 
 	 med_int *entype, med_int *geotype, med_int *cmode, 
 	 unsigned char **flt, med_int *connectivity)
@@ -1708,13 +1708,13 @@ nmmhfyar(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFPGW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFPGW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float* dt,
 		  med_int *entype, med_int *cmode, 
 		  med_int *indexsize, med_int *index, med_int *connectivity)
 #else
 med_int 
-nmmhfpgw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfpgw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float* dt,
 	 med_int *entype, med_int *cmode, 
 	 med_int *indexsize, med_int *index, med_int *connectivity)
@@ -1748,14 +1748,14 @@ nmmhfpgw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFPGR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFPGR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, 
 		  med_int *entype, med_int *cmode, 
 		  med_int *index,
 		  med_int *connectivity)
 #else
 med_int 
-nmmhfpgr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfpgr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, 
 	 med_int *entype, med_int *cmode, 
 	 med_int *index,
@@ -1788,7 +1788,7 @@ nmmhfpgr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFPHW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFPHW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float* dt,
 		  med_int *entype, med_int *cmode, 
 		  med_int *findexsize, med_int *findex,
@@ -1796,7 +1796,7 @@ MMHFPHW(med_int *fid, char *mname, unsig
 		  med_int *connectivity)
 #else
 med_int 
-nmmhfphw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfphw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float* dt,
 	 med_int *entype, med_int *cmode, 
 	 med_int *findexsize, med_int *findex,
@@ -1835,7 +1835,7 @@ nmmhfphw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFPHR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFPHR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit,
 		  med_int *entype, med_int *cmode, 
 		  med_int *findex,
@@ -1843,7 +1843,7 @@ MMHFPHR(med_int *fid, char *mname, unsig
 		  med_int *connectivity)
 #else
 med_int 
-nmmhfphr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfphr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit,
 	 med_int *entype, med_int *cmode, 
 	 med_int *findex,
@@ -1877,12 +1877,12 @@ nmmhfphr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFGNW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFGNW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  med_int *n, med_int *num)
 #else
 med_int 
-nmmhfgnw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfgnw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, 
 	 med_int *geotype, med_int *n, med_int *num)
 #endif
@@ -1913,12 +1913,12 @@ nmmhfgnw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFGNR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFGNR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *geotype,
 		  med_int *num)
 #else
 med_int 
-nmmhfgnr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfgnr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, 
 	 med_int *geotype, med_int *num)
 #endif
@@ -1947,12 +1947,12 @@ nmmhfgnr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCSC(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFCSC(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt1, med_int *numit1, 
 		  med_int *numdt2, med_int *numit2, med_float *dt2)
 #else
 med_int 
-nmmhfcsc(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcsc(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt1, med_int *numit1, 
 	 med_int *numdt2, med_int *numit2, med_float *dt2)
 #endif
@@ -1980,11 +1980,11 @@ nmmhfcsc(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCSI(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFCSI(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *csit, med_int *numdt, med_int *numit, med_float *dt)
 #else
 med_int 
-nmmhfcsi(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcsi(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *csit, med_int *numdt, med_int *numit, 
 	 med_float *dt)
 #endif
@@ -2012,11 +2012,11 @@ nmmhfcsi(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFCSR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFCSR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt)
 #else
 med_int 
-nmmhfcsr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfcsr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, 
 	 med_float *dt)
 #endif
@@ -2042,11 +2042,11 @@ nmmhfcsr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFSTR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFSTR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *stype)
 #else
 med_int 
-nmmhfstr(med_int *fid, char *mname, med_int *mnamelen,med_int *stype)
+nmmhfstr(med_idt *fid, char *mname, med_int *mnamelen,med_int *stype)
 #endif
 {
   med_int _ret;
@@ -2071,13 +2071,13 @@ nmmhfstr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFRAW(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFRAW(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *geotype, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *n, med_float *val)
 #else
 med_int 
-nmmhfraw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfraw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *geotype, 
 	 char *aname, med_int *anamelen,
 	 med_int *n, med_float *val)
@@ -2113,13 +2113,13 @@ nmmhfraw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFIAW(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFIAW(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *geotype, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *n, med_int *val)
 #else
 med_int 
-nmmhfiaw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfiaw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *geotype, 
 	 char *aname, med_int *anamelen,
 	 med_int *n, med_int *val)
@@ -2155,13 +2155,13 @@ nmmhfiaw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFSAW(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFSAW(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *geotype, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *n, char *val, unsigned int bidon3, med_int *vallen)
 #else
 med_int 
-nmmhfsaw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfsaw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *geotype, 
 	 char *aname, med_int *anamelen,
 	 med_int *n, char *val, med_int *vallen)
@@ -2224,13 +2224,13 @@ nmmhfsaw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFRAR(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFRAR(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *geotype, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_float *val)
 #else
 med_int 
-nmmhfrar(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfrar(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *geotype, 
 	 char *aname, med_int *anamelen,
 	 med_float *val)
@@ -2265,13 +2265,13 @@ nmmhfrar(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFIAR(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFIAR(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *geotype, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *val)
 #else
 med_int 
-nmmhfiar(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfiar(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *geotype, 
 	 char *aname, med_int *anamelen,
 	 med_int *val)
@@ -2307,13 +2307,13 @@ nmmhfiar(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFSAR(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MMHFSAR(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *geotype, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  char *val, unsigned int bidon3)
 #else
 med_int 
-nmmhfsar(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfsar(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *geotype, 
 	 char *aname, med_int *anamelen,
 	 char *val)
@@ -2399,12 +2399,12 @@ nmmhfsar(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFENI(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFENI(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_int *entype, med_int *it, 
 		  char *geoname, unsigned int bidon1, med_int *geotype)
 #else
 med_int 
-nmmhfeni(med_int *fid, char *mname, med_int *mnamelen,
+nmmhfeni(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_int *entype, med_int *it, 
 	 char *geoname, med_int *geotype)
 #endif
@@ -2439,11 +2439,11 @@ nmmhfeni(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFTFW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFTFW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt, med_float *tsf)
 #else
 med_int 
-nmmhftfw(med_int *fid, char *mname, med_int *mnamelen,
+nmmhftfw(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt, med_float *tsf)
 #endif
 {
@@ -2469,11 +2469,11 @@ nmmhftfw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFTFR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen,
+MMHFTFR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen,
 		med_int *numdt, med_int *numit, med_float *tsf)
 #else
 med_int 
-nmmhftfr(med_int *fid, char *mname, med_int *mnamelen,
+nmmhftfr(med_idt *fid, char *mname, med_int *mnamelen,
 	 med_int *numdt, med_int *numit, med_float *tsf)
 #endif
 {
@@ -2500,7 +2500,7 @@ nmmhftfr(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MMHFAAW(med_int *fid, 
+MMHFAAW(med_idt *fid, 
 		  char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *datatype, 
 		  med_int *numdt, 
@@ -2511,7 +2511,7 @@ MMHFAAW(med_int *fid,
 		  med_int *val)
 #else
 med_int 
-nmmhfaaw(med_int *fid, 
+nmmhfaaw(med_idt *fid, 
 	 char *mname, med_int *mnamelen,
 	 med_int *datatype,
 	 med_int *numdt, 
@@ -2552,7 +2552,7 @@ nmmhfaaw(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MMHFAAR(med_int *fid, 
+MMHFAAR(med_idt *fid, 
 		  char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *datatype, 
 		  med_int *numdt, 
@@ -2563,7 +2563,7 @@ MMHFAAR(med_int *fid,
 		  med_int *val)
 #else
 med_int 
-nmmhfaar(med_int *fid, 
+nmmhfaar(med_idt *fid, 
 	 char *mname, med_int *mnamelen,
 	 med_int *datatype,
 	 med_int *numdt, 
@@ -2606,7 +2606,7 @@ nmmhfaar(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MMHFASW(med_int *fid, 
+MMHFASW(med_idt *fid, 
 		  char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *datatype, 
 		  med_int *numdt, 
@@ -2617,7 +2617,7 @@ MMHFASW(med_int *fid,
 		  char *val)
 #else
 med_int 
-nmmhfasw(med_int *fid, 
+nmmhfasw(med_idt *fid, 
 	 char *mname, med_int *mnamelen,
 	 med_int *datatype,
 	 med_int *numdt, 
@@ -2659,7 +2659,7 @@ nmmhfasw(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MMHFASR(med_int *fid, 
+MMHFASR(med_idt *fid, 
 		  char *mname, unsigned int bidon, med_int *mnamelen,
 		  med_int *datatype, 
 		  med_int *numdt, 
@@ -2670,7 +2670,7 @@ MMHFASR(med_int *fid,
 		  char *val)
 #else
 med_int 
-nmmhfasr(med_int *fid, 
+nmmhfasr(med_idt *fid, 
 	 char *mname, med_int *mnamelen,
 	 med_int *datatype,
 	 med_int *numdt, 
Index: med-fichier-3.0.6/tests/f/2.3.6/test14.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test14.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test14.f
@@ -28,7 +28,8 @@ C
       implicit none             
       include 'med.hf'
 C      
-      integer cret, fid
+      integer*8 fid
+      integer cret
 C     ** la dimension du maillage **
       integer mdim
 C     ** nom du maillage de longueur maxi MED_TAILLE_NOM ** 
Index: med-fichier-3.0.6/tests/f/2.3.6/test20.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test20.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test20.f
@@ -27,7 +27,8 @@ C
       include 'med.hf'
 C
 C
-      integer cret, fid, ncha, nmaa, mid, mid2
+      integer*8 fid,mid,mid2
+      integer cret, ncha, nmaa
       integer i, ncomp, type
       character*16  comp(3), unit(3)
       character*32  nom
Index: med-fichier-3.0.6/tests/f/2.3.6/test21.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test21.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test21.f
@@ -26,7 +26,8 @@ C
       implicit none
       include 'med.hf'
 C
-      integer cret, fid
+      integer*8 fid
+      integer cret
       character*16 edtuni,dtunit1
       character*32 nom1, nom2
       character*200 desc1, desc2
Index: med-fichier-3.0.6/tests/f/2.3.6/test3.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test3.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test3.f
@@ -28,7 +28,8 @@ C
       include 'med.hf'
 C
 C
-      integer       cret,fid,cres,type,cnu
+      integer*8 fid
+      integer       cret,cres,type,cnu
       character*32  maa
       character*80  nomu
       character*200 desc
Index: med-fichier-3.0.6/tests/f/test14.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test14.f
+++ med-fichier-3.0.6/tests/f/test14.f
@@ -28,7 +28,8 @@ C
       implicit none             
       include 'med.hf'
 C      
-      integer cret, fid
+      integer*8 fid
+      integer cret
 C     ** la dimension du maillage **
       integer mdim,sdim
 C     ** nom du maillage de longueur maxi MED_TAILLE_NOM ** 
Index: med-fichier-3.0.6/tests/f/test20.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test20.f
+++ med-fichier-3.0.6/tests/f/test20.f
@@ -27,7 +27,8 @@ C
       include 'med.hf'
 C
 C
-      integer cret, fid, ncha, nmaa, mid, mid2
+      integer*8 fid, mid, mid2
+      integer cret, ncha, nmaa
       integer i, ncomp, type
       character*16  comp(3), unit(3), dtunit
       character*64  nomcha,nommaa
Index: med-fichier-3.0.6/tests/f/test21.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test21.f
+++ med-fichier-3.0.6/tests/f/test21.f
@@ -26,7 +26,8 @@ C
       implicit none
       include 'med.hf'
 C
-      integer cret, fid
+      integer*8 fid
+      integer cret
       character*16 edtuni,dtunit1
       character*64 nom1, nom2
       character*200 desc1, desc2
Index: med-fichier-3.0.6/tests/f/test3.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test3.f
+++ med-fichier-3.0.6/tests/f/test3.f
@@ -28,7 +28,8 @@ C
       include 'med.hf'
 C
 C
-      integer       cret,fid,cres,type,cnu
+      integer*8 fid
+      integer       cret,cres,type,cnu
       character*64  maa
       character*80  nomu
       character*200 desc
Index: med-fichier-3.0.6/tests/f/test10.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test10.f
+++ med-fichier-3.0.6/tests/f/test10.f
@@ -26,7 +26,8 @@ C
 	implicit none
 	include 'med.hf'
 C
-	integer      ret,fid,USER_INTERLACE,USER_MODE
+        integer*8    fid
+	integer      ret,USER_INTERLACE,USER_MODE
 	real*8       a,b,p1,p2,dt
 
 	character*64 maa1,maa2,maa3
Index: med-fichier-3.0.6/src/cfi/medequivalencecf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medequivalencecf.c
+++ med-fichier-3.0.6/src/cfi/medequivalencecf.c
@@ -48,12 +48,12 @@ From Fortran call of following C functio
 
 #ifdef PPRO_NT
 med_int 
-MEQFCRE(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+MEQFCRE(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                   char *eq, unsigned int bidon2, med_int *lon2, char *desc,                        
 		  unsigned int bidon3, med_int *lon3)
 #else
 med_int 
- nmeqfcre(med_int *fid, char *maa, med_int *lon1, char *eq, med_int *lon2, 
+ nmeqfcre(med_idt *fid, char *maa, med_int *lon1, char *eq, med_int *lon2, 
 	  char *desc, med_int *lon3)
 #endif
 {
@@ -81,13 +81,13 @@ med_int
 
 #ifdef PPRO_NT
 med_int
-MEQFCOW(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+MEQFCOW(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
 		  char *eq, unsigned int bidon2, med_int *lon2, 
 		  med_int *numdt, med_int *numit,med_int *typ_ent,med_int *typ_geo,
 		  med_int *n, med_int *corr)
 #else
 med_int 
-nmeqfcow(med_int *fid, char *maa, med_int *lon1,
+nmeqfcow(med_idt *fid, char *maa, med_int *lon1,
 	 char *eq, med_int *lon2, 
 	 med_int *numdt, med_int *numit,
 	 med_int *typ_ent,med_int *typ_geo,
@@ -125,10 +125,10 @@ nmeqfcow(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int
-MEQFNEQ(med_int *fid, char *maa, unsigned int bidon, med_int *lon1)
+MEQFNEQ(med_idt *fid, char *maa, unsigned int bidon, med_int *lon1)
 #else
 med_int
-nmeqfneq(med_int *fid, char *maa,med_int *lon1)
+nmeqfneq(med_idt *fid, char *maa,med_int *lon1)
 #endif
 {
   med_int _ret;
@@ -152,12 +152,12 @@ nmeqfneq(med_int *fid, char *maa,med_int
 
 #ifdef PPRO_NT
 med_int 
-MEQFEQI(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+MEQFEQI(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                   med_int *ind, char *eq, unsigned int bidon2, 
 		  char *des,unsigned int bidon3, med_int *nstep, med_int *ncstcor)
 #else
 med_int 
-nmeqfeqi(med_int *fid, char *maa,med_int *lon1,med_int *ind, char *eq,
+nmeqfeqi(med_idt *fid, char *maa,med_int *lon1,med_int *ind, char *eq,
 	 char *des, med_int *nstep, med_int *ncstcor)
 #endif
 {
@@ -190,13 +190,13 @@ nmeqfeqi(med_int *fid, char *maa,med_int
 
 #ifdef PPRO_NT
 med_int
-MEQFCSZ(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+MEQFCSZ(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                   char *eq, unsigned int bidon2, med_int *lon2, 
 		  med_int *numdt, med_int *numit,
 	          med_int *typ_ent, med_int *typ_geo)
 #else
 med_int
-nmeqfcsz(med_int *fid, char *maa, med_int *lon1,
+nmeqfcsz(med_idt *fid, char *maa, med_int *lon1,
 	 char *eq, med_int *lon2, 
 	 med_int *numdt, med_int *numit,
 	 med_int *typ_ent, med_int *typ_geo)
@@ -237,13 +237,13 @@ nmeqfcsz(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int
-MEQFSZI(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+MEQFSZI(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
                   char *eq, unsigned int bidon2, med_int *lon2, 
 		  med_int *numdt, med_int *numit, med_int *it,
 	          med_int *typ_ent, med_int *typ_geo, med_int *n)
 #else
 med_int
-nmeqfszi(med_int *fid, char *maa, med_int *lon1,
+nmeqfszi(med_idt *fid, char *maa, med_int *lon1,
 	 char *eq, med_int *lon2, 
 	 med_int *numdt, med_int *numit,med_int *it,
 	 med_int *typ_ent, med_int *typ_geo, med_int *n)
@@ -283,13 +283,13 @@ nmeqfszi(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int
-MEQFCOR(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+MEQFCOR(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
 		  char *eq, unsigned int bidon2, med_int *lon2, 
 		  med_int *numdt, med_int *numit,med_int *typ_ent,med_int *typ_geo,
 		  med_int *corr)
 #else
 med_int 
-nmeqfcor(med_int *fid, char *maa, med_int *lon1,
+nmeqfcor(med_idt *fid, char *maa, med_int *lon1,
 	 char *eq, med_int *lon2, 
 	 med_int *numdt, med_int *numit,
 	 med_int *typ_ent,med_int *typ_geo,
@@ -325,12 +325,12 @@ nmeqfcor(med_int *fid, char *maa, med_in
 
 #ifdef PPRO_NT
 med_int 
-MEQFCSI(med_int *fid, char *maa, unsigned int bidon1, med_int *lon1,
+MEQFCSI(med_idt *fid, char *maa, unsigned int bidon1, med_int *lon1,
         med_int *ind, char *eq, unsigned int bidon2, med_int *lon2,
 		med_int *csit, med_int *numdt, med_int *numit, med_int *ncor)
 #else
 med_int 
-nmeqfcsi(med_int *fid, char *maa, med_int *lon1,
+nmeqfcsi(med_idt *fid, char *maa, med_int *lon1,
 	 med_int *ind, char *eq, med_int *lon2,
 	 med_int *csit, med_int *numdt, med_int *numit, 
 	 med_int *ncor)
Index: med-fichier-3.0.6/src/cfi/medfamilycf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medfamilycf.c
+++ med-fichier-3.0.6/src/cfi/medfamilycf.c
@@ -44,13 +44,13 @@ From Fortran call of following C functio
 
 #ifdef PPRO_NT
 med_int
-MFAFCRE(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MFAFCRE(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
 		  char *fname, unsigned int bidon2, med_int *fnamelen,
 		  med_int *fnum, med_int *ng, char* gname, unsigned int bidon3,
 		  med_int *gnamelen)
 #else
 med_int
-nmfafcre(med_int *fid, char *mname, med_int *mnamelen,
+nmfafcre(med_idt *fid, char *mname, med_int *mnamelen,
 	 char *fname, med_int *fnamelen,
 	 med_int *fnum, med_int *ng, char* gname,
 	 med_int *gnamelen)
@@ -88,10 +88,10 @@ nmfafcre(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 int
-MFAFNFA(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen)
+MFAFNFA(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen)
 #else
 med_int
-nmfafnfa(med_int *fid, char *mname, med_int *mnamelen)
+nmfafnfa(med_idt *fid, char *mname, med_int *mnamelen)
 #endif
 {
   med_int _ret;
@@ -114,10 +114,10 @@ nmfafnfa(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 int
-MFAFNFG(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, med_int *it)
+MFAFNFG(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, med_int *it)
 #else
 med_int
-nmfafnfg(med_int *fid, char *mname, med_int *mnamelen, med_int *it)
+nmfafnfg(med_idt *fid, char *mname, med_int *mnamelen, med_int *it)
 #endif
 {
   med_int _ret;
@@ -140,12 +140,12 @@ nmfafnfg(med_int *fid, char *mname, med_
 
 #ifdef  PPRO_NT
 int
-MFAFFAI(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MFAFFAI(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
                   med_int *it, char *fname, unsigned int bidon2,
 	          med_int *fnum, char *gname , int unsigned bidon4)
 #else
 med_int
-nmfaffai(med_int *fid, char *mname,med_int *mnamelen,
+nmfaffai(med_idt *fid, char *mname,med_int *mnamelen,
 	 med_int *it, char *fname,
 	 med_int *fnum, char *gname)
 #endif
@@ -191,10 +191,10 @@ nmfaffai(med_int *fid, char *mname,med_i
 
 #ifdef PPRO_NT
 int
-MFAFONA(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, med_int *it)
+MFAFONA(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, med_int *it)
 #else
 med_int
-nmfafona(med_int *fid, char *mname, med_int *mnamelen, med_int *it)
+nmfafona(med_idt *fid, char *mname, med_int *mnamelen, med_int *it)
 #endif
 {
   med_int _ret;
@@ -217,14 +217,14 @@ nmfafona(med_int *fid, char *mname, med_
 
 #ifdef  PPRO_NT
 int
-MFAFOFI(med_int *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
+MFAFOFI(med_idt *fid, char *mname, unsigned int bidon1, med_int *mnamelen,
                   med_int *it, char *fname, unsigned int bidon2,
 		  med_int *attr_ident, med_int *attr_val,
 	          char *attr_desc, unsigned int bidon3,
 	          med_int *fnum, char *gname , int unsigned bidon4)
 #else
 med_int
-nmfafofi(med_int *fid, char *mname,med_int *mnamelen,
+nmfafofi(med_idt *fid, char *mname,med_int *mnamelen,
 	 med_int *it, char *fname,
 	 med_int *attr_ident, med_int *attr_val,
 	 char *attr_desc,
Index: med-fichier-3.0.6/src/cfi/medfieldcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medfieldcf.c
+++ med-fichier-3.0.6/src/cfi/medfieldcf.c
@@ -87,14 +87,14 @@ From Fortran call of following C functio
 
 #ifdef PPRO_NT
 med_int
-MFDFCRE(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFCRE(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *ftype, med_int *ncomp, char *cname, unsigned int bidon2, med_int *cnamelen,
 		  char *cuname, unsigned int bidon3, med_int *cunamelen,
 		  char *dtunit, unsigned int bidon4, med_int *dtunitlen,
 		  char* mname, unsigned int bidon5, med_int *mnamelen)
 #else
 med_int
-nmfdfcre(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfcre(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *ftype, med_int *ncomp, char *cname, med_int *cnamelen,
 	 char *cuname, med_int *cunamelen, char *dtunit, med_int *dtunitlen,
 	 char* mname, med_int *mnamelen)
@@ -143,13 +143,13 @@ nmfdfcre(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFRVW(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFRVW(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt,
 		  med_int *etype, med_int *gtype, med_int *swm,
 		  med_int *cs, med_int *n, med_float *val)
 #else
 med_int
-nmfdfrvw(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfrvw(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt,
 	 med_int *etype, med_int *gtype, med_int *swm,
 	 med_int *cs, med_int *n, med_float *val)
@@ -188,13 +188,13 @@ nmfdfrvw(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFIVW(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFIVW(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt,
 		  med_int *etype, med_int *gtype, med_int *swm,
 		  med_int *cs, med_int *n, med_int *val)
 #else
 med_int
-nmfdfivw(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfivw(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt,
 	 med_int *etype, med_int *gtype, med_int *swm,
 	 med_int *cs, med_int *n, med_int *val)
@@ -232,7 +232,7 @@ nmfdfivw(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFRPW(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFRPW(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt,
 		  med_int *etype, med_int *gtype, 
 		  med_int *stm, char *pname, unsigned int bidon2, med_int *pnamelen,  
@@ -240,7 +240,7 @@ MFDFRPW(med_int *fid, char *fname, unsig
 		  med_int *swm,med_int *cs, med_int *n, med_float *val)
 #else
 med_int
-nmfdfrpw(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfrpw(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt,
 	 med_int *etype, med_int *gtype,
 	 med_int *stm, char *pname, med_int *pnamelen,
@@ -293,7 +293,7 @@ nmfdfrpw(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFIPW(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFIPW(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt,
 		  med_int *etype, med_int *gtype, 
 		  med_int *stm, char *pname, unsigned int bidon2, med_int *pnamelen,  
@@ -301,7 +301,7 @@ MFDFIPW(med_int *fid, char *fname, unsig
 		  med_int *swm,med_int *cs, med_int *n, med_int *val)
 #else
 med_int
-nmfdfipw(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfipw(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt,
 	 med_int *etype, med_int *gtype, 
 	 med_int *stm, char *pname, med_int *pnamelen,  
@@ -354,14 +354,14 @@ nmfdfipw(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFRAW(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFRAW(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt,
 		  med_int *etype, med_int *gtype,
 		  char *lname, unsigned int bidon2, med_int *lnamelen, 
 		  unsigned char **flt, med_float *val)
 #else
 med_int
-nmfdfraw(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfraw(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt,
 	 med_int *etype, med_int *gtype,
 	 char *lname, med_int *lnamelen, 
@@ -405,14 +405,14 @@ nmfdfraw(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFIAW(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFIAW(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_float *dt,
 		  med_int *etype, med_int *gtype,
 		  char *lname, unsigned int bidon2, med_int *lnamelen, 
 		  unsigned char **flt, med_int *val)
 #else
 med_int
-nmfdfiaw(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfiaw(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_float *dt,
 	 med_int *etype, med_int *gtype,
 	 char *lname, med_int *lnamelen, 
@@ -456,10 +456,10 @@ nmfdfiaw(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int 
-MFDFNFD(med_int *fid)
+MFDFNFD(med_idt *fid)
 #else
 med_int 
-nmfdfnfd(med_int *fid)
+nmfdfnfd(med_idt *fid)
 #endif
 {
   med_int _ret; 
@@ -472,10 +472,10 @@ nmfdfnfd(med_int *fid)
 
 #ifdef PPRO_NT
 med_int 
-MFDFNFC(med_int *fid, med_int *ind)
+MFDFNFC(med_idt *fid, med_int *ind)
 #else
 med_int 
-nmfdfnfc(med_int *fid, med_int *ind)
+nmfdfnfc(med_idt *fid, med_int *ind)
 #endif
 {
   med_int _ret; 
@@ -489,11 +489,11 @@ nmfdfnfc(med_int *fid, med_int *ind)
 
 #ifdef PPRO_NT
 med_int 
-MFDFNCN(med_int *fid,  
+MFDFNCN(med_idt *fid,  
 		  char* fname, unsigned int bidon1, med_int *fnamelen)
 #else
 med_int 
-nmfdfncn(med_int *fid, 
+nmfdfncn(med_idt *fid, 
 	 char* fname, med_int *fnamelen)
 #endif
 {
@@ -516,7 +516,7 @@ nmfdfncn(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MFDFFDI(med_int *fid, med_int *it, char *fname, unsigned int bidon1, 
+MFDFFDI(med_idt *fid, med_int *it, char *fname, unsigned int bidon1, 
 		  char*mname, unsigned int bidon2,
 		  med_int *localmesh, med_int *type,
 		  char *cname, unsigned int bidon3, 
@@ -525,7 +525,7 @@ MFDFFDI(med_int *fid, med_int *it, char
 		  med_int *nc)
 #else
 med_int 
-nmfdffdi(med_int *fid, med_int *it, char *fname,char *mname,
+nmfdffdi(med_idt *fid, med_int *it, char *fname,char *mname,
 	 med_int *localmesh, med_int *type,
 	 char *cname,char *cunit, char *dtunit, med_int *nc)
 #endif
@@ -579,7 +579,7 @@ nmfdffdi(med_int *fid, med_int *it, char
 
 #ifdef PPRO_NT
 med_int 
-MFDFFIN(med_int *fid, char *fname, unsigned int bidon1,med_int *fnamelen,
+MFDFFIN(med_idt *fid, char *fname, unsigned int bidon1,med_int *fnamelen,
 		  char*mname, unsigned int bidon2,
 		  med_int *localmesh, med_int *type,
 		  char *cname, unsigned int bidon3, 
@@ -588,7 +588,7 @@ MFDFFIN(med_int *fid, char *fname, unsig
 		  med_int *nc)
 #else
 med_int 
-nmfdffin(med_int *fid, char *fname, med_int *fnamelen,
+nmfdffin(med_idt *fid, char *fname, med_int *fnamelen,
 	 char*mname, med_int *localmesh, med_int *type,
 	 char *cname, char *cunit, char *dtunit, 
 	 med_int *nc)
@@ -648,11 +648,11 @@ nmfdffin(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFCSI(med_int *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
+MFDFCSI(med_idt *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *it, med_int *numdt, med_int *numit, med_float *dt)
 #else
 med_int
-nmfdfcsi(med_int *fid, char* fname, med_int *fnamelen,
+nmfdfcsi(med_idt *fid, char* fname, med_int *fnamelen,
 	 med_int *it, med_int *numdt, med_int *numit, med_float *dt)
 #endif
 {
@@ -678,11 +678,11 @@ nmfdfcsi(med_int *fid, char* fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFCMI(med_int *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
+MFDFCMI(med_idt *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *it, med_int *numdt, med_int *numit, med_float *dt, med_int *meshnumdt, med_int *meshnumit)
 #else
 med_int
-nmfdfcmi(med_int *fid, char* fname, med_int *fnamelen,
+nmfdfcmi(med_idt *fid, char* fname, med_int *fnamelen,
 	 med_int *it, med_int *numdt, med_int *numit, med_float *dt,
 	 med_int *meshnumdt, med_int *meshnumit)
 #endif
@@ -710,11 +710,11 @@ nmfdfcmi(med_int *fid, char* fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFCMW(med_int *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
+MFDFCMW(med_idt *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_int *meshnumdt, med_int *meshnumit)
 #else
 med_int
-nmfdfcmw(med_int *fid, char* fname, med_int *fnamelen,
+nmfdfcmw(med_idt *fid, char* fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit,
 	 med_int *meshnumdt, med_int *meshnumit)
 #endif
@@ -742,12 +742,12 @@ nmfdfcmw(med_int *fid, char* fname, med_
 
 #ifdef PPRO_NT
 med_int 
-MFDFNPF(med_int *fid, char*fname, unsigned int bidon1, med_int *fnamelen,
+MFDFNPF(med_idt *fid, char*fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_int *etype, med_int *gtype,
 		  char *dpname, unsigned int bidon2, char *dlname, unsigned int bidon3)
 #else
 med_int 
-nmfdfnpf(med_int *fid, char*fname, med_int *fnamelen,
+nmfdfnpf(med_idt *fid, char*fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_int *etype, med_int *gtype,
 	 char *dpname, char *dlname)
 #endif
@@ -783,11 +783,11 @@ nmfdfnpf(med_int *fid, char*fname, med_i
 
 #ifdef PPRO_NT
 med_int
-MFDFNVA(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFNVA(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_int *etype, med_int *gtype)
 #else
 med_int 
-nmfdfnva(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfnva(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_int *etype, med_int *gtype)
 #endif
 {
@@ -815,13 +815,13 @@ nmfdfnva(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int 
-MFDFNVP(med_int *fid, char*fname, unsigned int bidon1, med_int *fnamelen,
+MFDFNVP(med_idt *fid, char*fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_int *etype, med_int *gtype,
 		  med_int *pit, med_int *stm, char *pname, unsigned int bidon2, 
 		  med_int *psize, char *lname, unsigned int bidon3, med_int *nip)
 #else
 med_int 
-nmfdfnvp(med_int *fid, char*fname, med_int *fnamelen,
+nmfdfnvp(med_idt *fid, char*fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_int *etype, med_int *gtype,
 	 med_int *pit, med_int *stm, char *pname, 
 	 med_int *psize, char *lname, med_int *nip)
@@ -863,13 +863,13 @@ nmfdfnvp(med_int *fid, char*fname, med_i
 
 #ifdef PPRO_NT
 med_int 
-MFDFNPN(med_int *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
+MFDFNPN(med_idt *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_int *etype, med_int *gtype,
 		  char *pname, unsigned int bidon2, med_int *pnamelen, med_int *stm, 
 		  med_int *psize, char *lname, unsigned int bidon3, med_int *nip)
 #else
 med_int 
-nmfdfnpn(med_int *fid, char* fname, med_int *fnamelen,
+nmfdfnpn(med_idt *fid, char* fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_int *etype, med_int *gtype,
 	 char *pname, med_int *pnamelen, med_int *stm, 
 	 med_int *psize, char *lname, med_int *nip)
@@ -914,13 +914,13 @@ nmfdfnpn(med_int *fid, char* fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFRVR(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFRVR(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, 
 		  med_int *etype, med_int *gtype, med_int *swm,
 		  med_int *cs, med_float *val)
 #else
 med_int
-nmfdfrvr(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfrvr(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, 
 	 med_int *etype, med_int *gtype, med_int *swm,
 	 med_int *cs, med_float *val)
@@ -957,13 +957,13 @@ nmfdfrvr(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFIVR(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFIVR(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit,
 		  med_int *etype, med_int *gtype, med_int *swm,
 		  med_int *cs, med_int *val)
 #else
 med_int
-nmfdfivr(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+nmfdfivr(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 	 med_int *numdt, med_int *numit,
 	 med_int *etype, med_int *gtype, med_int *swm,
 	 med_int *cs, med_int *val)
@@ -999,14 +999,14 @@ nmfdfivr(med_int *fid, char *fname, unsi
 
 #ifdef PPRO_NT
 med_int
-MFDFRPR(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFRPR(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit,
 		  med_int *etype, med_int *gtype, 
 		  med_int *stm, char *pname, unsigned int bidon2, med_int *pnamelen,  
 		  med_int *swm,med_int *cs, med_float *val)
 #else
 med_int
-nmfdfrpr(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfrpr(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit,
 	 med_int *etype, med_int *gtype, 
 	 med_int *stm, char *pname, med_int *pnamelen,   
@@ -1050,14 +1050,14 @@ nmfdfrpr(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFIPR(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFIPR(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit,
 		  med_int *etype, med_int *gtype, 
 		  med_int *stm, char *pname, unsigned int bidon2, med_int *pnamelen,  
 		  med_int *swm, med_int *cs, med_int *val)
 #else
 med_int
-nmfdfipr(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfipr(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, 
 	 med_int *etype, med_int *gtype, 
 	 med_int *stm, char *pname, med_int *pnamelen,  
@@ -1101,13 +1101,13 @@ nmfdfipr(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFRAR(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFRAR(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit,
 		  med_int *etype, med_int *gtype,
 		  unsigned char **flt, med_float *val)
 #else
 med_int
-nmfdfrar(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfrar(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit,
 	 med_int *etype, med_int *gtype,
 	 unsigned char **flt, med_float *val)
@@ -1141,13 +1141,13 @@ nmfdfrar(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFIAR(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFIAR(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit,
 		  med_int *etype, med_int *gtype,
 		  unsigned char **flt, med_int *val)
 #else
 med_int
-nmfdfiar(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfiar(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit,
 	 med_int *etype, med_int *gtype,
 	 unsigned char **flt, med_int *val)
@@ -1182,11 +1182,11 @@ nmfdfiar(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFINW(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFINW(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  char *iname, unsigned int bidon2, med_int *inamelen)
 #else
 med_int
-nmfdfinw(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfinw(med_idt *fid, char *fname, med_int *fnamelen,
 	 char *iname, med_int *inamelen)
 #endif
 {
@@ -1216,11 +1216,11 @@ nmfdfinw(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int 
-MFDFNIN(med_int *fid, 
+MFDFNIN(med_idt *fid, 
 		  char *fname, unsigned int bidon1, med_int *fnamelen)
 #else
 med_int 
-nmfdfnin(med_int *fid,char *fname, med_int *fnamelen)
+nmfdfnin(med_idt *fid,char *fname, med_int *fnamelen)
 #endif
 {
   med_int _ret; 
@@ -1241,11 +1241,11 @@ nmfdfnin(med_int *fid,char *fname, med_i
 
 #ifdef PPRO_NT
 med_int
-MFDFINI(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFINI(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *it, char *iname, unsigned int bidon2)
 #else
 med_int
-nmfdfini(med_int *fid, char *fname, med_int *fnamelen, med_int *it, char *iname)
+nmfdfini(med_idt *fid, char *fname, med_int *fnamelen, med_int *it, char *iname)
 #endif
 {
   med_err _ret=0;
@@ -1271,13 +1271,13 @@ nmfdfini(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFOCI(med_int *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
+MFDFOCI(med_idt *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *it, med_int *numdt, med_int *numit, med_float *dt,
 		  med_int *nmesh, char *mname, unsigned int bidon2, med_int *lmesh,
 		  med_int *mnumdt, med_int *mnumit)
 #else
 med_int
-nmfdfoci(med_int *fid, char* fname,med_int *fnamelen,
+nmfdfoci(med_idt *fid, char* fname,med_int *fnamelen,
 	 med_int *it, med_int *numdt, med_int *numit, med_float *dt,
 	 med_int *nmesh, char *mname, med_int *lmesh,
 	 med_int *mnumdt, med_int *mnumit)
@@ -1315,13 +1315,13 @@ nmfdfoci(med_int *fid, char* fname,med_i
 
 #ifdef PPRO_NT
 med_int 
-MFDFONP(med_int *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
+MFDFONP(med_idt *fid, char* fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_int *etype, med_int *gtype,
 		  med_int *it, char *mname, unsigned int bidon2,
 		  char *dpname, unsigned int bidon3, char *dlname, unsigned int bidon4)
 #else
 med_int 
-nmfdfonp(med_int *fid, char*fname, med_int *fnamelen,
+nmfdfonp(med_idt *fid, char*fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_int *etype, med_int *gtype,
 	 med_int *it, char *mname, 
 	 char *dpname, char *dlname)
@@ -1363,14 +1363,14 @@ nmfdfonp(med_int *fid, char*fname, med_i
 
 #ifdef PPRO_NT
 med_int 
-MFDFONV(med_int *fid, char*fname, unsigned int bidon1, med_int *fnamelen,
+MFDFONV(med_idt *fid, char*fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit, med_int *etype, med_int *gtype,
 		  char* mname,  unsigned int bidon2, med_int *mnamelen,
 		  med_int *pit, med_int *stm, char *pname, unsigned int bidon3, 
 		  med_int *psize, char *lname, unsigned int bidon4, med_int *nip)
 #else
 med_int 
-nmfdfonv(med_int *fid, char*fname, med_int *fnamelen,
+nmfdfonv(med_idt *fid, char*fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, med_int *etype, med_int *gtype,
 	 char* mname, med_int *mnamelen,
 	 med_int *pit, med_int *stm, char *pname, 
@@ -1420,7 +1420,7 @@ nmfdfonv(med_int *fid, char*fname, med_i
 
 #ifdef PPRO_NT
 med_int
-MFDFORR(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFORR(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit,
 		  med_int *etype, med_int *gtype,
 		  char *mname, unsigned int bidon2, med_int *mnamelen,
@@ -1428,7 +1428,7 @@ MFDFORR(med_int *fid, char *fname, unsig
 		  med_int *swm,med_int *cs, med_float *val)
 #else
 med_int
-nmfdforr(med_int *fid, char *fname, med_int *fnamelen,
+nmfdforr(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit,
 	 med_int *etype, med_int *gtype, 
 	 char *mname, med_int *mnamelen,
@@ -1479,7 +1479,7 @@ nmfdforr(med_int *fid, char *fname, med_
 
 #ifdef PPRO_NT
 med_int
-MFDFOIR(med_int *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
+MFDFOIR(med_idt *fid, char *fname, unsigned int bidon1, med_int *fnamelen,
 		  med_int *numdt, med_int *numit,
 		  med_int *etype, med_int *gtype, 
 		  char *mname, unsigned int bidon2, med_int *mnamelen,
@@ -1487,7 +1487,7 @@ MFDFOIR(med_int *fid, char *fname, unsig
 		  med_int *swm, med_int *cs, med_int *val)
 #else
 med_int
-nmfdfoir(med_int *fid, char *fname, med_int *fnamelen,
+nmfdfoir(med_idt *fid, char *fname, med_int *fnamelen,
 	 med_int *numdt, med_int *numit, 
 	 med_int *etype, med_int *gtype,
 	 char *mname, med_int *mnamelen, 
Index: med-fichier-3.0.6/src/cfi/medfiltercf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medfiltercf.c
+++ med-fichier-3.0.6/src/cfi/medfiltercf.c
@@ -87,12 +87,12 @@ nmfrfdea(med_int* nflt,unsigned char** f
 
 #ifdef PPRO_NT
 med_int
-MFRFCRE(med_int *fid, med_int* nent, med_int *nvent, med_int *ncent,
+MFRFCRE(med_idt *fid, med_int* nent, med_int *nvent, med_int *ncent,
 		  med_int *cs, med_int *swm, med_int *stm, char *pname, unsigned int bidon, med_int *pnamelen, 
 		  med_int *fltas, med_int *flta, unsigned char **flt)
 #else
 med_int
-nmfrfcre(med_int *fid, med_int* nent, med_int *nvent, med_int *ncent,
+nmfrfcre(med_idt *fid, med_int* nent, med_int *nvent, med_int *ncent,
 	 med_int *cs, med_int *swm,med_int *stm,char *pname, med_int *pnamelen, 
 	 med_int *fltas,med_int *flta, unsigned char **flt)
 #endif
@@ -135,13 +135,13 @@ nmfrfcre(med_int *fid, med_int* nent, me
 
 #ifdef PPRO_NT
 med_int
-MFRFBLC(med_int *fid, med_int* nent, med_int *nvent, med_int *ncent,
+MFRFBLC(med_idt *fid, med_int* nent, med_int *nvent, med_int *ncent,
 		  med_int *cs, med_int *swm, med_int *stm, char *pname, unsigned int bidon, med_int *pnamelen,  
 		  med_int *start, med_int *stride, med_int *count, med_int *bsize, med_int *lbsize,
 		  unsigned char **flt)
 #else
 med_int
-nmfrfblc(med_int *fid, med_int* nent, med_int *nvent, med_int *ncent,
+nmfrfblc(med_idt *fid, med_int* nent, med_int *nvent, med_int *ncent,
 	 med_int *cs, med_int *swm,med_int *stm,char *pname, med_int *pnamelen, 
 	 med_int *start, med_int *stride, med_int *count, med_int *bsize, med_int *lbsize,
 	 unsigned char **flt)
Index: med-fichier-3.0.6/src/cfi/medinterpcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medinterpcf.c
+++ med-fichier-3.0.6/src/cfi/medinterpcf.c
@@ -44,13 +44,13 @@ From Fortran call of following C functio
 
 #ifdef PPRO_NT
 med_int 
-MIPFCRE(med_int *fid,
+MIPFCRE(med_idt *fid,
                   char *name,  unsigned int bidon1, med_int *lon1,
 		  med_int *gtype, med_int *cnode, med_int *nvar,
 		  med_int *mdeg, med_int *nmaxc)
 #else
 med_int 
-nmipfcre(med_int *fid,
+nmipfcre(med_idt *fid,
 	 char *name, med_int *lon1,
 	 med_int *gtype, med_int *cnode, med_int *nvar,
 	 med_int *mdeg, med_int *nmaxc)
@@ -82,12 +82,12 @@ nmipfcre(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MIPFBFW(med_int *fid,
+MIPFBFW(med_idt *fid,
                   char *name,  unsigned int bidon1, med_int *lon1,
 		  med_int *it, med_int *nc, med_int *pw, med_float *co)
 #else
 med_int 
-nmipfbfw(med_int *fid,
+nmipfbfw(med_idt *fid,
 	 char *name, med_int *lon1,
 	 med_int *it, med_int *nc, med_int *pw, med_float *co)
 #endif
@@ -115,12 +115,12 @@ nmipfbfw(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MIPFBFR(med_int *fid,
+MIPFBFR(med_idt *fid,
                   char *name,  unsigned int bidon1, med_int *lon1,
 		  med_int *it, med_int *nc, med_int *pw, med_float *co)
 #else
 med_int 
-nmipfbfr(med_int *fid,
+nmipfbfr(med_idt *fid,
 	 char *name, med_int *lon1,
 	 med_int *it, med_int *nc, med_int *pw, med_float *co)
 #endif
@@ -149,10 +149,10 @@ nmipfbfr(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MIPFNIP(med_int *fid)
+MIPFNIP(med_idt *fid)
 #else
 med_int 
-nmipfnip(med_int *fid)
+nmipfnip(med_idt *fid)
 #endif
 {
   med_int _ret; 
@@ -166,13 +166,13 @@ nmipfnip(med_int *fid)
 
 #ifdef PPRO_NT
 med_int 
-MIPFIIN(med_int *fid,
+MIPFIIN(med_idt *fid,
                   char *name,  unsigned int bidon1, med_int *lon1,
 		  med_int *gtype, med_int *cnode, med_int *nbf, med_int *nvar,
 		  med_int *mdeg, med_int *nmaxc)
 #else
 med_int 
-nmipfiin(med_int *fid,
+nmipfiin(med_idt *fid,
 	 char *name, med_int *lon1,
 	 med_int *gtype, med_int *cnode,  med_int *nbf, med_int *nvar,
 	 med_int *mdeg, med_int *nmaxc)
@@ -209,13 +209,13 @@ nmipfiin(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MIPFIPI(med_int *fid, med_int *it,
+MIPFIPI(med_idt *fid, med_int *it,
                   char *name,  unsigned int bidon1,
 		  med_int *gtype, med_int *cnode, med_int *nbf, med_int *nvar,
 		  med_int *mdeg, med_int *nmaxc)
 #else
 med_int 
-nmipfipi(med_int *fid, med_int *it, char *name,
+nmipfipi(med_idt *fid, med_int *it, char *name,
 	 med_int *gtype, med_int *cnode,  med_int *nbf, med_int *nvar,
 	 med_int *mdeg, med_int *nmaxc)
 #endif
@@ -246,12 +246,12 @@ nmipfipi(med_int *fid, med_int *it, char
 
 #ifdef PPRO_NT
 med_int 
-MIPFCSZ(med_int *fid, 
+MIPFCSZ(med_idt *fid, 
                   char *name,  unsigned int bidon1, med_int *lon1,
 		  med_int *it)
 #else
 med_int 
-nmipfcsz(med_int *fid, 
+nmipfcsz(med_idt *fid, 
 	 char *name, med_int *lon1,
 	 med_int *it)
 #endif
Index: med-fichier-3.0.6/src/cfi/medjointcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medjointcf.c
+++ med-fichier-3.0.6/src/cfi/medjointcf.c
@@ -47,7 +47,7 @@ From Fortran call of following C functio
 
 #ifdef PPRO_NT
 med_int 
-MSDFJCR(med_int *fid,
+MSDFJCR(med_idt *fid,
                    char *lmname,  unsigned int bidon1, med_int *lon1,
                    char *jname,   unsigned int bidon2, med_int *lon2, 
                    char *desc, unsigned int bidon3, med_int *lon3,
@@ -56,7 +56,7 @@ MSDFJCR(med_int *fid,
 		   )
 #else
 med_int 
-nmsdfjcr(med_int *fid, 
+nmsdfjcr(med_idt *fid, 
 	 char *lmname,  med_int *lon1,
 	 char *jname, med_int *lon2, 
 	 char *desc, med_int *lon3,
@@ -93,7 +93,7 @@ nmsdfjcr(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MSDFCRW(med_int *fid, 
+MSDFCRW(med_idt *fid, 
 		  char *maa_local,unsigned int bidon1, med_int *lon1,
 		  char *jn,unsigned int bidon2, med_int *lon2, 
 		  med_int *numdt, med_int *numit,
@@ -102,7 +102,7 @@ MSDFCRW(med_int *fid,
 		  med_int *n, med_int *corrtab)
 #else
 med_int 
-nmsdfcrw (med_int *fid, 
+nmsdfcrw (med_idt *fid, 
 	  char *maa_local,med_int *lon1,
 	  char *jn,med_int *lon2, 
 	  med_int *numdt, med_int *numit,
@@ -146,11 +146,11 @@ nmsdfcrw (med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MSDFNJN(med_int *fid,
+MSDFNJN(med_idt *fid,
                   char *maa,  unsigned int bidon1, med_int *lon1)
 #else
 med_int  
-nmsdfnjn(med_int *fid, 
+nmsdfnjn(med_idt *fid, 
 	 char *maa, med_int *lon1)
 #endif
 {
@@ -177,7 +177,7 @@ nmsdfnjn(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MSDFJNI(med_int *fid,
+MSDFJNI(med_idt *fid,
                   char *maa, unsigned int bidon1, med_int *lon1,
 		  med_int *ind, char *jname, unsigned int bidon2,
 		  char *desc,unsigned int bidon3,
@@ -185,7 +185,7 @@ MSDFJNI(med_int *fid,
 		  med_int *nstep, med_int *ncor)
 #else
 med_int
-nmsdfjni(med_int *fid,
+nmsdfjni(med_idt *fid,
 	 char *maa, med_int *lon1,
 	 med_int *ind, char *jname,
 	 char *desc, med_int *dom,char *rname,
@@ -228,7 +228,7 @@ nmsdfjni(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MSDFSZI(med_int *fid,
+MSDFSZI(med_idt *fid,
 		  char *maa, unsigned int bidon1, med_int *lon1,
 		  char *jname, unsigned int bidon2, med_int *lon2,
 		  med_int *numdt, med_int *numit, med_int *it,
@@ -237,7 +237,7 @@ MSDFSZI(med_int *fid,
 		  med_int *ncor)
 #else
 med_int 
-nmsdfszi(med_int *fid,
+nmsdfszi(med_idt *fid,
 	 char *maa, med_int *lon1,
 	 char *jname, med_int *lon2,
 	 med_int *numdt, med_int *numit, med_int *it,
@@ -287,7 +287,7 @@ nmsdfszi(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MSDFCSZ(med_int *fid,
+MSDFCSZ(med_idt *fid,
 		  char *maa, unsigned int bidon1, med_int *lon1,
 		  char *jname, unsigned int bidon2, med_int *lon2,
 		  med_int *numdt, med_int *numit, 
@@ -296,7 +296,7 @@ MSDFCSZ(med_int *fid,
 		  med_int *ncor)
 #else
 med_int 
-nmsdfcsz(med_int *fid,
+nmsdfcsz(med_idt *fid,
 	 char *maa, med_int *lon1,
 	 char *jname, med_int *lon2,
 	 med_int *numdt, med_int *numit,
@@ -341,7 +341,7 @@ nmsdfcsz(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MSDFCRR(med_int *fid, 
+MSDFCRR(med_idt *fid, 
 		  char *maa_local,unsigned int bidon1, med_int *lon1,
 		  char *jn,unsigned int bidon2, med_int *lon2, 
 		  med_int *numdt, med_int *numit,
@@ -350,7 +350,7 @@ MSDFCRR(med_int *fid,
 		  med_int *corrtab)
 #else
 med_int 
-nmsdfcrr (med_int *fid, 
+nmsdfcrr (med_idt *fid, 
 	  char *maa_local,med_int *lon1,
 	  char *jn,med_int *lon2, 
 	  med_int *numdt, med_int *numit,
@@ -393,14 +393,14 @@ nmsdfcrr (med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MSDFCSI(med_int *fid,
+MSDFCSI(med_idt *fid,
                   char *maa, unsigned int bidon1, med_int *lon1,
 		  char *jname, unsigned int bidon2, med_int *lon2,
 		  med_int *ind, med_int *numdt, med_int *numit,
 		  med_int *ncor)
 #else
 med_int 
-nmsdfcsi(med_int *fid,
+nmsdfcsi(med_idt *fid,
 	 char *maa, med_int *lon1,
 	 char *jname, med_int *lon2,
 	 med_int *ind, med_int *numdt, med_int *numit,
Index: med-fichier-3.0.6/src/cfi/medparametercf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medparametercf.c
+++ med-fichier-3.0.6/src/cfi/medparametercf.c
@@ -45,12 +45,12 @@ From Fortran call of following C functio
 
 #ifdef PPRO_NT
 med_int 
-MPRFCRE(med_int *fid, char *pname, unsigned int bidon1, med_int *lon1,
+MPRFCRE(med_idt *fid, char *pname, unsigned int bidon1, med_int *lon1,
                   med_int *type, char *desc, unsigned int bidon2, med_int *lon2,
 		  char *dtunit, unsigned int bidon3, med_int *lon3)
 #else
 med_int 
-nmprfcre(med_int *fid, char *pname, med_int *lon1,
+nmprfcre(med_idt *fid, char *pname, med_int *lon1,
 	 med_int *type, char *desc, med_int *lon2,
 	 char *dtunit, med_int *lon3)
 #endif
@@ -209,10 +209,10 @@ nmprfivr(med_idt *fid, char *name, med_i
 
 #ifdef PPRO_NT
 med_int 
-MPRFNPR(med_int *fid)
+MPRFNPR(med_idt *fid)
 #else
 med_int 
-nmprfnpr(med_int *fid)
+nmprfnpr(med_idt *fid)
 #endif
 {
   med_int _ret; 
@@ -226,12 +226,12 @@ nmprfnpr(med_int *fid)
 
 #ifdef PPRO_NT
 med_int 
-MPRFPRI(med_int *fid, med_int *it, char *name, unsigned int bidon1, 
+MPRFPRI(med_idt *fid, med_int *it, char *name, unsigned int bidon1, 
 		  med_int *type, char *desc, unsigned int bidon2,
 		  char *dtunit, unsigned int bidon3, med_int *nstep) 
 #else
 med_int 
-nmprfpri(med_int *fid, med_int *it, char *name,  
+nmprfpri(med_idt *fid, med_int *it, char *name,  
 	 med_int *type, char *desc,
 	 char *dtunit, med_int *nstep)
 #endif
@@ -263,13 +263,13 @@ nmprfpri(med_int *fid, med_int *it, char
 
 #ifdef PPRO_NT
 med_int 
-MPRFPIN(med_int *fid, char *name, unsigned int bidon1, med_int *namelen,
+MPRFPIN(med_idt *fid, char *name, unsigned int bidon1, med_int *namelen,
 		  med_int *type, char *desc, unsigned int bidon2,
 		  char *dtunit, unsigned int bidon3, 
 		  med_int *nstep) 
 #else
 med_int 
-nmprfpin(med_int *fid, char *name, med_int *namelen,
+nmprfpin(med_idt *fid, char *name, med_int *namelen,
 	 med_int *type, char *desc,
 	 char *dtunit, med_int *nstep)
 #endif
@@ -306,11 +306,11 @@ nmprfpin(med_int *fid, char *name, med_i
 
 #ifdef PPRO_NT
 med_int
-MPRFCSI(med_int *fid, char* name, unsigned int bidon1, med_int *namelen,
+MPRFCSI(med_idt *fid, char* name, unsigned int bidon1, med_int *namelen,
 		  med_int *it, med_int *numdt, med_int *numit, med_float *dt)
 #else
 med_int
-nmprfcsi(med_int *fid, char *name, med_int *namelen,
+nmprfcsi(med_idt *fid, char *name, med_int *namelen,
 	 med_int *it, med_int *numdt, med_int *numit, med_float *dt)
 #endif
 {
Index: med-fichier-3.0.6/src/cfi/medstructelementcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medstructelementcf.c
+++ med-fichier-3.0.6/src/cfi/medstructelementcf.c
@@ -67,13 +67,13 @@ From Fortran call of following C functio
 
 #ifdef PPRO_NT
 med_int 
-MSEFCRE(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFCRE(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  med_int * mdim,
 		  char *smname, unsigned int bidon2, med_int *smnamelen,
 		  med_int *setype, med_int *sgtype)
 #else
 med_int 
-nmsefcre(med_int *fid, 
+nmsefcre(med_idt *fid, 
          char *mname, med_int *mnamelen, 
          med_int * mdim,
 	 char *smname, med_int *smnamelen,
@@ -111,10 +111,10 @@ nmsefcre(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MSEFNSE(med_int *fid)
+MSEFNSE(med_idt *fid)
 #else
 med_int 
-nmsefnse (med_int *fid)
+nmsefnse (med_idt *fid)
 #endif
 {
   med_int _ret; 
@@ -127,7 +127,7 @@ nmsefnse (med_int *fid)
 
 #ifdef PPRO_NT
 med_int 
-MSEFSEI(med_int *fid, med_int *it, 
+MSEFSEI(med_idt *fid, med_int *it, 
 		  char *mname, unsigned int bidon1,
 		  med_int *mgtype, med_int * mdim,
 		  char *smname, unsigned int bidon2,
@@ -136,7 +136,7 @@ MSEFSEI(med_int *fid, med_int *it,
 		  med_int *nvatt)
 #else
 med_int 
-nmsefsei(med_int *fid, med_int *it, 
+nmsefsei(med_idt *fid, med_int *it, 
 	 char *mname, 
 	 med_int *mgtype, med_int * mdim,
 	 char *smname, 
@@ -181,7 +181,7 @@ nmsefsei(med_int *fid, med_int *it,
 
 #ifdef PPRO_NT
 med_int 
-MSEFSIN(med_int *fid, 
+MSEFSIN(med_idt *fid, 
 		  char *mname, unsigned int bidon1, med_int *mnamelen,
 		  med_int *mgtype, med_int * mdim,
 		  char *smname, unsigned int bidon2,
@@ -190,7 +190,7 @@ MSEFSIN(med_int *fid,
 		  med_int *nvatt)
 #else
 med_int 
-nmsefsin(med_int *fid, 
+nmsefsin(med_idt *fid, 
 	 char *mname, med_int *mnamelen,
 	 med_int *mgtype, med_int * mdim,
 	 char *smname, 
@@ -239,10 +239,10 @@ nmsefsin(med_int *fid,
 
 #ifdef PPRO_NT
 med_int 
-MSEFSEN(med_int *fid, med_int *mgtype, char *mname, unsigned int bidon)
+MSEFSEN(med_idt *fid, med_int *mgtype, char *mname, unsigned int bidon)
 #else
 med_int 
-nmsefsen(med_int *fid, med_int *mgtype, char *mname)
+nmsefsen(med_idt *fid, med_int *mgtype, char *mname)
 #endif
 {
   med_int _ret;
@@ -263,10 +263,10 @@ nmsefsen(med_int *fid, med_int *mgtype,
 
 #ifdef PPRO_NT
 med_int 
-MSEFSGT(med_int *fid, char *mname, unsigned int bidon,med_int *mnamelen)
+MSEFSGT(med_idt *fid, char *mname, unsigned int bidon,med_int *mnamelen)
 #else
 med_int 
-nmsefsgt(med_int *fid, char *mname, med_int *mnamelen)
+nmsefsgt(med_idt *fid, char *mname, med_int *mnamelen)
 #endif
 {
   med_int _ret; 
@@ -288,12 +288,12 @@ nmsefsgt(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFVAC(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFVAC(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *atype, med_int *anc)
 #else
 med_int 
-nmsefvac(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefvac(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_int *atype, med_int *anc)
 #endif
@@ -325,12 +325,12 @@ nmsefvac(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFVNI(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFVNI(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *atype, med_int *anc)
 #else
 med_int 
-nmsefvni(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefvni(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_int *atype, med_int *anc)
 #endif
@@ -364,12 +364,12 @@ nmsefvni(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFVAI(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFVAI(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  med_int *it, char *aname, unsigned int bidon2,
 		  med_int *atype, med_int *anc)
 #else
 med_int 
-nmsefvai(med_int *fid, char *mname, med_int *mnamelen, med_int *it,
+nmsefvai(med_idt *fid, char *mname, med_int *mnamelen, med_int *it,
 	 char *aname, med_int *atype, med_int *anc)
 #endif
 {
@@ -417,13 +417,13 @@ nmsefasz(med_int *atype)
 
 #ifdef PPRO_NT
 med_int 
-MSEFRAW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFRAW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *atype, med_int *anc,
 		  med_int *setype, med_float *val)
 #else
 med_int 
-nmsefraw(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefraw(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_int *atype, med_int *anc,
 	 med_int *setype, med_float *val)
@@ -459,13 +459,13 @@ nmsefraw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFIAW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFIAW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *atype, med_int *anc,
 		  med_int *setype, med_int *val)
 #else
 med_int 
-nmsefiaw(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefiaw(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_int *atype, med_int *anc,
 	 med_int *setype, med_int *val)
@@ -502,13 +502,13 @@ nmsefiaw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFSAW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFSAW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *atype, med_int *anc, med_int *setype, 
 		  char *val, unsigned int bidon3, med_int *vallen)
 #else
 med_int 
-nmsefsaw(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefsaw(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_int *atype, med_int *anc, med_int *setype,
 	 char *val, med_int *vallen)
@@ -594,7 +594,7 @@ nmsefsaw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFRPW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFRPW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *atype, med_int *anc,
 		  med_int *setype, 
@@ -602,7 +602,7 @@ MSEFRPW(med_int *fid, char *mname, unsig
 		  med_float *val)
 #else
 med_int 
-nmsefrpw(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefrpw(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_int *atype, med_int *anc,
 	 med_int *setype, 
@@ -648,7 +648,7 @@ nmsefrpw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFIPW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFIPW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *atype, med_int *anc,
 		  med_int *setype, 
@@ -656,7 +656,7 @@ MSEFIPW(med_int *fid, char *mname, unsig
 		  med_int *val)
 #else
 med_int 
-nmsefipw(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefipw(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_int *atype, med_int *anc,
 	 med_int *setype, 
@@ -701,14 +701,14 @@ nmsefipw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFSPW(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFSPW(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *atype, med_int *anc, med_int *setype, 
 		  char *pname, unsigned int bidon3, med_int *pnamelen,
 		  char *val, unsigned int bidon4, med_int *vallen)
 #else
 med_int 
-nmsefspw(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefspw(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_int *atype, med_int *anc, med_int *setype,
 	 char *pname, med_int *pnamelen,
@@ -813,13 +813,13 @@ nmsefspw(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFCNI(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFCNI(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *atype, med_int *anc,
 		  med_int *setype, char *pname, unsigned int bidon3, med_int *psize)
 #else
 med_int 
-nmsefcni(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefcni(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_int *atype, med_int *anc,
 	 med_int *setype, char *pname, med_int *psize)
@@ -861,14 +861,14 @@ nmsefcni(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFCAI(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFCAI(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  med_int *it,
 		  char *aname, unsigned int bidon2,
 		  med_int *atype, med_int *anc,
 		  med_int *setype, char *pname, unsigned int bidon3 ,med_int *psize)
 #else
 med_int 
-nmsefcai(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefcai(med_idt *fid, char *mname, med_int *mnamelen, 
 	 med_int *it,
 	 char *aname, 
 	 med_int *atype, med_int *anc,
@@ -910,12 +910,12 @@ nmsefcai(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFRAR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFRAR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_float *val)
 #else
 med_int 
-nmsefrar(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefrar(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_float *val)
 #endif
@@ -945,12 +945,12 @@ nmsefrar(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFIAR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFIAR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  med_int *val)
 #else
 med_int 
-nmsefiar(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefiar(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 med_int *val)
 #endif
@@ -981,12 +981,12 @@ nmsefiar(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSEFSAR(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSEFSAR(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  char *aname, unsigned int bidon2, med_int *anamelen,
 		  char *val, unsigned int bidon3)
 #else
 med_int 
-nmsefsar(med_int *fid, char *mname, med_int *mnamelen, 
+nmsefsar(med_idt *fid, char *mname, med_int *mnamelen, 
 	 char *aname, med_int *anamelen,
 	 char *val)
 #endif
Index: med-fichier-3.0.6/src/cfi/medsupportcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medsupportcf.c
+++ med-fichier-3.0.6/src/cfi/medsupportcf.c
@@ -41,14 +41,14 @@ From Fortran call of following C functio
 
 #ifdef PPRO_NT
 med_int 
-MSMFCRE(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
+MSMFCRE(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen, 
 		  med_int * sdim, med_int * mdim,
 		  char *desc, unsigned int bidon2, med_int *desclen,
 		  med_int *atype, char *aname, unsigned int bidon3, med_int *anamelen, 
 		  char *aunit, unsigned int bidon4, med_int* aunitlen)
 #else
 med_int 
-nmsmfcre(med_int *fid, char *mname, med_int *mnamelen, 
+nmsmfcre(med_idt *fid, char *mname, med_int *mnamelen, 
 	 med_int * sdim, med_int * mdim,
 	 char *desc, med_int *desclen,
 	 med_int *atype, char *aname, med_int *anamelen, 
@@ -92,10 +92,10 @@ nmsmfcre(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int
-MSMFNSM(med_int *fid)
+MSMFNSM(med_idt *fid)
 #else
 med_int
-nmsmfnsm(med_int *fid)
+nmsmfnsm(med_idt *fid)
 #endif
 {
   med_int _ret;
@@ -109,7 +109,7 @@ nmsmfnsm(med_int *fid)
 
 #ifdef PPRO_NT
 med_int
-MSMFSNI(med_int *fid, char*mname, unsigned int bidon, med_int *mnamelen,
+MSMFSNI(med_idt *fid, char*mname, unsigned int bidon, med_int *mnamelen,
                   med_int * sdim, med_int * mdim, 
 		  char *desc, unsigned int bidon2,
 		  med_int *atype,
@@ -117,7 +117,7 @@ MSMFSNI(med_int *fid, char*mname, unsign
 		  char *aunit, unsigned int bidon5)
 #else
 med_int
-nmsmfsni(med_int *fid, char* mname, med_int *mnamelen,
+nmsmfsni(med_idt *fid, char* mname, med_int *mnamelen,
 	 med_int * sdim, med_int * mdim, 
 	 char *desc,med_int *atype, char *aname, char *aunit)
 #endif
@@ -169,7 +169,7 @@ nmsmfsni(med_int *fid, char* mname, med_
 
 #ifdef PPRO_NT
 med_int
-MSMFSMI(med_int *fid, med_int *it, char*mname, unsigned int bidon, 
+MSMFSMI(med_idt *fid, med_int *it, char*mname, unsigned int bidon, 
                   med_int * sdim, med_int * mdim, 
 		  char *desc, unsigned int bidon2,
 		  med_int *atype,
@@ -177,7 +177,7 @@ MSMFSMI(med_int *fid, med_int *it, char*
 		  char *aunit, unsigned int bidon5)
 #else
 med_int
-nmsmfsmi(med_int *fid, med_int *it, char* mname, 
+nmsmfsmi(med_idt *fid, med_int *it, char* mname, 
 	 med_int * sdim, med_int * mdim, 
 	 char *desc,med_int *atype, char *aname, char *aunit)
 #endif
@@ -227,10 +227,10 @@ nmsmfsmi(med_int *fid, med_int *it, char
 
 #ifdef PPRO_NT
 med_int
-MSMFNAN(med_int *fid, char *mname, unsigned int bidon, med_int *mnamelen)
+MSMFNAN(med_idt *fid, char *mname, unsigned int bidon, med_int *mnamelen)
 #else
 med_int
-nmsmfnan(med_int *fid, char *mname, med_int *mnamelen)
+nmsmfnan(med_idt *fid, char *mname, med_int *mnamelen)
 #endif
 {
   med_int _ret;
@@ -251,10 +251,10 @@ nmsmfnan(med_int *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MSMFNAX(med_int *fid, med_int *it)
+MSMFNAX(med_idt *fid, med_int *it)
 #else
 med_int 
-nmsmfnax(med_int *fid, med_int *it)
+nmsmfnax(med_idt *fid, med_int *it)
 #endif
 {
   med_int _ret; 
Index: med-fichier-3.0.6/tests/f/test4.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test4.f
+++ med-fichier-3.0.6/tests/f/test4.f
@@ -27,7 +27,8 @@ C
 	include 'med.hf'
 C       
 C       
-	integer cret, fid
+        integer*8 fid
+	integer cret
 	
 C       ** la dimension du maillage                         **
 	integer      mdim, sdim
Index: med-fichier-3.0.6/tests/f/2.3.1/test10.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.1/test10.f
+++ med-fichier-3.0.6/tests/f/2.3.1/test10.f
@@ -26,7 +26,8 @@ C
 	implicit none
 	include 'med.hf'
 C
-	integer      ret,fid,USER_INTERLACE,USER_MODE
+        integer*8    fid
+	integer      ret,USER_INTERLACE,USER_MODE
 	real*8       a,b,p1,p2,dt
 
 	character*32 maa1,maa2,maa3
Index: med-fichier-3.0.6/tests/f/2.3.2/test10.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.2/test10.f
+++ med-fichier-3.0.6/tests/f/2.3.2/test10.f
@@ -26,7 +26,8 @@ C
 	implicit none
 	include 'med.hf'
 C
-	integer      ret,fid,USER_INTERLACE,USER_MODE
+        integer*8    fid
+	integer      ret,USER_INTERLACE,USER_MODE
 	real*8       a,b,p1,p2,dt
 
 	character*32 maa1,maa2,maa3
Index: med-fichier-3.0.6/tests/f/2.3.6/test10.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test10.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test10.f
@@ -26,7 +26,8 @@ C
 	implicit none
 	include 'med.hf'
 C
-	integer      ret,fid,USER_INTERLACE,USER_MODE
+        integer*8    fid
+	integer      ret,USER_INTERLACE,USER_MODE
 	real*8       a,b,p1,p2,dt
 
 	character*32 maa1,maa2,maa3
Index: med-fichier-3.0.6/tests/f/2.3.6/test12.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test12.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test12.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C
 C
-        integer cret,fid
+        integer*8 fid
+        integer cret
         character*32 maa , equ 
         character*200 des
         integer mdim ,ncor
Index: med-fichier-3.0.6/tests/f/2.3.6/test16.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test16.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test16.f
@@ -30,7 +30,8 @@ C
 	include 'med.hf'
 C	
 C
-	integer      cret, fid, mdim, nse2, ntr3
+        integer*8    fid
+	integer      cret, mdim, nse2, ntr3
 	character*32 maa
 	parameter    (mdim = 2,nse2 = 5,maa = "maa1", ntr3 = 2)
 	integer      se2   (2*nse2)
Index: med-fichier-3.0.6/tests/f/2.3.6/test18.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test18.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test18.f
@@ -28,7 +28,7 @@ C
       include 'med.hf'
 C
 C
-      integer      fid
+      integer*8    fid
       integer      cret
       integer      maj,min,rel
       
Index: med-fichier-3.0.6/tests/f/2.3.6/test23.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test23.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test23.f
@@ -26,7 +26,8 @@ C
 	implicit none
 	include 'med.hf'
 C	
-	integer cret, fid,mdim
+        integer*8 fid
+	integer cret, mdim
 	parameter  (mdim = 3)
 	character*32 maa 	
         integer ni, n
Index: med-fichier-3.0.6/tests/f/2.3.6/test24.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test24.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test24.f
@@ -27,7 +27,8 @@ C
 	implicit none
 	include 'med.hf'
 C	
-	integer cret, fid,mdim,nmaa,npoly,i,j,k,taille
+        integer*8 fid
+	integer cret,mdim,nmaa,npoly,i,j,k,taille
 	character*32 maa
  	character*200 desc
         integer ni, n
Index: med-fichier-3.0.6/tests/f/2.3.6/test25.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test25.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test25.f
@@ -26,7 +26,8 @@ C
 	implicit none
 	include 'med.hf'
 C	
-	integer cret, fid,mdim
+        integer*8 fid
+	integer cret,mdim
 	parameter  (mdim = 3)
 	character*32 maa 	
         integer n
Index: med-fichier-3.0.6/tests/f/2.3.6/test26.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test26.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test26.f
@@ -27,7 +27,8 @@ C
 	implicit none
 	include 'med.hf'
 C	
-	integer cret,fid,mdim,nmaa,npoly,i,j,k,l
+        integer*8 fid
+	integer cret,mdim,nmaa,npoly,i,j,k,l
 	integer nfaces, nnoeuds
 	integer ind1, ind2
 	character*32 maa
Index: med-fichier-3.0.6/tests/f/2.3.6/test27.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test27.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test27.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C       
 C       
-	integer       cret, fid
+        integer*8     fid
+	integer       cret
 C       ** la dimension du maillage                         **
 	integer       mdim
 C       ** nom du maillage de longueur maxi MED_TAILLE_NOM  **
Index: med-fichier-3.0.6/tests/f/2.3.6/test28.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test28.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test28.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C       
 C       
-	integer       cret, fid,i,j
+        integer*8     fid
+	integer       cret,i,j
 C       ** la dimension du maillage                         **
 	integer       mdim,nind,nmaa,type,quoi,rep,typmaa
 C       ** nom du maillage de longueur maxi MED_TAILLE_NOM  **
Index: med-fichier-3.0.6/tests/f/2.3.6/test29.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test29.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test29.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C
 C
-        integer cret,fid, domdst
+        integer*8 fid
+        integer cret, domdst
         character*32 maa , jnt, maadst
         character*200 des
         integer mdim ,ncor
Index: med-fichier-3.0.6/tests/f/2.3.6/test31.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test31.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test31.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C
 C
-        integer cret,fid
+        integer*8 fid
+        integer cret
         character*32 maa
 	character*200 des
         integer nmaa, mdim , nnoe, type, ind
Index: med-fichier-3.0.6/tests/f/2.3.6/test32.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test32.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test32.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C
 C
-        integer cret,fid
+        integer*8 fid
+        integer cret
         character*32 maa
 	character*200 des
         integer nmaa, mdim ,  nnoe,type
Index: med-fichier-3.0.6/tests/f/2.3.6/test33.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test33.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test33.f
@@ -29,7 +29,8 @@ C
 	include 'med.hf'
 C
 C
-        integer cret,fid
+        integer*8 fid
+        integer cret
         character*32 maa 
 	character*200 desc
         integer nmaa,mdim,type,narr
Index: med-fichier-3.0.6/tests/f/2.3.6/test4.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test4.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test4.f
@@ -27,7 +27,8 @@ C
 	include 'med.hf'
 C       
 C       
-	integer cret, fid
+        integer*8 fid
+	integer cret
 	
 C       ** la dimension du maillage                         **
 	integer      mdim
Index: med-fichier-3.0.6/tests/f/2.3.6/test6.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test6.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test6.f
@@ -27,7 +27,8 @@ C
 	include 'med.hf'
 C
 C	
-	integer cret, fid
+        integer*8 fid
+	integer cret
 	
 	integer     mdim,nse2,ntr3
 	parameter  (nse2 = 5, ntr3 = 2, mdim = 2)
Index: med-fichier-3.0.6/tests/f/2.3.6/test8.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/2.3.6/test8.f
+++ med-fichier-3.0.6/tests/f/2.3.6/test8.f
@@ -26,7 +26,8 @@ C
 	implicit none
 	include 'med.hf'
 C
-        integer cret, fid
+        integer*8 fid
+        integer cret
         
         character*32  maa 
         integer       mdim
Index: med-fichier-3.0.6/tests/f/test12.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test12.f
+++ med-fichier-3.0.6/tests/f/test12.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C
 C
-        integer cret,fid
+        integer*8 fid
+        integer cret
         character*64 maa , equ 
         character*200 des
         integer mdim ,ncor, sdim
Index: med-fichier-3.0.6/tests/f/test16.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test16.f
+++ med-fichier-3.0.6/tests/f/test16.f
@@ -30,7 +30,8 @@ C
 	include 'med.hf'
 C	
 C
-	integer      cret, fid, mdim, nse2, ntr3, sdim
+        integer*8    fid
+	integer      cret, mdim, nse2, ntr3, sdim
 	character*64 maa
 	parameter    (mdim = 2,nse2 = 5,maa = "maa1", ntr3 = 2, sdim=2)
 	integer      se2   (2*nse2)
Index: med-fichier-3.0.6/tests/f/test18.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test18.f
+++ med-fichier-3.0.6/tests/f/test18.f
@@ -28,7 +28,7 @@ C
       include 'med.hf'
 C
 C
-      integer      fid
+      integer*8    fid
       integer      cret
       integer      maj,min,rel
       integer hdfok, medok
Index: med-fichier-3.0.6/tests/f/test23.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test23.f
+++ med-fichier-3.0.6/tests/f/test23.f
@@ -26,7 +26,8 @@ C
 	implicit none
 	include 'med.hf'
 C	
-	integer cret, fid,mdim,sdim
+        integer*8 fid
+	integer cret,mdim,sdim
 	parameter  (mdim = 2, sdim = 2)
 	character*64 maa 	
         integer ni, n
Index: med-fichier-3.0.6/tests/f/test24.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test24.f
+++ med-fichier-3.0.6/tests/f/test24.f
@@ -27,7 +27,8 @@ C
 	implicit none
 	include 'med.hf'
 C	
-	integer cret, fid,mdim,nmaa,npoly,i,j,k,taille
+        integer*8 fid
+	integer cret,mdim,nmaa,npoly,i,j,k,taille
         integer edim,nstep,stype,atype, chgt, tsf
 	character*64 maa
  	character*200 desc
Index: med-fichier-3.0.6/tests/f/test25.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test25.f
+++ med-fichier-3.0.6/tests/f/test25.f
@@ -26,7 +26,8 @@ C
 	implicit none
 	include 'med.hf'
 C	
-	integer cret, fid,mdim, sdim
+        integer*8 fid
+	integer cret,mdim, sdim
 	parameter  (mdim = 3, sdim = 3)
 	character*64 maa 	
         integer n
Index: med-fichier-3.0.6/tests/f/test26.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test26.f
+++ med-fichier-3.0.6/tests/f/test26.f
@@ -27,7 +27,8 @@ C
 	implicit none
 	include 'med.hf'
 C	
-	integer cret,fid,mdim,nmaa,npoly,i,j,k,l,nfindex
+        integer*8 fid
+	integer cret,mdim,nmaa,npoly,i,j,k,l,nfindex
         integer edim,nstep,stype,atype, chgt, tsf
 	integer nfaces, nnoeuds
 	integer ind1, ind2
Index: med-fichier-3.0.6/tests/f/test27.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test27.f
+++ med-fichier-3.0.6/tests/f/test27.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C       
 C       
-	integer       cret, fid
+        integer*8     fid
+	integer       cret
 C       ** la dimension du maillage                         **
 	integer       mdim,sdim
 C       ** nom du maillage de longueur maxi MED_TAILLE_NOM  **
Index: med-fichier-3.0.6/tests/f/test28.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test28.f
+++ med-fichier-3.0.6/tests/f/test28.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C       
 C       
-	integer       cret, fid,i,j
+        integer*8     fid
+	integer       cret,i,j
 C       ** la dimension du maillage                         **
 	integer       mdim,nind,nmaa,type,quoi,rep,typmaa
         integer       edim,nstep,stype,atype, chgt, tsf
Index: med-fichier-3.0.6/tests/f/test29.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test29.f
+++ med-fichier-3.0.6/tests/f/test29.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C
 C
-        integer cret,fid, domdst
+        integer*8 fid
+        integer cret,domdst
         character*64 maa , jnt, maadst
         character*200 des
         integer mdim ,ncor
Index: med-fichier-3.0.6/tests/f/test31.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test31.f
+++ med-fichier-3.0.6/tests/f/test31.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C
 C
-        integer cret,fid
+        integer*8 fid
+        integer cret
         character*64 maa
 	character*200 des
         integer nmaa, mdim , nnoe, type, ind,sdim
Index: med-fichier-3.0.6/tests/f/test32.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test32.f
+++ med-fichier-3.0.6/tests/f/test32.f
@@ -28,7 +28,8 @@ C
 	include 'med.hf'
 C
 C
-        integer cret,fid
+        integer*8 fid
+        integer cret
         character*64 maa
 	character*200 des
         integer nmaa, mdim ,nnoe,type,sdim
Index: med-fichier-3.0.6/tests/f/test33.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test33.f
+++ med-fichier-3.0.6/tests/f/test33.f
@@ -29,7 +29,8 @@ C
 	include 'med.hf'
 C
 C
-        integer cret,fid
+        integer*8 fid
+        integer cret
         character*64 maa 
 	character*200 desc
         integer nmaa,mdim,type,narr,chgt,tsf
Index: med-fichier-3.0.6/tests/f/test6.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test6.f
+++ med-fichier-3.0.6/tests/f/test6.f
@@ -27,7 +27,8 @@ C
 	include 'med.hf'
 C
 C	
-	integer cret, fid
+        integer*8 fid
+	integer cret
 	
 	integer     mdim,nse2,ntr3,sdim
 	parameter  (nse2=5, ntr3=2, mdim=2, sdim=2)
Index: med-fichier-3.0.6/tests/f/test8.f
===================================================================
--- med-fichier-3.0.6.orig/tests/f/test8.f
+++ med-fichier-3.0.6/tests/f/test8.f
@@ -26,7 +26,8 @@ C
 	implicit none
 	include 'med.hf'
 C
-        integer cret, fid
+        integer*8 fid
+        integer cret
         
         character*64  maa 
         integer       mdim, sdim
Index: med-fichier-3.0.6/src/cfi/medlinkcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medlinkcf.c
+++ med-fichier-3.0.6/src/cfi/medlinkcf.c
@@ -72,10 +72,10 @@ nmlnfliw(med_idt *fid, char *mname, med_
 
 #ifdef PPRO_NT
 med_int 
-MLNFNLN(med_int *fid)
+MLNFNLN(med_idt *fid)
 #else
 med_int 
-nmlnfnln(med_int *fid)
+nmlnfnln(med_idt *fid)
 #endif
 {
   med_int _ret; 
@@ -89,11 +89,11 @@ nmlnfnln(med_int *fid)
 
 #ifdef PPRO_NT
 med_int 
-MLNFLNI(med_int *fid, med_int *it, char*mname, unsigned int bidon1, 
+MLNFLNI(med_idt *fid, med_int *it, char*mname, unsigned int bidon1, 
 		  med_int *lsize)
 #else
 med_int
-nmlnflni(med_int *fid, med_int *it, char*mname, med_int *lsize)
+nmlnflni(med_idt *fid, med_int *it, char*mname, med_int *lsize)
 #endif
 {
   med_int _ret;
@@ -111,10 +111,10 @@ nmlnflni(med_int *fid, med_int *it, char
 
 #ifdef PPRO_NT
 med_int 
-MLNFLAI(med_int *fid, char*mname, unsigned int bidon1, med_int *mnamelen, med_int *lsize)
+MLNFLAI(med_idt *fid, char*mname, unsigned int bidon1, med_int *mnamelen, med_int *lsize)
 #else
 med_int
-nmlnflai(med_int *fid, char*mname, med_int *mnamelen, med_int *lsize)
+nmlnflai(med_idt *fid, char*mname, med_int *mnamelen, med_int *lsize)
 #endif
 {
   med_int _ret;
Index: med-fichier-3.0.6/src/cfi/medprofilecf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medprofilecf.c
+++ med-fichier-3.0.6/src/cfi/medprofilecf.c
@@ -67,10 +67,10 @@ nmpffprw(med_idt *fid, char *pname, med_
 
 #ifdef PPRO_NT
 med_int 
-MPFFNPF(med_int *fid)
+MPFFNPF(med_idt *fid)
 #else
 med_int 
-nmpffnpf(med_int *fid)
+nmpffnpf(med_idt *fid)
 #endif
 {
   med_int _ret; 
@@ -84,11 +84,11 @@ nmpffnpf(med_int *fid)
 
 #ifdef PPRO_NT
 med_int 
-MPFFPFI(med_int *fid, med_int *it, char*pname, unsigned int bidon1, 
+MPFFPFI(med_idt *fid, med_int *it, char*pname, unsigned int bidon1, 
 		  med_int *psize)
 #else
 med_int 
-nmpffpfi(med_int *fid, med_int *it, char*pname, med_int *psize)
+nmpffpfi(med_idt *fid, med_int *it, char*pname, med_int *psize)
 #endif
 {
   med_int _ret;
@@ -107,11 +107,11 @@ nmpffpfi(med_int *fid, med_int *it, char
 
 #ifdef PPRO_NT
 med_int 
-MPFFPSN(med_int *fid, char*pname, unsigned int bidon1, med_int *pnamelen, 
+MPFFPSN(med_idt *fid, char*pname, unsigned int bidon1, med_int *pnamelen, 
 		  med_int *psize)
 #else
 med_int 
-nmpffpsn(med_int *fid, char*pname, med_int *pnamelen, med_int *psize)
+nmpffpsn(med_idt *fid, char*pname, med_int *pnamelen, med_int *psize)
 #endif
 {
   med_int _ret=0;
Index: med-fichier-3.0.6/src/cfi/medlocalizationcf.c
===================================================================
--- med-fichier-3.0.6.orig/src/cfi/medlocalizationcf.c
+++ med-fichier-3.0.6/src/cfi/medlocalizationcf.c
@@ -88,10 +88,10 @@ nmlcflow(med_idt *fid, char *lname,med_i
 
 #ifdef PPRO_NT
 med_int 
-MLCFNLC(med_int *fid)
+MLCFNLC(med_idt *fid)
 #else
 med_int 
-nmlcfnlc(med_int *fid)
+nmlcfnlc(med_idt *fid)
 #endif
 {
   med_int _ret; 
@@ -105,14 +105,14 @@ nmlcfnlc(med_int *fid)
 
 #ifdef PPRO_NT
 med_int 
-MLCFLCI(med_int *fid, med_int *it, char*lname, unsigned int bidon1, 
+MLCFLCI(med_idt *fid, med_int *it, char*lname, unsigned int bidon1, 
 		  med_int *gtype, med_int *sdim, med_int nip, 
 		  char * giname, unsigned int bidon2,
 		  char * isname, unsigned int bidon3,
 		  med_int *nsmc, med_int *sgtype)
 #else
 med_int
-nmlcflci(med_int *fid, med_int *it, char *lname, med_int *gtype, med_int *sdim, 
+nmlcflci(med_idt *fid, med_int *it, char *lname, med_int *gtype, med_int *sdim, 
 	 med_int *nip,char * giname, char * isname,
 	 med_int *nsmc, med_int *sgtype)
 
@@ -147,14 +147,14 @@ nmlcflci(med_int *fid, med_int *it, char
 
 #ifdef PPRO_NT
 med_int
-MLCFLNI(med_int *fid, char*lname, unsigned int bidon1, med_int *lnamelen,
+MLCFLNI(med_idt *fid, char*lname, unsigned int bidon1, med_int *lnamelen,
 		  med_int *gtype, med_int *sdim, med_int nip,
 		  char * giname, unsigned int bidon2,
 		  char * isname, unsigned int bidon3,
 		  med_int *nsmc, med_int *sgtype)
 #else
 med_int
-nmlcflni(med_int *fid, char *lname,  med_int *lnamelen, med_int *gtype, med_int *sdim,
+nmlcflni(med_idt *fid, char *lname,  med_int *lnamelen, med_int *gtype, med_int *sdim,
 	 med_int *nip,char * giname, char * isname,
 	 med_int *nsmc, med_int *sgtype)
 #endif
Index: med-fichier-3.0.6/tests/parallel/getBlocksOfEntitiesPartition.c
===================================================================
--- med-fichier-3.0.6.orig/tests/parallel/getBlocksOfEntitiesPartition.c
+++ med-fichier-3.0.6/tests/parallel/getBlocksOfEntitiesPartition.c
@@ -71,7 +71,7 @@ void getContinuousBlocksOfEntities(const
     }
     ++(*start);
     *lastusedrank=_lastusedrank;
-    printf("My rank %d , start %l , stride %l , blocksize %l , count %l , lastblocksize %l\n",
+    printf("My rank %d , start %lld , stride %lld , blocksize %lld , count %lld , lastblocksize %lld\n",
 	   myrank,*start,*stride,*blocksize,*count,*lastblocksize);
     return;
 }
Index: med-fichier-3.0.6/tests/parallel/filterBlockOfentities.c
===================================================================
--- med-fichier-3.0.6.orig/tests/parallel/filterBlockOfentities.c
+++ med-fichier-3.0.6/tests/parallel/filterBlockOfentities.c
@@ -77,7 +77,7 @@
 /* #define USER_MODE MED_COMPACT */
 
 
-med_err generateFieldFile( const med_size nentities, const med_size nvaluesperentity, const med_size nconstituentpervalue,
+med_err generateFieldFile( const med_int nentities, const med_size nvaluesperentity, const med_size nconstituentpervalue,
 			   const med_switch_mode constituentmode,GetBlocksOfEntitiesType getBlockOfEntities, const med_int nbblocksperproc,
 			   GenerateDataType generateDatas,
 			   const med_storage_mode storagemode, const med_size profilearraysize,  const char * const fieldnameprefix,
@@ -99,7 +99,7 @@ med_err generateFieldFile( const med_siz
   med_size     _blocksize=0,_lastblocksize=0,_count=0,_stride=0,_start=0,_index=0;
   med_float    *_arrayvalues;
   med_filter   filter = MED_FILTER_INIT;
-  med_size     _nusedentities        = nentities;
+  med_int      _nusedentities        = nentities;
   med_size     _io_count                = nbblocksperproc;
   med_idt      _fidseq;
 
@@ -397,7 +397,7 @@ int main (int argc, char **argv)
 
   /* MAIN */
   med_size            _nbblocksperproc    = 0;
-  int           _nentities             = 0;
+  med_int          _nentities             = 0;
   int           _nvaluesperentity      = 0;
   int           _nconstituentpervalue  = 0;
 
Index: med-fichier-3.0.6/tests/parallel/generateFilterArray.c
===================================================================
--- med-fichier-3.0.6.orig/tests/parallel/generateFilterArray.c
+++ med-fichier-3.0.6/tests/parallel/generateFilterArray.c
@@ -27,7 +27,7 @@
 
 static int cmp(const med_int *p1, const med_int *p2) { return *p1-*p2; }
 
-med_err generateFilterArray( const med_size nentities, const med_size nvaluesperentity, const med_size nconstituentpervalue,
+med_err generateFilterArray( const med_int nentities, const med_size nvaluesperentity, const med_size nconstituentpervalue,
 			     const med_size profilearraysize, const med_int * const profilearray,
 			     med_int  * const nentitiesfiltered, med_int **filterarray ) {
 
Index: med-fichier-3.0.6/tests/parallel/generateFilterArray.h
===================================================================
--- med-fichier-3.0.6.orig/tests/parallel/generateFilterArray.h
+++ med-fichier-3.0.6/tests/parallel/generateFilterArray.h
@@ -22,7 +22,7 @@
 #include <med.h>
 #define MESGERR 1
 
-med_err generateFilterArray( const med_size nentities, const med_size nvaluesperentity, const med_size nconstituentpervalue,
+med_err generateFilterArray( const med_int nentities, const med_size nvaluesperentity, const med_size nconstituentpervalue,
 			     const med_size profilearraysize, const med_int * const profilearray,
 			     med_int  * const nentitiesfiltered, med_int **filterarray );
 
Index: med-fichier-3.0.6/src/ci/MEDfieldInterpInfo.c
===================================================================
--- med-fichier-3.0.6.orig/src/ci/MEDfieldInterpInfo.c
+++ med-fichier-3.0.6/src/ci/MEDfieldInterpInfo.c
@@ -34,7 +34,7 @@
 
 
 med_err
-MEDfieldInterpInfo( const med_int       fid,
+MEDfieldInterpInfo( const med_idt       fid,
 		   const char*   const fieldname,
 		         int           interpit,
 		         char*   const interpname
Index: med-fichier-3.0.6/src/ci/MEDfieldInterpWr.c
===================================================================
--- med-fichier-3.0.6.orig/src/ci/MEDfieldInterpWr.c
+++ med-fichier-3.0.6/src/ci/MEDfieldInterpWr.c
@@ -33,7 +33,7 @@
  */
 
 med_err
-MEDfieldInterpWr(const med_int fid,
+MEDfieldInterpWr(const med_idt fid,
 		 const char* const fieldname,
 		 const char* interpname
 		 )
Index: med-fichier-3.0.6/src/ci/MEDfieldnInterp.c
===================================================================
--- med-fichier-3.0.6.orig/src/ci/MEDfieldnInterp.c
+++ med-fichier-3.0.6/src/ci/MEDfieldnInterp.c
@@ -33,7 +33,7 @@
 
 med_int
 MEDfieldnInterp(
-		const med_int fid,
+		const med_idt fid,
 		const char* const fieldname
 		)
 {
Index: med-fichier-3.0.6/include/med_proto.h
===================================================================
--- med-fichier-3.0.6.orig/include/med_proto.h
+++ med-fichier-3.0.6/include/med_proto.h
@@ -829,19 +829,19 @@ MEDfield23nProfile(const med_idt fid,
 
 
 MEDC_EXPORT med_err
-MEDfieldInterpWr(const med_int fid,
+MEDfieldInterpWr(const med_idt fid,
 		 const char* const fieldname,
 		 const char* interpname);
 
 MEDC_EXPORT med_int
 MEDfieldnInterp(
-		const med_int fid,
+		const med_idt fid,
 		const char* const fieldname);
 
 
 MEDC_EXPORT med_err
 MEDfieldInterpInfo(
-		   const med_int       fid,
+		   const med_idt       fid,
 		   const char*   const fieldname,
 		         int           interpit,
 		         char*   const interpname
