--- obexftp-0.23/swig/ruby/ruby_wrap.c.orig	2009-02-17 18:30:40.000000000 +0000
+++ obexftp-0.23/swig/ruby/ruby_wrap.c	2012-06-02 23:31:54.000000000 +0100
@@ -2580,7 +2580,7 @@
     
     /* VALUE str = StringValue(argv[0]); // perhaps better? */
     arg2 = STR2CSTR(argv[0]);
-    arg3 = (int) RSTRING(argv[0])->len;
+    arg3 = (int) RSTRING_LEN(argv[0]);
     
     
     
